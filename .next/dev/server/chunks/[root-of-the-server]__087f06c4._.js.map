{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/devbridge/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/devbridge/src/lib/auth.ts"],"sourcesContent":["import { NextRequest } from 'next/server'\nimport jwt from 'jsonwebtoken'\nimport bcrypt from 'bcryptjs'\nimport { prisma } from './prisma'\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'fallback-secret-change-me'\n\nexport async function hashPassword(password: string): Promise<string> {\n  return bcrypt.hash(password, 12)\n}\n\nexport async function verifyPassword(password: string, hashedPassword: string): Promise<boolean> {\n  return bcrypt.compare(password, hashedPassword)\n}\n\nexport function generateToken(userId: string): string {\n  return jwt.sign({ userId }, JWT_SECRET, { expiresIn: '7d' })\n}\n\nexport function verifyToken(token: string): { userId: string } | null {\n  try {\n    return jwt.verify(token, JWT_SECRET) as { userId: string }\n  } catch {\n    return null\n  }\n}\n\nexport async function validateToken(request: NextRequest): Promise<string | null> {\n  const authHeader = request.headers.get('authorization')\n  if (!authHeader?.startsWith('Bearer ')) {\n    return null\n  }\n\n  const token = authHeader.slice(7)\n  const payload = verifyToken(token)\n  if (!payload) {\n    return null\n  }\n\n  return payload.userId\n}\n\nexport async function getAuthUser(request: NextRequest) {\n  const authHeader = request.headers.get('authorization')\n  if (!authHeader?.startsWith('Bearer ')) {\n    return null\n  }\n\n  const token = authHeader.slice(7)\n  const payload = verifyToken(token)\n  if (!payload) {\n    return null\n  }\n\n  const user = await prisma.user.findUnique({\n    where: { id: payload.userId },\n    select: { id: true, email: true, name: true, isAdmin: true }\n  })\n\n  return user\n}\n\n// Helper function to check if user is admin (for use with already-fetched user)\nexport function isAdminUser(user: { isAdmin?: boolean } | null): boolean {\n  return user?.isAdmin === true\n}\n\nexport async function getProjectByApiKey(apiKey: string) {\n  const project = await prisma.project.findUnique({\n    where: { apiKey }\n  })\n  return project\n}\n\nexport async function validateApiKey(request: NextRequest) {\n  const apiKey = request.headers.get('x-api-key')\n  if (!apiKey) {\n    return null\n  }\n  return getProjectByApiKey(apiKey)\n}\n\nexport async function validateAdmin(request: NextRequest) {\n  const authHeader = request.headers.get('authorization')\n  if (!authHeader?.startsWith('Bearer ')) {\n    return null\n  }\n\n  const token = authHeader.slice(7)\n  const payload = verifyToken(token)\n  if (!payload) {\n    return null\n  }\n\n  const user = await prisma.user.findUnique({\n    where: { id: payload.userId },\n    select: { id: true, email: true, name: true, isAdmin: true }\n  })\n\n  if (!user || !user.isAdmin) {\n    return null\n  }\n\n  return user\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAEtC,eAAe,aAAa,QAAgB;IACjD,OAAO,mMAAM,CAAC,IAAI,CAAC,UAAU;AAC/B;AAEO,eAAe,eAAe,QAAgB,EAAE,cAAsB;IAC3E,OAAO,mMAAM,CAAC,OAAO,CAAC,UAAU;AAClC;AAEO,SAAS,cAAc,MAAc;IAC1C,OAAO,2MAAG,CAAC,IAAI,CAAC;QAAE;IAAO,GAAG,YAAY;QAAE,WAAW;IAAK;AAC5D;AAEO,SAAS,YAAY,KAAa;IACvC,IAAI;QACF,OAAO,2MAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe,cAAc,OAAoB;IACtD,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,IAAI,CAAC,YAAY,WAAW,YAAY;QACtC,OAAO;IACT;IAEA,MAAM,QAAQ,WAAW,KAAK,CAAC;IAC/B,MAAM,UAAU,YAAY;IAC5B,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,OAAO,QAAQ,MAAM;AACvB;AAEO,eAAe,YAAY,OAAoB;IACpD,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,IAAI,CAAC,YAAY,WAAW,YAAY;QACtC,OAAO;IACT;IAEA,MAAM,QAAQ,WAAW,KAAK,CAAC;IAC/B,MAAM,UAAU,YAAY;IAC5B,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI,QAAQ,MAAM;QAAC;QAC5B,QAAQ;YAAE,IAAI;YAAM,OAAO;YAAM,MAAM;YAAM,SAAS;QAAK;IAC7D;IAEA,OAAO;AACT;AAGO,SAAS,YAAY,IAAkC;IAC5D,OAAO,MAAM,YAAY;AAC3B;AAEO,eAAe,mBAAmB,MAAc;IACrD,MAAM,UAAU,MAAM,gIAAM,CAAC,OAAO,CAAC,UAAU,CAAC;QAC9C,OAAO;YAAE;QAAO;IAClB;IACA,OAAO;AACT;AAEO,eAAe,eAAe,OAAoB;IACvD,MAAM,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC;IACnC,IAAI,CAAC,QAAQ;QACX,OAAO;IACT;IACA,OAAO,mBAAmB;AAC5B;AAEO,eAAe,cAAc,OAAoB;IACtD,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,IAAI,CAAC,YAAY,WAAW,YAAY;QACtC,OAAO;IACT;IAEA,MAAM,QAAQ,WAAW,KAAK,CAAC;IAC/B,MAAM,UAAU,YAAY;IAC5B,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI,QAAQ,MAAM;QAAC;QAC5B,QAAQ;YAAE,IAAI;YAAM,OAAO;YAAM,MAAM;YAAM,SAAS;QAAK;IAC7D;IAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,OAAO,EAAE;QAC1B,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/devbridge/src/app/api/localization/translations/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\nimport { verifyToken } from '@/lib/auth'\n\n// GET - Fetch translations for a project (SDK endpoint optimized format)\nexport async function GET(request: NextRequest) {\n  try {\n    const projectId = request.nextUrl.searchParams.get('projectId')\n    const languageCode = request.nextUrl.searchParams.get('lang')\n\n    if (!projectId) {\n      return NextResponse.json({ error: 'Missing projectId' }, { status: 400 })\n    }\n\n    // Check for API key first (SDK access)\n    const apiKey = request.headers.get('x-api-key')\n    if (apiKey) {\n      const project = await prisma.project.findFirst({\n        where: { id: projectId, apiKey }\n      })\n      if (!project) {\n        return NextResponse.json({ error: 'Invalid API key' }, { status: 401 })\n      }\n\n      // Validate subscription and feature access\n      const { validateSubscription } = await import('@/lib/subscription-validation')\n      const validation = await validateSubscription(project.userId)\n      if (!validation.valid) {\n        return NextResponse.json({\n          translations: {},\n          error: validation.error || 'Subscription invalid',\n          message: validation.error || 'Please upgrade to continue using DevBridge.'\n        }, { status: 403 })\n      }\n    } else {\n      // Dashboard access via JWT\n      const authHeader = request.headers.get('authorization')\n      if (!authHeader) {\n        return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n      }\n\n      const token = authHeader.replace('Bearer ', '')\n      const payload = verifyToken(token)\n\n      if (!payload) {\n        return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n      }\n\n      // Verify project ownership\n      const project = await prisma.project.findFirst({\n        where: { id: projectId, userId: payload.userId }\n      })\n\n      if (!project) {\n        return NextResponse.json({ error: 'Project not found' }, { status: 404 })\n      }\n    }\n\n    // Find the language by code or get default\n    let language\n    if (languageCode) {\n      language = await prisma.language.findFirst({\n        where: { projectId, code: languageCode, isEnabled: true }\n      })\n    }\n\n    // If no language found or not specified, get default\n    if (!language) {\n      language = await prisma.language.findFirst({\n        where: { projectId, isDefault: true, isEnabled: true }\n      })\n    }\n\n    // If still no language, get the first enabled language\n    if (!language) {\n      language = await prisma.language.findFirst({\n        where: { projectId, isEnabled: true }\n      })\n    }\n\n    if (!language) {\n      return NextResponse.json({\n        translations: {},\n        language: null,\n        message: 'No languages configured'\n      })\n    }\n\n    // Get all translations for this language\n    const translations = await prisma.translation.findMany({\n      where: {\n        projectId,\n        languageId: language.id\n      },\n      include: {\n        key: {\n          select: {\n            key: true,\n            category: true\n          }\n        }\n      }\n    })\n\n    // Format as key-value object for SDK consumption\n    const translationsObject: Record<string, string> = {}\n    for (const t of translations) {\n      translationsObject[t.key.key] = t.value\n    }\n\n    return NextResponse.json({\n      translations: translationsObject,\n      language: {\n        code: language.code,\n        name: language.name,\n        isRTL: language.isRTL\n      }\n    })\n  } catch (error) {\n    console.error('Get translations error:', error)\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\n  }\n}\n\n// POST - Create or update a translation\nexport async function POST(request: NextRequest) {\n  try {\n    const authHeader = request.headers.get('authorization')\n\n    if (!authHeader) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const token = authHeader.replace('Bearer ', '')\n    const payload = verifyToken(token)\n\n    if (!payload) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const body = await request.json()\n    const { keyId, languageId, value } = body\n\n    if (!keyId || !languageId) {\n      return NextResponse.json({ error: 'Missing required fields' }, { status: 400 })\n    }\n\n    // Find the key and verify ownership\n    const localizationKey = await prisma.localizationKey.findUnique({\n      where: { id: keyId },\n      include: { project: true }\n    })\n\n    if (!localizationKey || localizationKey.project.userId !== payload.userId) {\n      return NextResponse.json({ error: 'Key not found' }, { status: 404 })\n    }\n\n    // Verify language belongs to same project\n    const language = await prisma.language.findUnique({\n      where: { id: languageId }\n    })\n\n    if (!language || language.projectId !== localizationKey.projectId) {\n      return NextResponse.json({ error: 'Language not found' }, { status: 404 })\n    }\n\n    // Get existing translation for history tracking\n    const existingTranslation = await prisma.translation.findUnique({\n      where: {\n        keyId_languageId: {\n          keyId,\n          languageId\n        }\n      }\n    })\n\n    // Upsert the translation\n    const translation = await prisma.translation.upsert({\n      where: {\n        keyId_languageId_pluralForm: {\n          keyId,\n          languageId,\n          pluralForm: body.pluralForm || null\n        }\n      },\n      update: {\n        value: value || '',\n        isReviewed: body.isReviewed ?? false,\n        translationProvider: body.translationProvider || null,\n        translationConfidence: body.translationConfidence || null,\n        translationCost: body.translationCost || null,\n        hasVariables: body.hasVariables ?? false\n      },\n      create: {\n        projectId: localizationKey.projectId,\n        keyId,\n        languageId,\n        value: value || '',\n        isReviewed: body.isReviewed ?? false,\n        translationProvider: body.translationProvider || null,\n        translationConfidence: body.translationConfidence || null,\n        translationCost: body.translationCost || null,\n        pluralForm: body.pluralForm || null,\n        hasVariables: body.hasVariables ?? false\n      },\n      include: {\n        key: {\n          select: {\n            key: true\n          }\n        },\n        language: {\n          select: {\n            code: true,\n            name: true\n          }\n        }\n      }\n    })\n\n    // Track history if value changed\n    if (existingTranslation && existingTranslation.value !== translation.value) {\n      await prisma.translationHistory.create({\n        data: {\n          translationId: translation.id,\n          projectId: localizationKey.projectId,\n          userId: payload.userId,\n          userName: payload.name || payload.email,\n          oldValue: existingTranslation.value,\n          newValue: translation.value,\n          changeType: 'updated',\n          metadata: {\n            provider: translation.translationProvider,\n            confidence: translation.translationConfidence\n          }\n        }\n      })\n    } else if (!existingTranslation) {\n      // Track creation\n      await prisma.translationHistory.create({\n        data: {\n          translationId: translation.id,\n          projectId: localizationKey.projectId,\n          userId: payload.userId,\n          userName: payload.name || payload.email,\n          newValue: translation.value,\n          changeType: 'created',\n          metadata: {\n            provider: translation.translationProvider,\n            confidence: translation.translationConfidence\n          }\n        }\n      })\n    }\n\n    // Update translation memory if source language is available\n    if (value && body.sourceLanguageId && body.sourceText) {\n      await prisma.translationMemory.upsert({\n        where: {\n          projectId_sourceLanguageId_targetLanguageId_sourceText: {\n            projectId: localizationKey.projectId,\n            sourceLanguageId: body.sourceLanguageId,\n            targetLanguageId: languageId,\n            sourceText: body.sourceText\n          }\n        },\n        update: {\n          targetText: value,\n          usageCount: { increment: 1 },\n          lastUsedAt: new Date()\n        },\n        create: {\n          projectId: localizationKey.projectId,\n          sourceLanguageId: body.sourceLanguageId,\n          targetLanguageId: languageId,\n          sourceText: body.sourceText,\n          targetText: value\n        }\n      })\n    }\n\n    return NextResponse.json({ translation })\n  } catch (error) {\n    console.error('Save translation error:', error)\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\n  }\n}\n\n// PUT - Bulk update translations\nexport async function PUT(request: NextRequest) {\n  try {\n    const authHeader = request.headers.get('authorization')\n\n    if (!authHeader) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const token = authHeader.replace('Bearer ', '')\n    const payload = verifyToken(token)\n\n    if (!payload) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const body = await request.json()\n    const { projectId, translations } = body\n\n    if (!projectId || !translations || !Array.isArray(translations)) {\n      return NextResponse.json({ error: 'Missing required fields' }, { status: 400 })\n    }\n\n    // Verify project ownership\n    const project = await prisma.project.findFirst({\n      where: { id: projectId, userId: payload.userId }\n    })\n\n    if (!project) {\n      return NextResponse.json({ error: 'Project not found' }, { status: 404 })\n    }\n\n    // Process bulk updates\n    const results = []\n    for (const t of translations) {\n      const { keyId, languageId, value } = t\n\n      if (!keyId || !languageId) continue\n\n      const translation = await prisma.translation.upsert({\n        where: {\n          keyId_languageId: {\n            keyId,\n            languageId\n          }\n        },\n        update: {\n          value: value || ''\n        },\n        create: {\n          projectId,\n          keyId,\n          languageId,\n          value: value || ''\n        }\n      })\n\n      results.push(translation)\n    }\n\n    return NextResponse.json({ updated: results.length })\n  } catch (error) {\n    console.error('Bulk update translations error:', error)\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\n  }\n}\n\n// DELETE - Delete a translation\nexport async function DELETE(request: NextRequest) {\n  try {\n    const authHeader = request.headers.get('authorization')\n    const translationId = request.nextUrl.searchParams.get('id')\n\n    if (!authHeader) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    const token = authHeader.replace('Bearer ', '')\n    const payload = verifyToken(token)\n\n    if (!payload) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    if (!translationId) {\n      return NextResponse.json({ error: 'Missing translation id' }, { status: 400 })\n    }\n\n    // Find the translation and verify ownership through key\n    const translation = await prisma.translation.findUnique({\n      where: { id: translationId },\n      include: {\n        key: {\n          include: {\n            project: true\n          }\n        }\n      }\n    })\n\n    if (!translation || translation.key.project.userId !== payload.userId) {\n      return NextResponse.json({ error: 'Translation not found' }, { status: 404 })\n    }\n\n    await prisma.translation.delete({\n      where: { id: translationId }\n    })\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error('Delete translation error:', error)\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":"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"}}]
}