{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/devbridge/src/app/%28dashboard%29/admin/configurations/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useAuth } from '@/components/AuthProvider'\nimport { api } from '@/lib/api'\n\ntype ConfigurationCategory = \n  | 'notifications'\n  | 'payment'\n  | 'machine_translation'\n  | 'email'\n  | 'sms'\n  | 'webhooks'\n  | 'general'\n\ninterface Configuration {\n  id: string\n  category: string\n  key: string\n  value: string\n  encrypted: boolean\n  description: string | null\n  isActive: boolean\n  metadata: Record<string, any> | null\n  updatedBy: string | null\n  createdAt: string\n  updatedAt: string\n}\n\nconst CATEGORY_CONFIGS: Record<ConfigurationCategory, {\n  label: string\n  description: string\n  defaultConfigs: Array<{\n    key: string\n    label: string\n    description: string\n    type: 'text' | 'password' | 'number' | 'boolean' | 'json'\n    encrypted?: boolean\n    required?: boolean\n  }>\n}> = {\n  notifications: {\n    label: 'Notifications',\n    description: 'Configure notification channels (email, SMS, push)',\n    defaultConfigs: [\n      { key: 'email_enabled', label: 'Email Enabled', description: 'Enable email notifications', type: 'boolean' },\n      { key: 'sms_enabled', label: 'SMS Enabled', description: 'Enable SMS notifications', type: 'boolean' },\n      { key: 'push_enabled', label: 'Push Enabled', description: 'Enable push notifications', type: 'boolean' }\n    ]\n  },\n  payment: {\n    label: 'Payment',\n    description: 'Configure payment providers (Stripe, etc.)',\n    defaultConfigs: [\n      { key: 'stripe_secret_key', label: 'Stripe Secret Key', description: 'Stripe secret key for payment processing', type: 'password', encrypted: true, required: true },\n      { key: 'stripe_publishable_key', label: 'Stripe Publishable Key', description: 'Stripe publishable key for client-side', type: 'password', encrypted: true },\n      { key: 'stripe_webhook_secret', label: 'Stripe Webhook Secret', description: 'Stripe webhook secret for verifying webhooks', type: 'password', encrypted: true },\n      { key: 'currency', label: 'Default Currency', description: 'Default currency code (e.g., USD)', type: 'text' }\n    ]\n  },\n  machine_translation: {\n    label: 'Machine Translation',\n    description: 'Configure MT providers (Google, DeepL, Azure)',\n    defaultConfigs: [\n      { key: 'google_api_key', label: 'Google Translate API Key', description: 'Google Cloud Translation API key', type: 'password', encrypted: true },\n      { key: 'deepl_api_key', label: 'DeepL API Key', description: 'DeepL API key', type: 'password', encrypted: true },\n      { key: 'azure_api_key', label: 'Azure Translator API Key', description: 'Azure Cognitive Services Translator API key', type: 'password', encrypted: true },\n      { key: 'azure_region', label: 'Azure Region', description: 'Azure region (e.g., global, eastus)', type: 'text' },\n      { key: 'default_provider', label: 'Default Provider', description: 'Default MT provider (google, deepl, azure)', type: 'text' }\n    ]\n  },\n  email: {\n    label: 'Email',\n    description: 'Configure SMTP settings for email delivery',\n    defaultConfigs: [\n      { key: 'smtp_host', label: 'SMTP Host', description: 'SMTP server hostname', type: 'text', required: true },\n      { key: 'smtp_port', label: 'SMTP Port', description: 'SMTP server port (usually 587 or 465)', type: 'number', required: true },\n      { key: 'smtp_username', label: 'SMTP Username', description: 'SMTP authentication username', type: 'text', required: true },\n      { key: 'smtp_password', label: 'SMTP Password', description: 'SMTP authentication password', type: 'password', encrypted: true, required: true },\n      { key: 'smtp_secure', label: 'Use TLS/SSL', description: 'Enable TLS/SSL encryption', type: 'boolean' },\n      { key: 'from_email', label: 'From Email', description: 'Default sender email address', type: 'text', required: true },\n      { key: 'from_name', label: 'From Name', description: 'Default sender name', type: 'text' }\n    ]\n  },\n  sms: {\n    label: 'SMS',\n    description: 'Configure SMS provider settings',\n    defaultConfigs: [\n      { key: 'provider', label: 'SMS Provider', description: 'SMS provider (twilio, aws_sns, etc.)', type: 'text' },\n      { key: 'api_key', label: 'API Key', description: 'SMS provider API key', type: 'password', encrypted: true },\n      { key: 'api_secret', label: 'API Secret', description: 'SMS provider API secret', type: 'password', encrypted: true },\n      { key: 'from_number', label: 'From Number', description: 'Default sender phone number', type: 'text' }\n    ]\n  },\n  webhooks: {\n    label: 'Webhooks',\n    description: 'Configure webhook settings',\n    defaultConfigs: [\n      { key: 'default_url', label: 'Default Webhook URL', description: 'Default webhook URL for notifications', type: 'text' },\n      { key: 'timeout_seconds', label: 'Timeout (seconds)', description: 'Webhook request timeout', type: 'number' },\n      { key: 'retry_attempts', label: 'Retry Attempts', description: 'Number of retry attempts for failed webhooks', type: 'number' }\n    ]\n  },\n  general: {\n    label: 'General',\n    description: 'General system settings',\n    defaultConfigs: [\n      { key: 'app_name', label: 'App Name', description: 'Application name', type: 'text' },\n      { key: 'app_url', label: 'App URL', description: 'Application base URL', type: 'text' },\n      { key: 'support_email', label: 'Support Email', description: 'Support email address', type: 'text' }\n    ]\n  }\n}\n\nexport default function AdminConfigurationsPage() {\n  const { token } = useAuth()\n  const [configurations, setConfigurations] = useState<Configuration[]>([])\n  const [loading, setLoading] = useState(true)\n  const [activeCategory, setActiveCategory] = useState<ConfigurationCategory>('general')\n  const [editingConfig, setEditingConfig] = useState<{ category: string; key: string; value: string; encrypted: boolean } | null>(null)\n  const [formData, setFormData] = useState<Record<string, string>>({})\n  const [saving, setSaving] = useState(false)\n  const [testing, setTesting] = useState<string | null>(null)\n  const [testResult, setTestResult] = useState<any>(null)\n\n  useEffect(() => {\n    if (token) {\n      loadConfigurations()\n    }\n  }, [token, activeCategory])\n\n  const loadConfigurations = async () => {\n    try {\n      setLoading(true)\n      const data = await api.admin.getConfigurations(token, activeCategory)\n      setConfigurations(data.configurations)\n      \n      // Initialize form data with existing values\n      const formDataInit: Record<string, string> = {}\n      data.configurations.forEach(config => {\n        formDataInit[config.key] = config.encrypted ? '' : (config.value || '')\n      })\n      setFormData(formDataInit)\n    } catch (error) {\n      console.error('Failed to load configurations:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSave = async (key: string, value: string, encrypted: boolean) => {\n    try {\n      setSaving(true)\n      const configDef = CATEGORY_CONFIGS[activeCategory].defaultConfigs.find(c => c.key === key)\n      \n      await api.admin.saveConfiguration({\n        category: activeCategory,\n        key,\n        value: encrypted && !value ? undefined : value, // Don't update if encrypted and empty\n        encrypted: encrypted || configDef?.encrypted || false,\n        description: configDef?.description,\n        isActive: true\n      }, token)\n      \n      await loadConfigurations()\n      setEditingConfig(null)\n      setTestResult(null)\n    } catch (error) {\n      alert('Failed to save configuration: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleTest = async (key: string, testType: string) => {\n    try {\n      setTesting(key)\n      setTestResult(null)\n      \n      let testData: any = {}\n      \n      // Prepare test data based on category and key\n      if (activeCategory === 'machine_translation') {\n        testData = {\n          provider: key.includes('google') ? 'google' : key.includes('deepl') ? 'deepl' : 'azure',\n          sourceText: 'Hello, world!',\n          sourceLang: 'en',\n          targetLang: 'es'\n        }\n      } else if (activeCategory === 'webhooks' && key === 'default_url') {\n        testData = {}\n      } else if (activeCategory === 'payment' && key === 'stripe_secret_key') {\n        testData = {}\n      }\n      \n      const result = await api.admin.testConfiguration(activeCategory, key, testType, testData, token)\n      setTestResult({ key, ...result.testResult })\n    } catch (error) {\n      setTestResult({\n        key,\n        success: false,\n        message: error instanceof Error ? error.message : 'Test failed'\n      })\n    } finally {\n      setTesting(null)\n    }\n  }\n\n  const getTestType = (category: ConfigurationCategory, key: string): string => {\n    if (category === 'payment' && key.includes('stripe')) return 'payment'\n    if (category === 'machine_translation') return 'machine_translation'\n    if (category === 'email') return 'email'\n    if (category === 'sms') return 'sms'\n    if (category === 'webhooks') return 'webhook'\n    return 'general'\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-gray-400\">Loading configurations...</div>\n      </div>\n    )\n  }\n\n  const categoryConfig = CATEGORY_CONFIGS[activeCategory]\n  const categoryConfigs = configurations.filter(c => c.category === activeCategory)\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white\">System Configuration</h1>\n          <p className=\"text-gray-400 mt-1\">Manage system-wide settings and integrations</p>\n        </div>\n      </div>\n\n      {/* Category Tabs */}\n      <div className=\"flex flex-wrap gap-2 border-b border-gray-800 pb-4\">\n        {(Object.keys(CATEGORY_CONFIGS) as ConfigurationCategory[]).map(category => (\n          <button\n            key={category}\n            onClick={() => {\n              setActiveCategory(category)\n              setEditingConfig(null)\n              setTestResult(null)\n            }}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              activeCategory === category\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-800 text-gray-400 hover:text-white hover:bg-gray-750'\n            }`}\n          >\n            {CATEGORY_CONFIGS[category].label}\n          </button>\n        ))}\n      </div>\n\n      {/* Category Description */}\n      <div className=\"bg-gray-900 rounded-lg p-4 border border-gray-800\">\n        <h2 className=\"text-lg font-semibold text-white mb-1\">{categoryConfig.label}</h2>\n        <p className=\"text-gray-400 text-sm\">{categoryConfig.description}</p>\n      </div>\n\n      {/* Configurations List */}\n      <div className=\"space-y-4\">\n        {categoryConfig.defaultConfigs.map(configDef => {\n          const existingConfig = categoryConfigs.find(c => c.key === configDef.key)\n          const isEditing = editingConfig?.key === configDef.key\n          const value = isEditing\n            ? editingConfig.value\n            : existingConfig\n            ? (existingConfig.encrypted ? '[ENCRYPTED]' : existingConfig.value || '')\n            : ''\n          const isEncrypted = configDef.encrypted || existingConfig?.encrypted || false\n\n          return (\n            <div key={configDef.key} className=\"bg-gray-900 rounded-lg p-4 border border-gray-800\">\n              <div className=\"flex items-start justify-between mb-3\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <h3 className=\"text-white font-medium\">{configDef.label}</h3>\n                    {isEncrypted && (\n                      <span className=\"px-2 py-0.5 bg-yellow-600/20 text-yellow-400 text-xs rounded\">Encrypted</span>\n                    )}\n                    {existingConfig && !existingConfig.isActive && (\n                      <span className=\"px-2 py-0.5 bg-gray-600/20 text-gray-400 text-xs rounded\">Inactive</span>\n                    )}\n                  </div>\n                  <p className=\"text-gray-400 text-sm\">{configDef.description}</p>\n                  {existingConfig && (\n                    <p className=\"text-gray-500 text-xs mt-1\">\n                      Last updated: {new Date(existingConfig.updatedAt).toLocaleString()}\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {getTestType(activeCategory, configDef.key) !== 'general' && (\n                    <button\n                      onClick={() => handleTest(configDef.key, getTestType(activeCategory, configDef.key))}\n                      disabled={testing === configDef.key || !existingConfig}\n                      className=\"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                    >\n                      {testing === configDef.key ? 'Testing...' : 'Test'}\n                    </button>\n                  )}\n                  <button\n                    onClick={() => {\n                      setEditingConfig({\n                        category: activeCategory,\n                        key: configDef.key,\n                        value: existingConfig && !existingConfig.encrypted ? existingConfig.value || '' : '',\n                        encrypted: isEncrypted\n                      })\n                      setTestResult(null)\n                    }}\n                    className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors\"\n                  >\n                    {existingConfig ? 'Edit' : 'Add'}\n                  </button>\n                </div>\n              </div>\n\n              {/* Test Result */}\n              {testResult && testResult.key === configDef.key && (\n                <div className={`mb-3 p-3 rounded-lg border ${\n                  testResult.success\n                    ? 'bg-green-900/20 border-green-600 text-green-300'\n                    : 'bg-red-900/20 border-red-600 text-red-300'\n                }`}>\n                  <p className=\"text-sm font-medium\">{testResult.success ? '✓ Test Passed' : '✗ Test Failed'}</p>\n                  <p className=\"text-xs mt-1\">{testResult.message}</p>\n                  {testResult.result && (\n                    <pre className=\"text-xs mt-2 bg-gray-800 p-2 rounded overflow-auto\">\n                      {JSON.stringify(testResult.result, null, 2)}\n                    </pre>\n                  )}\n                </div>\n              )}\n\n              {/* Edit Form */}\n              {isEditing && (\n                <div className=\"mt-4 pt-4 border-t border-gray-800\">\n                  <div className=\"space-y-3\">\n                    {configDef.type === 'boolean' ? (\n                      <label className=\"flex items-center gap-2 cursor-pointer\">\n                        <input\n                          type=\"checkbox\"\n                          checked={editingConfig.value === 'true'}\n                          onChange={(e) => setEditingConfig({ ...editingConfig, value: e.target.checked ? 'true' : 'false' })}\n                          className=\"rounded bg-gray-800 border-gray-700\"\n                        />\n                        <span className=\"text-gray-300 text-sm\">Enabled</span>\n                      </label>\n                    ) : (\n                      <input\n                        type={configDef.type === 'password' || isEncrypted ? 'password' : configDef.type === 'number' ? 'number' : 'text'}\n                        value={editingConfig.value}\n                        onChange={(e) => setEditingConfig({ ...editingConfig, value: e.target.value })}\n                        placeholder={isEncrypted && !existingConfig ? 'Enter new value' : `Enter ${configDef.label.toLowerCase()}`}\n                        className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                      />\n                    )}\n                    <div className=\"flex justify-end gap-2\">\n                      <button\n                        onClick={() => {\n                          setEditingConfig(null)\n                          setTestResult(null)\n                        }}\n                        className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n                        disabled={saving}\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        onClick={() => handleSave(editingConfig.key, editingConfig.value, editingConfig.encrypted)}\n                        disabled={saving || (configDef.required && !editingConfig.value)}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                      >\n                        {saving ? 'Saving...' : 'Save'}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Display Value (when not editing) */}\n              {!isEditing && (\n                <div className=\"mt-2\">\n                  <div className=\"bg-gray-800 rounded-lg px-3 py-2\">\n                    <code className=\"text-sm text-gray-300 break-all\">\n                      {value || <span className=\"text-gray-500 italic\">Not configured</span>}\n                    </code>\n                  </div>\n                </div>\n              )}\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}