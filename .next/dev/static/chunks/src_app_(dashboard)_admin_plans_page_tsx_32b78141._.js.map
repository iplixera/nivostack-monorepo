{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/devbridge/src/app/%28dashboard%29/admin/plans/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useAuth } from '@/components/AuthProvider'\nimport { api } from '@/lib/api'\nimport Link from 'next/link'\n\ntype EnforcementConfig = {\n  warnThreshold?: number\n  hardThreshold?: number\n  gracePeriodHours?: number\n  overageBufferPercent?: number\n  moduleRules?: {\n    apiTraces?: {\n      samplingRate?: number\n      dropResponseBodies?: boolean\n    }\n    logs?: {\n      prioritizeCrashes?: boolean\n      minRetentionDays?: number\n    }\n    sessions?: {\n      samplingRate?: number\n      capEventsPerSession?: number\n    }\n    businessConfig?: {\n      freezePublishing?: boolean\n      serveLastPublished?: boolean\n    }\n    localization?: {\n      freezePublishing?: boolean\n      serveLastPublished?: boolean\n    }\n  }\n}\n\ntype Plan = {\n  id: string\n  name: string\n  displayName: string\n  description: string | null\n  price: number\n  currency: string\n  interval: string\n  isActive: boolean\n  isPublic: boolean\n  maxProjects: number | null\n  maxDevices: number | null\n  maxMockEndpoints: number | null\n  maxApiEndpoints: number | null\n  maxApiRequests: number | null\n  maxLogs: number | null\n  maxSessions: number | null\n  maxCrashes: number | null\n  maxBusinessConfigKeys: number | null\n  maxLocalizationLanguages: number | null\n  maxLocalizationKeys: number | null\n  retentionDays: number | null\n  allowApiTracking: boolean\n  allowScreenTracking: boolean\n  allowCrashReporting: boolean\n  allowLogging: boolean\n  allowBusinessConfig: boolean\n  allowLocalization: boolean\n  allowCustomDomains: boolean\n  allowWebhooks: boolean\n  allowTeamMembers: boolean\n  allowPrioritySupport: boolean\n  enforcementConfig?: EnforcementConfig | null\n  _count: {\n    subscriptions: number\n  }\n}\n\nexport default function AdminPlansPage() {\n  const { token } = useAuth()\n  const [plans, setPlans] = useState<Plan[]>([])\n  const [allPlans, setAllPlans] = useState<Plan[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState('')\n  const [editingPlan, setEditingPlan] = useState<Plan | null>(null)\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [formData, setFormData] = useState<Partial<Plan>>({})\n  const [showTestPlans, setShowTestPlans] = useState(false)\n\n  useEffect(() => {\n    if (!token) return\n    loadPlans()\n  }, [token])\n\n  useEffect(() => {\n    if (allPlans && allPlans.length > 0) {\n      const filtered = showTestPlans \n        ? allPlans \n        : allPlans.filter(p => p.name && !p.name.startsWith('test_'))\n      setPlans(filtered)\n    } else {\n      setPlans([])\n    }\n  }, [showTestPlans, allPlans])\n\n  const loadPlans = async () => {\n    try {\n      setLoading(true)\n      setError('')\n      const data = await api.admin.getPlans(token!)\n      if (data && data.plans) {\n        setAllPlans(data.plans || [])\n        // Filter out test plans by default\n        const filtered = showTestPlans \n          ? (data.plans || [])\n          : (data.plans || []).filter(p => !p.name.startsWith('test_'))\n        setPlans(filtered)\n      } else {\n        setAllPlans([])\n        setPlans([])\n      }\n    } catch (err) {\n      console.error('Failed to load plans:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load plans')\n      setAllPlans([])\n      setPlans([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (allPlans && allPlans.length > 0) {\n      const filtered = showTestPlans \n        ? allPlans \n        : allPlans.filter(p => p.name && !p.name.startsWith('test_'))\n      setPlans(filtered)\n    } else {\n      setPlans([])\n    }\n  }, [showTestPlans, allPlans])\n\n  const handleCreate = async () => {\n    try {\n      if (!formData.name || !formData.displayName || formData.price === undefined) {\n        setError('Name, Display Name, and Price are required')\n        return\n      }\n\n      await api.admin.createPlan(formData, token!)\n      setShowCreateModal(false)\n      setFormData({})\n      loadPlans()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to create plan')\n    }\n  }\n\n  const handleUpdate = async (planId: string) => {\n    try {\n      await api.admin.updatePlan(planId, formData, token!)\n      setEditingPlan(null)\n      setFormData({})\n      loadPlans()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to update plan')\n    }\n  }\n\n  const handleDelete = async (planId: string) => {\n    if (!confirm('Are you sure you want to delete this plan? This cannot be undone if there are active subscriptions.')) {\n      return\n    }\n\n    try {\n      await api.admin.deletePlan(planId, token!)\n      loadPlans()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete plan')\n    }\n  }\n\n  const handleDeleteTestPlans = async () => {\n    if (!token) return\n    \n    try {\n      const testPlans = (allPlans || []).filter(p => p.name && p.name.startsWith('test_'))\n      for (const plan of testPlans) {\n        try {\n          await api.admin.deletePlan(plan.id, token)\n        } catch (err) {\n          console.error(`Failed to delete plan ${plan.name}:`, err)\n        }\n      }\n      loadPlans()\n      alert(`Deleted ${testPlans.length} test plan(s)`)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete test plans')\n    }\n  }\n\n  const formatLimit = (value: number | null) => {\n    if (value === null) return 'Unlimited'\n    return value.toLocaleString()\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-gray-400\">Loading plans...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Plan Management</h1>\n          <p className=\"text-gray-400\">Create, edit, and manage subscription plans</p>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            ðŸ’¡ Configure plan limits, features, and pricing. Then assign plans to users in{' '}\n            <Link href=\"/admin/subscriptions\" className=\"text-blue-400 hover:text-blue-300 underline\">\n              Subscription Management\n            </Link>\n          </p>\n        </div>\n        <div className=\"flex gap-3\">\n          <Link\n            href=\"/admin\"\n            className=\"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors\"\n          >\n            Back to Dashboard\n          </Link>\n          <Link\n            href=\"/admin/subscriptions/create\"\n            className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Assign Plan to User\n          </Link>\n          <button\n            onClick={() => {\n              setFormData({})\n              setShowCreateModal(true)\n            }}\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Create Plan\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-900/20 border border-red-600 text-red-400 px-4 py-3 rounded-lg\">\n          {error}\n        </div>\n      )}\n\n      {/* Filter Toggle */}\n      <div className=\"flex items-center justify-between bg-gray-900 rounded-lg p-4 border border-gray-800\">\n        <div className=\"flex items-center gap-4\">\n          <label className=\"flex items-center gap-2 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={showTestPlans}\n              onChange={(e) => setShowTestPlans(e.target.checked)}\n              className=\"rounded\"\n            />\n            <span className=\"text-sm text-gray-300\">Show Test Plans</span>\n          </label>\n            <span className=\"text-sm text-gray-500\">\n            Showing {plans?.length ?? 0} of {allPlans?.length ?? 0} plans\n          </span>\n        </div>\n        {!showTestPlans && (allPlans?.length ?? 0) > (plans?.length ?? 0) && (\n          <button\n            onClick={() => {\n              const testPlanCount = (allPlans?.length ?? 0) - (plans?.length ?? 0)\n              if (testPlanCount > 0 && confirm(`Delete ${testPlanCount} test plan(s)? This cannot be undone.`)) {\n                handleDeleteTestPlans()\n              }\n            }}\n            className=\"px-3 py-1 text-sm bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded transition-colors\"\n          >\n            Delete Test Plans\n          </button>\n        )}\n      </div>\n\n      <div className=\"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-800 border-b border-gray-700\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Plan</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Price</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Status</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Subscriptions</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Key Limits</th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-800\">\n            {plans && plans.length > 0 ? plans.map((plan) => (\n              <tr key={plan.id} className=\"hover:bg-gray-800/50\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm font-medium text-white\">{plan.displayName}</div>\n                  <div className=\"text-sm text-gray-400\">{plan.name}</div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-white\">\n                    ${plan.price.toFixed(2)}/{plan.interval}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex gap-2\">\n                    {plan.isActive && (\n                      <span className=\"px-2 py-1 text-xs bg-green-900/30 text-green-400 rounded\">Active</span>\n                    )}\n                    {!plan.isActive && (\n                      <span className=\"px-2 py-1 text-xs bg-gray-900/30 text-gray-400 rounded\">Inactive</span>\n                    )}\n                    {plan.isPublic && (\n                      <span className=\"px-2 py-1 text-xs bg-blue-900/30 text-blue-400 rounded\">Public</span>\n                    )}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"text-sm text-white\">{plan._count?.subscriptions ?? 0}</div>\n                </td>\n                <td className=\"px-6 py-4\">\n                  <div className=\"text-sm text-gray-400 space-y-1\">\n                    <div>Sessions: {formatLimit(plan.maxSessions ?? null)}</div>\n                    <div>Devices: {formatLimit(plan.maxDevices ?? null)}</div>\n                    <div>Mock Endpoints: {formatLimit(plan.maxMockEndpoints ?? null)}</div>\n                    <div>API Endpoints: {formatLimit(plan.maxApiEndpoints ?? null)}</div>\n                    <div>API Requests: {formatLimit(plan.maxApiRequests ?? null)}</div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                  <div className=\"flex justify-end gap-2\">\n                    <button\n                      onClick={() => {\n                        setEditingPlan(plan)\n                        setFormData({\n                          ...plan,\n                          enforcementConfig: plan.enforcementConfig || {\n                            warnThreshold: 80,\n                            hardThreshold: 100,\n                            gracePeriodHours: 48,\n                            overageBufferPercent: 0,\n                            moduleRules: {\n                              apiTraces: { samplingRate: 10, dropResponseBodies: true },\n                              logs: { prioritizeCrashes: true, minRetentionDays: 7 },\n                              sessions: { samplingRate: 10, capEventsPerSession: 100 },\n                              businessConfig: { freezePublishing: true, serveLastPublished: true },\n                              localization: { freezePublishing: true, serveLastPublished: true },\n                            },\n                          },\n                        })\n                      }}\n                      className=\"text-blue-400 hover:text-blue-300\"\n                    >\n                      Edit\n                    </button>\n                    {(plan._count?.subscriptions ?? 0) === 0 && (\n                      <button\n                        onClick={() => handleDelete(plan.id)}\n                        className=\"text-red-400 hover:text-red-300\"\n                      >\n                        Delete\n                      </button>\n                    )}\n                  </div>\n                </td>\n              </tr>\n            )) : (\n              <tr>\n                <td colSpan={6} className=\"px-6 py-8 text-center text-gray-400\">\n                  {loading ? 'Loading plans...' : 'No plans found'}\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Create/Edit Modal */}\n      {(showCreateModal || editingPlan) && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <h2 className=\"text-2xl font-bold text-white mb-4\">\n              {editingPlan ? 'Edit Plan' : 'Create Plan'}\n            </h2>\n\n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Name (ID)</label>\n                <input\n                  type=\"text\"\n                  value={formData.name || ''}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                  placeholder=\"free\"\n                  disabled={!!editingPlan}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Display Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.displayName || ''}\n                  onChange={(e) => setFormData({ ...formData, displayName: e.target.value })}\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                  placeholder=\"Free Plan\"\n                />\n              </div>\n              <div className=\"col-span-2\">\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Description</label>\n                <textarea\n                  value={formData.description || ''}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                  rows={2}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Price</label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={formData.price ?? ''}\n                  onChange={(e) => setFormData({ ...formData, price: parseFloat(e.target.value) || 0 })}\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Currency</label>\n                <input\n                  type=\"text\"\n                  value={formData.currency || 'USD'}\n                  onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">Interval</label>\n                <select\n                  value={formData.interval || 'month'}\n                  onChange={(e) => setFormData({ ...formData, interval: e.target.value })}\n                  className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                >\n                  <option value=\"month\">Month</option>\n                  <option value=\"year\">Year</option>\n                </select>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.isActive ?? true}\n                    onChange={(e) => setFormData({ ...formData, isActive: e.target.checked })}\n                    className=\"rounded\"\n                  />\n                  <span className=\"text-sm text-gray-300\">Active</span>\n                </label>\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.isPublic ?? true}\n                    onChange={(e) => setFormData({ ...formData, isPublic: e.target.checked })}\n                    className=\"rounded\"\n                  />\n                  <span className=\"text-sm text-gray-300\">Public</span>\n                </label>\n              </div>\n            </div>\n\n            <h3 className=\"text-lg font-semibold text-white mt-6 mb-3\">Quota Limits</h3>\n            <div className=\"grid grid-cols-3 gap-4 mb-4\">\n              {[\n                { key: 'maxProjects', label: 'Projects' },\n                { key: 'maxDevices', label: 'Devices' },\n                { key: 'maxMockEndpoints', label: 'Mock Endpoints' },\n                { key: 'maxApiEndpoints', label: 'API Endpoints' },\n                { key: 'maxApiRequests', label: 'API Requests' },\n                { key: 'maxSessions', label: 'Sessions' },\n                { key: 'maxLogs', label: 'Logs' },\n                { key: 'maxCrashes', label: 'Crashes' },\n                { key: 'maxBusinessConfigKeys', label: 'Business Config Keys' },\n                { key: 'maxLocalizationLanguages', label: 'Localization Languages' },\n                { key: 'maxLocalizationKeys', label: 'Localization Keys' },\n                { key: 'retentionDays', label: 'Retention Days' },\n              ].map(({ key, label }) => (\n                <div key={key}>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">{label}</label>\n                  <input\n                    type=\"number\"\n                    value={(formData[key as keyof Plan] as number | null | undefined) ?? ''}\n                    onChange={(e) => {\n                      const value = e.target.value === '' ? null : parseInt(e.target.value)\n                      setFormData({ ...formData, [key]: value })\n                    }}\n                    className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                    placeholder=\"Unlimited\"\n                  />\n                </div>\n              ))}\n            </div>\n\n            <h3 className=\"text-lg font-semibold text-white mt-6 mb-3\">Feature Flags</h3>\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              {[\n                { key: 'allowApiTracking', label: 'API Tracking' },\n                { key: 'allowScreenTracking', label: 'Screen Tracking' },\n                { key: 'allowCrashReporting', label: 'Crash Reporting' },\n                { key: 'allowLogging', label: 'Logging' },\n                { key: 'allowBusinessConfig', label: 'Business Config' },\n                { key: 'allowLocalization', label: 'Localization' },\n                { key: 'allowCustomDomains', label: 'Custom Domains' },\n                { key: 'allowWebhooks', label: 'Webhooks' },\n                { key: 'allowTeamMembers', label: 'Team Members' },\n                { key: 'allowPrioritySupport', label: 'Priority Support' },\n              ].map(({ key, label }) => (\n                <label key={key} className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={(formData[key as keyof Plan] as boolean | undefined) ?? false}\n                    onChange={(e) => setFormData({ ...formData, [key]: e.target.checked })}\n                    className=\"rounded\"\n                  />\n                  <span className=\"text-sm text-gray-300\">{label}</span>\n                </label>\n              ))}\n            </div>\n\n            {/* Enforcement Settings */}\n            <h3 className=\"text-lg font-semibold text-white mt-6 mb-3\">Enforcement Settings</h3>\n            <div className=\"bg-gray-800/50 rounded-lg p-4 mb-6 space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Warn Threshold (%)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={(formData.enforcementConfig as EnforcementConfig)?.warnThreshold ?? 80}\n                    onChange={(e) => {\n                      const enforcementConfig: EnforcementConfig = {\n                        ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                        warnThreshold: parseInt(e.target.value) || 80,\n                      }\n                      setFormData({ ...formData, enforcementConfig })\n                    }}\n                    className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                    placeholder=\"80\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Show warnings when usage reaches this percentage</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Hard Threshold (%)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={(formData.enforcementConfig as EnforcementConfig)?.hardThreshold ?? 100}\n                    onChange={(e) => {\n                      const enforcementConfig: EnforcementConfig = {\n                        ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                        hardThreshold: parseInt(e.target.value) || 100,\n                      }\n                      setFormData({ ...formData, enforcementConfig })\n                    }}\n                    className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                    placeholder=\"100\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Enter grace period when usage exceeds this percentage</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Grace Period (hours)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    value={(formData.enforcementConfig as EnforcementConfig)?.gracePeriodHours ?? 48}\n                    onChange={(e) => {\n                      const enforcementConfig: EnforcementConfig = {\n                        ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                        gracePeriodHours: parseInt(e.target.value) || 48,\n                      }\n                      setFormData({ ...formData, enforcementConfig })\n                    }}\n                    className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                    placeholder=\"48\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Duration of grace period before degradation</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-1\">Overage Buffer (%)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"20\"\n                    value={(formData.enforcementConfig as EnforcementConfig)?.overageBufferPercent ?? 0}\n                    onChange={(e) => {\n                      const enforcementConfig: EnforcementConfig = {\n                        ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                        overageBufferPercent: parseInt(e.target.value) || 0,\n                      }\n                      setFormData({ ...formData, enforcementConfig })\n                    }}\n                    className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white\"\n                    placeholder=\"0\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Optional buffer before applying degradation</p>\n                </div>\n              </div>\n\n              {/* Module Rules */}\n              <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                <h4 className=\"text-sm font-semibold text-gray-300 mb-3\">Module Degradation Rules</h4>\n                \n                {/* API Traces */}\n                <div className=\"mb-3 p-3 bg-gray-900/50 rounded\">\n                  <label className=\"text-sm font-medium text-gray-300 mb-2 block\">API Traces</label>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">Sampling Rate (1 in N)</label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.apiTraces?.samplingRate ?? 10}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              apiTraces: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.apiTraces || {}),\n                                samplingRate: parseInt(e.target.value) || 10,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-sm\"\n                      />\n                    </div>\n                    <label className=\"flex items-center gap-2 mt-6\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.apiTraces?.dropResponseBodies ?? true}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              apiTraces: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.apiTraces || {}),\n                                dropResponseBodies: e.target.checked,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-xs text-gray-400\">Drop response bodies first</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Logs */}\n                <div className=\"mb-3 p-3 bg-gray-900/50 rounded\">\n                  <label className=\"text-sm font-medium text-gray-300 mb-2 block\">Logs</label>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">Min Retention (days)</label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.logs?.minRetentionDays ?? 7}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              logs: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.logs || {}),\n                                minRetentionDays: parseInt(e.target.value) || 7,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-sm\"\n                      />\n                    </div>\n                    <label className=\"flex items-center gap-2 mt-6\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.logs?.prioritizeCrashes ?? true}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              logs: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.logs || {}),\n                                prioritizeCrashes: e.target.checked,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-xs text-gray-400\">Prioritize crashes</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Sessions */}\n                <div className=\"mb-3 p-3 bg-gray-900/50 rounded\">\n                  <label className=\"text-sm font-medium text-gray-300 mb-2 block\">Sessions</label>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">Sampling Rate (1 in N)</label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.sessions?.samplingRate ?? 10}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              sessions: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.sessions || {}),\n                                samplingRate: parseInt(e.target.value) || 10,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">Cap Events/Session</label>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.sessions?.capEventsPerSession ?? 100}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              sessions: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.sessions || {}),\n                                capEventsPerSession: parseInt(e.target.value) || 100,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-white text-sm\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Business Config & Localization */}\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div className=\"p-3 bg-gray-900/50 rounded\">\n                    <label className=\"text-sm font-medium text-gray-300 mb-2 block\">Business Config</label>\n                    <label className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.businessConfig?.freezePublishing ?? true}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              businessConfig: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.businessConfig || {}),\n                                freezePublishing: e.target.checked,\n                                serveLastPublished: true,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-xs text-gray-400\">Freeze publishing when degraded</span>\n                    </label>\n                  </div>\n                  <div className=\"p-3 bg-gray-900/50 rounded\">\n                    <label className=\"text-sm font-medium text-gray-300 mb-2 block\">Localization</label>\n                    <label className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={(formData.enforcementConfig as EnforcementConfig)?.moduleRules?.localization?.freezePublishing ?? true}\n                        onChange={(e) => {\n                          const enforcementConfig: EnforcementConfig = {\n                            ...((formData.enforcementConfig as EnforcementConfig) || {}),\n                            moduleRules: {\n                              ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules || {}),\n                              localization: {\n                                ...((formData.enforcementConfig as EnforcementConfig)?.moduleRules?.localization || {}),\n                                freezePublishing: e.target.checked,\n                                serveLastPublished: true,\n                              },\n                            },\n                          }\n                          setFormData({ ...formData, enforcementConfig })\n                        }}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-xs text-gray-400\">Freeze publishing when degraded</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-4\">\n              <button\n                onClick={() => {\n                  setShowCreateModal(false)\n                  setEditingPlan(null)\n                  setFormData({})\n                }}\n                className=\"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => editingPlan ? handleUpdate(editingPlan.id) : handleCreate()}\n                className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n              >\n                {editingPlan ? 'Update' : 'Create'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}