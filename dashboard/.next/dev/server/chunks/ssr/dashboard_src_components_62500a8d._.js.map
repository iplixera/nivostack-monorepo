{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/Pagination.tsx"],"sourcesContent":["'use client'\n\nimport React, { memo } from 'react'\n\nexport interface PaginationData {\n  page: number\n  limit: number\n  total: number\n  totalPages: number\n  hasNext: boolean\n  hasPrev: boolean\n}\n\ninterface PaginationProps {\n  pagination: PaginationData\n  onPageChange: (page: number) => void\n  onLimitChange?: (limit: number) => void\n  showLimitSelector?: boolean\n  limitOptions?: number[]\n  className?: string\n}\n\n/**\n * Pagination component for navigating through paginated data\n */\nexport const Pagination = memo(function Pagination({\n  pagination,\n  onPageChange,\n  onLimitChange,\n  showLimitSelector = true,\n  limitOptions = [25, 50, 100],\n  className = ''\n}: PaginationProps) {\n  const { page, limit, total, totalPages, hasNext, hasPrev } = pagination\n\n  // Calculate visible page numbers\n  const getVisiblePages = () => {\n    const pages: (number | 'ellipsis')[] = []\n    const showPages = 5 // Number of page buttons to show\n\n    if (totalPages <= showPages + 2) {\n      // Show all pages if total is small\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i)\n      }\n    } else {\n      // Always show first page\n      pages.push(1)\n\n      if (page > 3) {\n        pages.push('ellipsis')\n      }\n\n      // Show pages around current page\n      const start = Math.max(2, page - 1)\n      const end = Math.min(totalPages - 1, page + 1)\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i)\n      }\n\n      if (page < totalPages - 2) {\n        pages.push('ellipsis')\n      }\n\n      // Always show last page\n      if (totalPages > 1) {\n        pages.push(totalPages)\n      }\n    }\n\n    return pages\n  }\n\n  const startItem = total === 0 ? 0 : (page - 1) * limit + 1\n  const endItem = Math.min(page * limit, total)\n\n  return (\n    <div className={`flex flex-col sm:flex-row items-center justify-between gap-4 ${className}`}>\n      {/* Results info */}\n      <div className=\"text-sm text-gray-400\">\n        Showing <span className=\"font-medium text-white\">{startItem}</span> to{' '}\n        <span className=\"font-medium text-white\">{endItem}</span> of{' '}\n        <span className=\"font-medium text-white\">{total.toLocaleString()}</span> results\n      </div>\n\n      {/* Controls */}\n      <div className=\"flex items-center gap-4\">\n        {/* Limit selector */}\n        {showLimitSelector && onLimitChange && (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm text-gray-400\">Per page:</span>\n            <select\n              value={limit}\n              onChange={(e) => onLimitChange(Number(e.target.value))}\n              className=\"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {limitOptions.map((opt) => (\n                <option key={opt} value={opt}>\n                  {opt}\n                </option>\n              ))}\n            </select>\n          </div>\n        )}\n\n        {/* Page navigation */}\n        <nav className=\"flex items-center gap-1\">\n          {/* Previous button */}\n          <button\n            onClick={() => onPageChange(page - 1)}\n            disabled={!hasPrev}\n            className={`p-2 rounded ${\n              hasPrev\n                ? 'text-gray-400 hover:text-white hover:bg-gray-700'\n                : 'text-gray-600 cursor-not-allowed'\n            }`}\n            aria-label=\"Previous page\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n\n          {/* Page numbers */}\n          {getVisiblePages().map((pageNum, index) =>\n            pageNum === 'ellipsis' ? (\n              <span key={`ellipsis-${index}`} className=\"px-2 text-gray-500\">\n                ...\n              </span>\n            ) : (\n              <button\n                key={pageNum}\n                onClick={() => onPageChange(pageNum)}\n                className={`px-3 py-1 rounded text-sm font-medium transition-colors ${\n                  pageNum === page\n                    ? 'bg-blue-600 text-white'\n                    : 'text-gray-400 hover:text-white hover:bg-gray-700'\n                }`}\n              >\n                {pageNum}\n              </button>\n            )\n          )}\n\n          {/* Next button */}\n          <button\n            onClick={() => onPageChange(page + 1)}\n            disabled={!hasNext}\n            className={`p-2 rounded ${\n              hasNext\n                ? 'text-gray-400 hover:text-white hover:bg-gray-700'\n                : 'text-gray-600 cursor-not-allowed'\n            }`}\n            aria-label=\"Next page\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </button>\n        </nav>\n      </div>\n    </div>\n  )\n})\n\n/**\n * Compact pagination for smaller spaces\n */\nexport const CompactPagination = memo(function CompactPagination({\n  pagination,\n  onPageChange,\n  className = ''\n}: Omit<PaginationProps, 'showLimitSelector' | 'limitOptions' | 'onLimitChange'>) {\n  const { page, total, totalPages, hasNext, hasPrev, limit } = pagination\n  const startItem = total === 0 ? 0 : (page - 1) * limit + 1\n  const endItem = Math.min(page * limit, total)\n\n  return (\n    <div className={`flex items-center justify-between gap-4 ${className}`}>\n      <span className=\"text-sm text-gray-400\">\n        {startItem}-{endItem} of {total}\n      </span>\n      <div className=\"flex items-center gap-1\">\n        <button\n          onClick={() => onPageChange(page - 1)}\n          disabled={!hasPrev}\n          className={`p-1.5 rounded ${\n            hasPrev ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 cursor-not-allowed'\n          }`}\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n        </button>\n        <span className=\"text-sm text-gray-300 px-2\">\n          {page} / {totalPages}\n        </span>\n        <button\n          onClick={() => onPageChange(page + 1)}\n          disabled={!hasNext}\n          className={`p-1.5 rounded ${\n            hasNext ? 'text-gray-400 hover:text-white hover:bg-gray-700' : 'text-gray-600 cursor-not-allowed'\n          }`}\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  )\n})\n\nexport default Pagination\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/SkeletonLoader.tsx"],"sourcesContent":["'use client'\n\nimport React, { memo } from 'react'\n\ninterface SkeletonProps {\n  className?: string\n  variant?: 'text' | 'circular' | 'rectangular' | 'rounded'\n  width?: string | number\n  height?: string | number\n  animation?: 'pulse' | 'wave' | 'none'\n}\n\n/**\n * Base Skeleton component for loading states\n */\nexport const Skeleton = memo(function Skeleton({\n  className = '',\n  variant = 'text',\n  width,\n  height,\n  animation = 'pulse'\n}: SkeletonProps) {\n  const getVariantClasses = () => {\n    switch (variant) {\n      case 'circular':\n        return 'rounded-full'\n      case 'rectangular':\n        return ''\n      case 'rounded':\n        return 'rounded-lg'\n      case 'text':\n      default:\n        return 'rounded'\n    }\n  }\n\n  const getAnimationClasses = () => {\n    switch (animation) {\n      case 'wave':\n        return 'animate-shimmer'\n      case 'none':\n        return ''\n      case 'pulse':\n      default:\n        return 'animate-pulse'\n    }\n  }\n\n  const style: React.CSSProperties = {}\n  if (width) style.width = typeof width === 'number' ? `${width}px` : width\n  if (height) style.height = typeof height === 'number' ? `${height}px` : height\n\n  return (\n    <div\n      className={`bg-gray-700 ${getVariantClasses()} ${getAnimationClasses()} ${className}`}\n      style={style}\n    />\n  )\n})\n\n/**\n * Skeleton for a single line of text\n */\nexport const SkeletonText = memo(function SkeletonText({\n  lines = 1,\n  className = ''\n}: {\n  lines?: number\n  className?: string\n}) {\n  return (\n    <div className={`space-y-2 ${className}`}>\n      {Array.from({ length: lines }).map((_, i) => (\n        <Skeleton\n          key={i}\n          variant=\"text\"\n          className=\"h-4\"\n          width={i === lines - 1 && lines > 1 ? '75%' : '100%'}\n        />\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for avatar/profile image\n */\nexport const SkeletonAvatar = memo(function SkeletonAvatar({\n  size = 40,\n  className = ''\n}: {\n  size?: number\n  className?: string\n}) {\n  return <Skeleton variant=\"circular\" width={size} height={size} className={className} />\n})\n\n/**\n * Skeleton card for device/session list items\n */\nexport const SkeletonCard = memo(function SkeletonCard({ className = '' }: { className?: string }) {\n  return (\n    <div className={`bg-gray-800 rounded-lg p-4 ${className}`}>\n      <div className=\"flex items-start gap-3\">\n        <Skeleton variant=\"rounded\" width={40} height={40} />\n        <div className=\"flex-1 space-y-2\">\n          <Skeleton variant=\"text\" className=\"h-5 w-1/3\" />\n          <Skeleton variant=\"text\" className=\"h-4 w-2/3\" />\n          <div className=\"flex gap-2 mt-2\">\n            <Skeleton variant=\"rounded\" width={60} height={24} />\n            <Skeleton variant=\"rounded\" width={80} height={24} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n})\n\n/**\n * Skeleton for stats cards\n */\nexport const SkeletonStats = memo(function SkeletonStats({ count = 4, className = '' }: { count?: number; className?: string }) {\n  return (\n    <div className={`grid grid-cols-2 md:grid-cols-4 gap-4 ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"bg-gray-800 rounded-lg p-4\">\n          <Skeleton variant=\"text\" className=\"h-4 w-20 mb-2\" />\n          <Skeleton variant=\"text\" className=\"h-8 w-16\" />\n        </div>\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for table rows\n */\nexport const SkeletonTable = memo(function SkeletonTable({\n  rows = 5,\n  columns = 4,\n  className = ''\n}: {\n  rows?: number\n  columns?: number\n  className?: string\n}) {\n  return (\n    <div className={`space-y-2 ${className}`}>\n      {/* Header */}\n      <div className=\"flex gap-4 p-3 bg-gray-800 rounded-lg\">\n        {Array.from({ length: columns }).map((_, i) => (\n          <Skeleton key={i} variant=\"text\" className=\"h-4 flex-1\" />\n        ))}\n      </div>\n      {/* Rows */}\n      {Array.from({ length: rows }).map((_, rowIndex) => (\n        <div key={rowIndex} className=\"flex gap-4 p-3 bg-gray-900 rounded\">\n          {Array.from({ length: columns }).map((_, colIndex) => (\n            <Skeleton key={colIndex} variant=\"text\" className=\"h-4 flex-1\" />\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for device list\n */\nexport const SkeletonDeviceList = memo(function SkeletonDeviceList({\n  count = 6,\n  className = ''\n}: {\n  count?: number\n  className?: string\n}) {\n  return (\n    <div className={`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <SkeletonCard key={i} />\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for session list\n */\nexport const SkeletonSessionList = memo(function SkeletonSessionList({\n  count = 5,\n  className = ''\n}: {\n  count?: number\n  className?: string\n}) {\n  return (\n    <div className={`space-y-3 ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"bg-gray-800 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Skeleton variant=\"rounded\" width={32} height={32} />\n              <div className=\"space-y-1\">\n                <Skeleton variant=\"text\" className=\"h-4 w-32\" />\n                <Skeleton variant=\"text\" className=\"h-3 w-24\" />\n              </div>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Skeleton variant=\"text\" className=\"h-4 w-16\" />\n              <Skeleton variant=\"text\" className=\"h-4 w-20\" />\n              <Skeleton variant=\"rounded\" width={24} height={24} />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for log entries\n */\nexport const SkeletonLogList = memo(function SkeletonLogList({\n  count = 10,\n  className = ''\n}: {\n  count?: number\n  className?: string\n}) {\n  return (\n    <div className={`space-y-2 ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"bg-gray-900 rounded p-3 flex items-start gap-3\">\n          <Skeleton variant=\"rounded\" width={48} height={20} />\n          <div className=\"flex-1 space-y-1\">\n            <Skeleton variant=\"text\" className=\"h-4 w-full\" />\n            <Skeleton variant=\"text\" className=\"h-3 w-1/4\" />\n          </div>\n          <Skeleton variant=\"text\" className=\"h-4 w-20\" />\n        </div>\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for API trace entries\n */\nexport const SkeletonTraceList = memo(function SkeletonTraceList({\n  count = 10,\n  className = ''\n}: {\n  count?: number\n  className?: string\n}) {\n  return (\n    <div className={`space-y-2 ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"bg-gray-900 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Skeleton variant=\"rounded\" width={48} height={24} />\n              <Skeleton variant=\"rounded\" width={40} height={20} />\n              <Skeleton variant=\"text\" className=\"h-4 w-64\" />\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Skeleton variant=\"text\" className=\"h-4 w-16\" />\n              <Skeleton variant=\"text\" className=\"h-4 w-24\" />\n            </div>\n          </div>\n          <div className=\"flex gap-2 mt-2\">\n            <Skeleton variant=\"rounded\" width={80} height={20} />\n            <Skeleton variant=\"rounded\" width={100} height={20} />\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n})\n\n/**\n * Skeleton for crash entries\n */\nexport const SkeletonCrashList = memo(function SkeletonCrashList({\n  count = 5,\n  className = ''\n}: {\n  count?: number\n  className?: string\n}) {\n  return (\n    <div className={`space-y-3 ${className}`}>\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"bg-gray-900 rounded-lg p-4 border border-red-900/50\">\n          <div className=\"flex items-start justify-between mb-2\">\n            <div className=\"flex-1\">\n              <Skeleton variant=\"text\" className=\"h-5 w-3/4 mb-2\" />\n              <div className=\"flex gap-2\">\n                <Skeleton variant=\"rounded\" width={60} height={20} />\n                <Skeleton variant=\"text\" className=\"h-4 w-32\" />\n              </div>\n            </div>\n            <Skeleton variant=\"text\" className=\"h-4 w-20\" />\n          </div>\n          <Skeleton variant=\"rounded\" className=\"h-32 w-full mt-3\" />\n        </div>\n      ))}\n    </div>\n  )\n})\n\n/**\n * Full page loading skeleton\n */\nexport const SkeletonPage = memo(function SkeletonPage({ className = '' }: { className?: string }) {\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"space-y-2\">\n          <Skeleton variant=\"text\" className=\"h-8 w-48\" />\n          <Skeleton variant=\"text\" className=\"h-4 w-32\" />\n        </div>\n        <Skeleton variant=\"rounded\" width={120} height={40} />\n      </div>\n\n      {/* Stats */}\n      <SkeletonStats />\n\n      {/* Content */}\n      <div className=\"bg-gray-800 rounded-lg p-4\">\n        <div className=\"flex items-center gap-4 mb-4\">\n          <Skeleton variant=\"rounded\" width={200} height={40} />\n          <Skeleton variant=\"rounded\" width={120} height={40} />\n        </div>\n        <SkeletonDeviceList />\n      </div>\n    </div>\n  )\n})\n\nexport default Skeleton\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1101, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/BusinessConfigTargeting.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\n\ninterface TargetingCondition {\n  property: string\n  operator: 'equals' | 'contains' | 'startsWith' | 'endsWith' | 'greaterThan' | 'lessThan' | 'in' | 'notIn' | 'exists' | 'notExists'\n  value: any\n  caseSensitive?: boolean\n}\n\ninterface TargetingRule {\n  conditions: TargetingCondition[]\n  logic: 'AND' | 'OR'\n  value: any\n}\n\ninterface BusinessConfigTargetingProps {\n  targetingRules: TargetingRule[] | null\n  defaultValue: any\n  valueType: string\n  onUpdate: (targetingRules: TargetingRule[] | null, defaultValue: any) => void\n  onClose: () => void\n}\n\nconst PROPERTY_OPTIONS = [\n  { value: 'user.id', label: 'User ID' },\n  { value: 'user.email', label: 'User Email' },\n  { value: 'device.platform', label: 'Device Platform' },\n  { value: 'device.osVersion', label: 'OS Version' },\n  { value: 'device.appVersion', label: 'App Version' },\n  { value: 'device.deviceModel', label: 'Device Model' },\n  { value: 'app.version', label: 'App Version' },\n  { value: 'app.buildNumber', label: 'Build Number' }\n]\n\nconst OPERATOR_OPTIONS = [\n  { value: 'equals', label: 'Equals' },\n  { value: 'contains', label: 'Contains' },\n  { value: 'startsWith', label: 'Starts With' },\n  { value: 'endsWith', label: 'Ends With' },\n  { value: 'greaterThan', label: 'Greater Than' },\n  { value: 'lessThan', label: 'Less Than' },\n  { value: 'in', label: 'In List' },\n  { value: 'notIn', label: 'Not In List' },\n  { value: 'exists', label: 'Exists' },\n  { value: 'notExists', label: 'Not Exists' }\n]\n\nexport default function BusinessConfigTargeting({\n  targetingRules,\n  defaultValue,\n  valueType,\n  onUpdate,\n  onClose\n}: BusinessConfigTargetingProps) {\n  const [rules, setRules] = useState<TargetingRule[]>(targetingRules || [])\n  const [defaultVal, setDefaultVal] = useState(defaultValue)\n\n  const handleAddRule = () => {\n    setRules([...rules, {\n      conditions: [{ property: 'user.email', operator: 'equals', value: '' }],\n      logic: 'AND',\n      value: getDefaultValueForType(valueType)\n    }])\n  }\n\n  const handleRemoveRule = (index: number) => {\n    setRules(rules.filter((_, i) => i !== index))\n  }\n\n  const handleUpdateRule = (index: number, rule: TargetingRule) => {\n    const newRules = [...rules]\n    newRules[index] = rule\n    setRules(newRules)\n  }\n\n  const handleAddCondition = (ruleIndex: number) => {\n    const newRules = [...rules]\n    newRules[ruleIndex].conditions.push({\n      property: 'user.email',\n      operator: 'equals',\n      value: ''\n    })\n    setRules(newRules)\n  }\n\n  const handleRemoveCondition = (ruleIndex: number, conditionIndex: number) => {\n    const newRules = [...rules]\n    newRules[ruleIndex].conditions = newRules[ruleIndex].conditions.filter((_, i) => i !== conditionIndex)\n    setRules(newRules)\n  }\n\n  const handleUpdateCondition = (ruleIndex: number, conditionIndex: number, condition: TargetingCondition) => {\n    const newRules = [...rules]\n    newRules[ruleIndex].conditions[conditionIndex] = condition\n    setRules(newRules)\n  }\n\n  const handleSave = () => {\n    onUpdate(rules.length > 0 ? rules : null, defaultVal)\n    onClose()\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Targeting Rules</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {/* Default Value */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Default Value</label>\n            <p className=\"text-gray-400 text-xs mb-2\">Value returned when no targeting rules match</p>\n            {renderValueInput(valueType, defaultVal, setDefaultVal)}\n          </div>\n\n          {/* Targeting Rules */}\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <label className=\"block text-sm font-medium text-gray-300\">Targeting Rules</label>\n              <button\n                onClick={handleAddRule}\n                className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors\"\n              >\n                + Add Rule\n              </button>\n            </div>\n\n            {rules.length === 0 ? (\n              <div className=\"bg-gray-800 rounded-lg p-4 text-center border border-gray-700\">\n                <p className=\"text-gray-400 text-sm\">No targeting rules. All users will receive the default value.</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {rules.map((rule, ruleIndex) => (\n                  <div key={ruleIndex} className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h4 className=\"text-white font-medium\">Rule {ruleIndex + 1}</h4>\n                      <div className=\"flex items-center gap-2\">\n                        <select\n                          value={rule.logic}\n                          onChange={(e) => handleUpdateRule(ruleIndex, { ...rule, logic: e.target.value as 'AND' | 'OR' })}\n                          className=\"bg-gray-700 border border-gray-600 rounded-lg px-2 py-1 text-white text-sm\"\n                        >\n                          <option value=\"AND\">AND</option>\n                          <option value=\"OR\">OR</option>\n                        </select>\n                        <button\n                          onClick={() => handleRemoveRule(ruleIndex)}\n                          className=\"text-red-400 hover:text-red-300 p-1\"\n                        >\n                          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n\n                    {/* Conditions */}\n                    <div className=\"space-y-3 mb-4\">\n                      {rule.conditions.map((condition, conditionIndex) => (\n                        <div key={conditionIndex} className=\"flex items-center gap-2 bg-gray-700/50 rounded-lg p-3\">\n                          <select\n                            value={condition.property}\n                            onChange={(e) => handleUpdateCondition(ruleIndex, conditionIndex, { ...condition, property: e.target.value })}\n                            className=\"flex-1 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm\"\n                          >\n                            {PROPERTY_OPTIONS.map(opt => (\n                              <option key={opt.value} value={opt.value}>{opt.label}</option>\n                            ))}\n                          </select>\n                          <select\n                            value={condition.operator}\n                            onChange={(e) => handleUpdateCondition(ruleIndex, conditionIndex, { ...condition, operator: e.target.value as any })}\n                            className=\"bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm\"\n                          >\n                            {OPERATOR_OPTIONS.map(opt => (\n                              <option key={opt.value} value={opt.value}>{opt.label}</option>\n                            ))}\n                          </select>\n                          {(condition.operator !== 'exists' && condition.operator !== 'notExists') && (\n                            <input\n                              type=\"text\"\n                              value={typeof condition.value === 'string' ? condition.value : JSON.stringify(condition.value)}\n                              onChange={(e) => {\n                                let value: any = e.target.value\n                                // Try to parse as JSON for 'in' and 'notIn' operators\n                                if (condition.operator === 'in' || condition.operator === 'notIn') {\n                                  try {\n                                    value = JSON.parse(e.target.value)\n                                  } catch {\n                                    // Keep as string if not valid JSON\n                                  }\n                                }\n                                handleUpdateCondition(ruleIndex, conditionIndex, { ...condition, value })\n                              }}\n                              placeholder=\"Value\"\n                              className=\"flex-1 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm\"\n                            />\n                          )}\n                          <button\n                            onClick={() => handleRemoveCondition(ruleIndex, conditionIndex)}\n                            className=\"text-red-400 hover:text-red-300 p-1\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                            </svg>\n                          </button>\n                        </div>\n                      ))}\n                      <button\n                        onClick={() => handleAddCondition(ruleIndex)}\n                        className=\"text-sm text-blue-400 hover:text-blue-300\"\n                      >\n                        + Add Condition\n                      </button>\n                    </div>\n\n                    {/* Rule Value */}\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">Value when rule matches:</label>\n                      {renderValueInput(valueType, rule.value, (val) => {\n                        handleUpdateRule(ruleIndex, { ...rule, value: val })\n                      })}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"p-6 border-t border-gray-800 flex justify-end gap-3\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSave}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Save Targeting Rules\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction renderValueInput(valueType: string, value: any, onChange: (value: any) => void) {\n  switch (valueType) {\n    case 'boolean':\n      return (\n        <label className=\"flex items-center gap-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={value === true || value === 'true'}\n            onChange={(e) => onChange(e.target.checked)}\n            className=\"rounded bg-gray-800 border-gray-700\"\n          />\n          <span className=\"text-gray-300 text-sm\">Enabled</span>\n        </label>\n      )\n    case 'integer':\n      return (\n        <input\n          type=\"number\"\n          value={value || ''}\n          onChange={(e) => onChange(parseInt(e.target.value) || 0)}\n          className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm\"\n        />\n      )\n    case 'decimal':\n      return (\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          value={value || ''}\n          onChange={(e) => onChange(parseFloat(e.target.value) || 0)}\n          className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm\"\n        />\n      )\n    case 'json':\n      return (\n        <textarea\n          value={typeof value === 'string' ? value : JSON.stringify(value, null, 2)}\n          onChange={(e) => {\n            try {\n              onChange(JSON.parse(e.target.value))\n            } catch {\n              onChange(e.target.value)\n            }\n          }}\n          rows={4}\n          className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm font-mono\"\n        />\n      )\n    default:\n      return (\n        <input\n          type=\"text\"\n          value={value || ''}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm\"\n        />\n      )\n  }\n}\n\nfunction getDefaultValueForType(valueType: string): any {\n  switch (valueType) {\n    case 'boolean': return false\n    case 'integer': return 0\n    case 'decimal': return 0.0\n    case 'json': return {}\n    default: return ''\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1768, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/BusinessConfigHistory.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ninterface BusinessConfigHistoryProps {\n  projectId: string\n  configId?: string\n  token: string\n  onClose: () => void\n}\n\ninterface ChangeLog {\n  id: string\n  action: string\n  beforeValue: any\n  afterValue: any\n  changes: any\n  userId: string | null\n  userName: string | null\n  createdAt: string\n  config: {\n    key: string\n    label: string | null\n  }\n}\n\nexport default function BusinessConfigHistory({\n  projectId,\n  configId,\n  token,\n  onClose\n}: BusinessConfigHistoryProps) {\n  const [changes, setChanges] = useState<ChangeLog[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadChanges()\n  }, [])\n\n  const loadChanges = async () => {\n    try {\n      setLoading(true)\n      const data = await api.businessConfig.getChanges(projectId, configId, 100, token)\n      setChanges(data.changes)\n    } catch (error) {\n      console.error('Failed to load changes:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const formatAction = (action: string) => {\n    const actions: Record<string, string> = {\n      create: 'Created',\n      update: 'Updated',\n      delete: 'Deleted'\n    }\n    return actions[action] || action\n  }\n\n  const formatValue = (value: any): string => {\n    if (value === null || value === undefined) {\n      return '<empty>'\n    }\n    if (typeof value === 'object') {\n      return JSON.stringify(value, null, 2)\n    }\n    return String(value)\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Change History</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : changes.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-400\">No change history available</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {changes.map((change) => (\n                <div key={change.id} className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${\n                        change.action === 'create' ? 'bg-green-600/20 text-green-400' :\n                        change.action === 'update' ? 'bg-blue-600/20 text-blue-400' :\n                        'bg-red-600/20 text-red-400'\n                      }`}>\n                        {change.action === 'create' ? '+' :\n                         change.action === 'update' ? '↻' : '×'}\n                      </div>\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-white font-medium text-sm\">\n                            {formatAction(change.action)}\n                          </span>\n                          <code className=\"text-xs text-gray-400 bg-gray-700 px-2 py-0.5 rounded\">\n                            {change.config.key}\n                          </code>\n                        </div>\n                        <p className=\"text-gray-500 text-xs mt-1\">\n                          by {change.userName || 'Unknown'} • {new Date(change.createdAt).toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {change.action === 'update' && change.beforeValue !== null && (\n                    <div className=\"mb-2\">\n                      <p className=\"text-xs text-gray-500 mb-1\">Previous:</p>\n                      <div className=\"bg-red-900/20 border border-red-800 rounded p-2\">\n                        <pre className=\"text-red-300 text-xs overflow-auto whitespace-pre-wrap\">\n                          {formatValue(change.beforeValue)}\n                        </pre>\n                      </div>\n                    </div>\n                  )}\n\n                  {change.action !== 'delete' && change.afterValue !== null && (\n                    <div>\n                      <p className=\"text-xs text-gray-500 mb-1\">New:</p>\n                      <div className=\"bg-green-900/20 border border-green-800 rounded p-2\">\n                        <pre className=\"text-green-300 text-xs overflow-auto whitespace-pre-wrap\">\n                          {formatValue(change.afterValue)}\n                        </pre>\n                      </div>\n                    </div>\n                  )}\n\n                  {change.action === 'delete' && change.beforeValue !== null && (\n                    <div className=\"bg-red-900/20 border border-red-800 rounded p-2\">\n                      <pre className=\"text-red-300 text-xs overflow-auto whitespace-pre-wrap\">\n                        {formatValue(change.beforeValue)}\n                      </pre>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AA2Be,SAAS,sBAAsB,EAC5C,SAAS,EACT,QAAQ,EACR,KAAK,EACL,OAAO,EACoB;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kXAAQ,EAAc,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kXAAQ,EAAC;IAEvC,IAAA,mXAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,IAAI;YACF,WAAW;YACX,MAAM,OAAO,MAAM,qIAAG,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,UAAU,KAAK;YAC3E,WAAW,KAAK,OAAO;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,UAAkC;YACtC,QAAQ;YACR,QAAQ;YACR,QAAQ;QACV;QACA,OAAO,OAAO,CAAC,OAAO,IAAI;IAC5B;IAEA,MAAM,cAAc,CAAC;QACnB,IAAI,UAAU,QAAQ,UAAU,WAAW;YACzC,OAAO;QACT;QACA,IAAI,OAAO,UAAU,UAAU;YAC7B,OAAO,KAAK,SAAS,CAAC,OAAO,MAAM;QACrC;QACA,OAAO,OAAO;IAChB;IAEA,qBACE,+YAAC;QAAI,WAAU;kBACb,cAAA,+YAAC;YAAI,WAAU;;8BACb,+YAAC;oBAAI,WAAU;8BACb,cAAA,+YAAC;wBAAI,WAAU;;0CACb,+YAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,+YAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,+YAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,+YAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAM7E,+YAAC;oBAAI,WAAU;8BACZ,wBACC,+YAAC;wBAAI,WAAU;kCACb,cAAA,+YAAC;4BAAI,WAAU;;;;;;;;;;+BAEf,QAAQ,MAAM,KAAK,kBACrB,+YAAC;wBAAI,WAAU;kCACb,cAAA,+YAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;6CAG/B,+YAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,+YAAC;gCAAoB,WAAU;;kDAC7B,+YAAC;wCAAI,WAAU;kDACb,cAAA,+YAAC;4CAAI,WAAU;;8DACb,+YAAC;oDAAI,WAAW,CAAC,0EAA0E,EACzF,OAAO,MAAM,KAAK,WAAW,mCAC7B,OAAO,MAAM,KAAK,WAAW,iCAC7B,8BACA;8DACC,OAAO,MAAM,KAAK,WAAW,MAC7B,OAAO,MAAM,KAAK,WAAW,MAAM;;;;;;8DAEtC,+YAAC;;sEACC,+YAAC;4DAAI,WAAU;;8EACb,+YAAC;oEAAK,WAAU;8EACb,aAAa,OAAO,MAAM;;;;;;8EAE7B,+YAAC;oEAAK,WAAU;8EACb,OAAO,MAAM,CAAC,GAAG;;;;;;;;;;;;sEAGtB,+YAAC;4DAAE,WAAU;;gEAA6B;gEACpC,OAAO,QAAQ,IAAI;gEAAU;gEAAI,IAAI,KAAK,OAAO,SAAS,EAAE,cAAc;;;;;;;;;;;;;;;;;;;;;;;;oCAMrF,OAAO,MAAM,KAAK,YAAY,OAAO,WAAW,KAAK,sBACpD,+YAAC;wCAAI,WAAU;;0DACb,+YAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,+YAAC;gDAAI,WAAU;0DACb,cAAA,+YAAC;oDAAI,WAAU;8DACZ,YAAY,OAAO,WAAW;;;;;;;;;;;;;;;;;oCAMtC,OAAO,MAAM,KAAK,YAAY,OAAO,UAAU,KAAK,sBACnD,+YAAC;;0DACC,+YAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,+YAAC;gDAAI,WAAU;0DACb,cAAA,+YAAC;oDAAI,WAAU;8DACZ,YAAY,OAAO,UAAU;;;;;;;;;;;;;;;;;oCAMrC,OAAO,MAAM,KAAK,YAAY,OAAO,WAAW,KAAK,sBACpD,+YAAC;wCAAI,WAAU;kDACb,cAAA,+YAAC;4CAAI,WAAU;sDACZ,YAAY,OAAO,WAAW;;;;;;;;;;;;+BApD7B,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEnC"}},
    {"offset": {"line": 2084, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/BusinessConfigAnalytics.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ninterface BusinessConfigAnalyticsProps {\n  projectId: string\n  configKey?: string\n  token: string\n  onClose: () => void\n}\n\nexport default function BusinessConfigAnalytics({\n  projectId,\n  configKey,\n  token,\n  onClose\n}: BusinessConfigAnalyticsProps) {\n  const [analytics, setAnalytics] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n  const [startDate, setStartDate] = useState<string>('')\n  const [endDate, setEndDate] = useState<string>('')\n\n  useEffect(() => {\n    loadAnalytics()\n  }, [startDate, endDate])\n\n  const loadAnalytics = async () => {\n    try {\n      setLoading(true)\n      const data = await api.businessConfig.getAnalytics(\n        projectId,\n        configKey,\n        startDate || undefined,\n        endDate || undefined,\n        token\n      )\n      setAnalytics(data)\n    } catch (error) {\n      console.error('Failed to load analytics:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const formatNumber = (num: number) => {\n    return new Intl.NumberFormat().format(num)\n  }\n\n  const formatPercent = (num: number) => {\n    return `${(num * 100).toFixed(1)}%`\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-6xl max-h-[90vh] flex flex-col border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Config Analytics</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"p-4 border-b border-gray-800 bg-gray-800/30 flex items-center gap-4\">\n          <div className=\"flex-1\">\n            <label className=\"block text-xs text-gray-400 mb-1\">Start Date</label>\n            <input\n              type=\"date\"\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n              className=\"bg-gray-800 border border-gray-700 rounded-lg px-3 py-1.5 text-white text-sm\"\n            />\n          </div>\n          <div className=\"flex-1\">\n            <label className=\"block text-xs text-gray-400 mb-1\">End Date</label>\n            <input\n              type=\"date\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n              className=\"bg-gray-800 border border-gray-700 rounded-lg px-3 py-1.5 text-white text-sm\"\n            />\n          </div>\n          <button\n            onClick={() => {\n              setStartDate('')\n              setEndDate('')\n            }}\n            className=\"px-4 py-2 text-gray-400 hover:text-white text-sm\"\n          >\n            Clear Filters\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : analytics ? (\n            <div className=\"space-y-6\">\n              {/* Overall Stats */}\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n                <div className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"text-gray-400 text-xs mb-1\">Total Fetches</div>\n                  <div className=\"text-white text-2xl font-bold\">{formatNumber(analytics.stats.totalFetches)}</div>\n                </div>\n                <div className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"text-gray-400 text-xs mb-1\">Unique Devices</div>\n                  <div className=\"text-white text-2xl font-bold\">{formatNumber(analytics.stats.uniqueDevices)}</div>\n                </div>\n                <div className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"text-gray-400 text-xs mb-1\">Unique Users</div>\n                  <div className=\"text-white text-2xl font-bold\">{formatNumber(analytics.stats.uniqueUsers)}</div>\n                </div>\n                <div className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"text-gray-400 text-xs mb-1\">Cache Hit Rate</div>\n                  <div className=\"text-white text-2xl font-bold\">{formatPercent(analytics.stats.cacheHitRate)}</div>\n                </div>\n                <div className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"text-gray-400 text-xs mb-1\">Targeting Match</div>\n                  <div className=\"text-white text-2xl font-bold\">{formatPercent(analytics.stats.targetingMatchRate)}</div>\n                </div>\n                <div className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"text-gray-400 text-xs mb-1\">Rollout Receive</div>\n                  <div className=\"text-white text-2xl font-bold\">{formatPercent(analytics.stats.rolloutReceiveRate)}</div>\n                </div>\n              </div>\n\n              {/* By Config Key */}\n              {analytics.byConfigKey && analytics.byConfigKey.length > 0 && (\n                <div>\n                  <h4 className=\"text-white font-medium mb-4\">By Config Key</h4>\n                  <div className=\"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden\">\n                    <table className=\"w-full\">\n                      <thead className=\"bg-gray-700/50\">\n                        <tr>\n                          <th className=\"text-left px-4 py-3 text-gray-300 text-sm font-medium\">Config Key</th>\n                          <th className=\"text-right px-4 py-3 text-gray-300 text-sm font-medium\">Fetches</th>\n                          <th className=\"text-right px-4 py-3 text-gray-300 text-sm font-medium\">Devices</th>\n                          <th className=\"text-right px-4 py-3 text-gray-300 text-sm font-medium\">Users</th>\n                          <th className=\"text-right px-4 py-3 text-gray-300 text-sm font-medium\">Cache Hits</th>\n                          <th className=\"text-right px-4 py-3 text-gray-300 text-sm font-medium\">Targeting</th>\n                          <th className=\"text-right px-4 py-3 text-gray-300 text-sm font-medium\">Rollout</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {analytics.byConfigKey.map((item: any, index: number) => (\n                          <tr key={index} className=\"border-t border-gray-700\">\n                            <td className=\"px-4 py-3 text-white text-sm font-mono\">{item.configKey}</td>\n                            <td className=\"px-4 py-3 text-gray-300 text-sm text-right\">{formatNumber(item.totalFetches)}</td>\n                            <td className=\"px-4 py-3 text-gray-300 text-sm text-right\">{formatNumber(item.uniqueDevices)}</td>\n                            <td className=\"px-4 py-3 text-gray-300 text-sm text-right\">{formatNumber(item.uniqueUsers)}</td>\n                            <td className=\"px-4 py-3 text-gray-300 text-sm text-right\">{formatNumber(item.cacheHits)}</td>\n                            <td className=\"px-4 py-3 text-gray-300 text-sm text-right\">{formatNumber(item.targetingMatches)}</td>\n                            <td className=\"px-4 py-3 text-gray-300 text-sm text-right\">{formatNumber(item.rolloutReceives)}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-400\">No analytics data available</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2647, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationImport.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationImportProps {\n  projectId: string\n  token: string\n  languages: Array<{ id: string; code: string; name: string }>\n  onSuccess: () => void\n  onClose: () => void\n}\n\nexport default function LocalizationImport({\n  projectId,\n  token,\n  languages,\n  onSuccess,\n  onClose,\n}: LocalizationImportProps) {\n  const [file, setFile] = useState<File | null>(null)\n  const [format, setFormat] = useState<'csv' | 'json' | 'android_xml' | 'ios_strings' | 'xliff'>('csv')\n  const [languageCode, setLanguageCode] = useState<string>('')\n  const [options, setOptions] = useState({\n    createMissingKeys: true,\n    updateExisting: true,\n    dryRun: false,\n    category: '',\n  })\n  const [loading, setLoading] = useState(false)\n  const [preview, setPreview] = useState<Array<{ key: string; value: string; action: string }> | null>(null)\n  const [result, setResult] = useState<{\n    success: boolean\n    stats?: {\n      keysCreated: number\n      keysUpdated: number\n      keysSkipped: number\n      translationsCreated: number\n      translationsUpdated: number\n      errors: Array<{ key?: string; message: string }>\n    }\n    errors?: Array<{ row?: number; message: string }>\n  } | null>(null)\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0]\n    if (selectedFile) {\n      setFile(selectedFile)\n      setPreview(null)\n      setResult(null)\n    }\n  }\n\n  const handlePreview = async () => {\n    if (!file) return\n\n    setLoading(true)\n    try {\n      const response = await api.localization.import(projectId, token, file, {\n        format,\n        languageCode: languageCode || undefined,\n        createMissingKeys: options.createMissingKeys,\n        updateExisting: options.updateExisting,\n        dryRun: true,\n        category: options.category || undefined,\n      })\n\n      if (response.preview) {\n        setPreview(response.preview)\n      }\n      if (response.errors && response.errors.length > 0) {\n        setResult({ success: false, errors: response.errors })\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        errors: [{ message: error instanceof Error ? error.message : 'Preview failed' }],\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleImport = async () => {\n    if (!file) return\n\n    setLoading(true)\n    try {\n      const response = await api.localization.import(projectId, token, file, {\n        format,\n        languageCode: languageCode || undefined,\n        createMissingKeys: options.createMissingKeys,\n        updateExisting: options.updateExisting,\n        dryRun: false,\n        category: options.category || undefined,\n      })\n\n      if (response.success && response.stats) {\n        setResult({ success: true, stats: response.stats })\n        setTimeout(() => {\n          onSuccess()\n          onClose()\n        }, 2000)\n      } else {\n        setResult({ success: false, errors: response.errors || [] })\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        errors: [{ message: error instanceof Error ? error.message : 'Import failed' }],\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const requiresLanguage = format !== 'xliff' && format !== 'json'\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-4 border-b border-gray-800 flex items-center justify-between\">\n          <h3 className=\"text-lg font-semibold text-white\">Import Translations</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"p-4 space-y-4\">\n          {/* File Selection */}\n          <div>\n            <label className=\"block text-sm text-gray-400 mb-2\">File Format</label>\n            <select\n              value={format}\n              onChange={(e) => setFormat(e.target.value as any)}\n              className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n            >\n              <option value=\"csv\">CSV</option>\n              <option value=\"json\">JSON</option>\n              <option value=\"android_xml\">Android XML</option>\n              <option value=\"ios_strings\">iOS Strings</option>\n              <option value=\"xliff\">XLIFF</option>\n            </select>\n          </div>\n\n          {/* Language Selection */}\n          {requiresLanguage && (\n            <div>\n              <label className=\"block text-sm text-gray-400 mb-2\">Language</label>\n              <select\n                value={languageCode}\n                onChange={(e) => setLanguageCode(e.target.value)}\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                required={requiresLanguage}\n              >\n                <option value=\"\">Select language...</option>\n                {languages.map((lang) => (\n                  <option key={lang.id} value={lang.code}>\n                    {lang.name} ({lang.code})\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* File Upload */}\n          <div>\n            <label className=\"block text-sm text-gray-400 mb-2\">File</label>\n            <input\n              type=\"file\"\n              onChange={handleFileChange}\n              accept={format === 'csv' ? '.csv' : format === 'json' ? '.json' : format === 'android_xml' ? '.xml' : format === 'ios_strings' ? '.strings' : '.xliff'}\n              className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n            />\n            {file && (\n              <p className=\"text-sm text-gray-500 mt-1\">{file.name} ({(file.size / 1024).toFixed(2)} KB)</p>\n            )}\n          </div>\n\n          {/* Options */}\n          <div className=\"space-y-2\">\n            <label className=\"block text-sm text-gray-400\">Options</label>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={options.createMissingKeys}\n                onChange={(e) => setOptions({ ...options, createMissingKeys: e.target.checked })}\n                className=\"rounded bg-gray-800 border-gray-700\"\n              />\n              <span className=\"text-gray-300 text-sm\">Create missing keys</span>\n            </label>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={options.updateExisting}\n                onChange={(e) => setOptions({ ...options, updateExisting: e.target.checked })}\n                className=\"rounded bg-gray-800 border-gray-700\"\n              />\n              <span className=\"text-gray-300 text-sm\">Update existing translations</span>\n            </label>\n            <div>\n              <input\n                type=\"text\"\n                placeholder=\"Category (optional)\"\n                value={options.category}\n                onChange={(e) => setOptions({ ...options, category: e.target.value })}\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500\"\n              />\n            </div>\n          </div>\n\n          {/* Preview */}\n          {preview && (\n            <div className=\"bg-gray-800 rounded-lg p-4\">\n              <h4 className=\"text-white font-medium mb-2\">Preview ({preview.length} items)</h4>\n              <div className=\"max-h-40 overflow-y-auto space-y-1\">\n                {preview.slice(0, 10).map((item, idx) => (\n                  <div key={idx} className=\"text-sm text-gray-400\">\n                    <code className=\"text-blue-400\">{item.key}</code>: {item.value.substring(0, 50)}\n                    {item.value.length > 50 ? '...' : ''}\n                  </div>\n                ))}\n                {preview.length > 10 && (\n                  <div className=\"text-sm text-gray-500\">... and {preview.length - 10} more</div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Result */}\n          {result && (\n            <div className={`rounded-lg p-4 ${result.success ? 'bg-green-900/50 border border-green-500' : 'bg-red-900/50 border border-red-500'}`}>\n              {result.success && result.stats ? (\n                <div>\n                  <h4 className=\"text-white font-medium mb-2\">Import Successful!</h4>\n                  <div className=\"text-sm text-gray-300 space-y-1\">\n                    <div>Keys created: {result.stats.keysCreated}</div>\n                    <div>Keys updated: {result.stats.keysUpdated}</div>\n                    <div>Translations created: {result.stats.translationsCreated}</div>\n                    <div>Translations updated: {result.stats.translationsUpdated}</div>\n                    {result.stats.errors && result.stats.errors.length > 0 && (\n                      <div className=\"text-yellow-400 mt-2\">\n                        {result.stats.errors.length} errors occurred\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ) : (\n                <div>\n                  <h4 className=\"text-white font-medium mb-2\">Import Failed</h4>\n                  <div className=\"text-sm text-red-300\">\n                    {result.errors?.map((err, idx) => (\n                      <div key={idx}>{err.message}</div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-4 border-t border-gray-800 flex justify-end gap-2\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 text-gray-400 hover:text-white\"\n            disabled={loading}\n          >\n            Cancel\n          </button>\n          {file && !result?.success && (\n            <button\n              onClick={handlePreview}\n              disabled={loading || (requiresLanguage && !languageCode)}\n              className=\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50\"\n            >\n              Preview\n            </button>\n          )}\n          <button\n            onClick={handleImport}\n            disabled={loading || !file || (requiresLanguage && !languageCode)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {loading ? 'Importing...' : 'Import'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3294, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationExport.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationExportProps {\n  projectId: string\n  token: string\n  languages: Array<{ id: string; code: string; name: string }>\n  categories: string[]\n  onClose: () => void\n}\n\nexport default function LocalizationExport({\n  projectId,\n  token,\n  languages,\n  categories,\n  onClose,\n}: LocalizationExportProps) {\n  const [format, setFormat] = useState<'csv' | 'json' | 'android_xml' | 'ios_strings' | 'xliff'>('csv')\n  const [languageCode, setLanguageCode] = useState<string>('')\n  const [category, setCategory] = useState<string>('')\n  const [includeEmpty, setIncludeEmpty] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  const handleExport = async () => {\n    setLoading(true)\n    try {\n      const blob = await api.localization.export(projectId, token, {\n        format,\n        languageCode: languageCode || undefined,\n        category: category || undefined,\n        includeEmpty,\n      })\n\n      // Create download link\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      \n      const extensionMap: Record<string, string> = {\n        csv: 'csv',\n        json: 'json',\n        android_xml: 'xml',\n        ios_strings: 'strings',\n        xliff: 'xliff',\n      }\n      \n      const filename = `translations${languageCode ? `_${languageCode}` : ''}.${extensionMap[format]}`\n      a.download = filename\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      window.URL.revokeObjectURL(url)\n\n      onClose()\n    } catch (error) {\n      alert('Export failed: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const requiresLanguage = format !== 'csv'\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-md\">\n        <div className=\"p-4 border-b border-gray-800 flex items-center justify-between\">\n          <h3 className=\"text-lg font-semibold text-white\">Export Translations</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"p-4 space-y-4\">\n          {/* Format Selection */}\n          <div>\n            <label className=\"block text-sm text-gray-400 mb-2\">Export Format</label>\n            <select\n              value={format}\n              onChange={(e) => setFormat(e.target.value as any)}\n              className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n            >\n              <option value=\"csv\">CSV (All languages)</option>\n              <option value=\"json\">JSON</option>\n              <option value=\"android_xml\">Android XML</option>\n              <option value=\"ios_strings\">iOS Strings</option>\n              <option value=\"xliff\">XLIFF</option>\n            </select>\n          </div>\n\n          {/* Language Selection */}\n          {requiresLanguage && (\n            <div>\n              <label className=\"block text-sm text-gray-400 mb-2\">Language</label>\n              <select\n                value={languageCode}\n                onChange={(e) => setLanguageCode(e.target.value)}\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                required={requiresLanguage}\n              >\n                <option value=\"\">Select language...</option>\n                {languages.map((lang) => (\n                  <option key={lang.id} value={lang.code}>\n                    {lang.name} ({lang.code})\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Category Filter */}\n          {categories.length > 0 && (\n            <div>\n              <label className=\"block text-sm text-gray-400 mb-2\">Category (Optional)</label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n              >\n                <option value=\"\">All categories</option>\n                {categories.map((cat) => (\n                  <option key={cat} value={cat}>\n                    {cat}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Options */}\n          <div>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={includeEmpty}\n                onChange={(e) => setIncludeEmpty(e.target.checked)}\n                className=\"rounded bg-gray-800 border-gray-700\"\n              />\n              <span className=\"text-gray-300 text-sm\">Include keys without translations</span>\n            </label>\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t border-gray-800 flex justify-end gap-2\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 text-gray-400 hover:text-white\"\n            disabled={loading}\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleExport}\n            disabled={loading || (requiresLanguage && !languageCode)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {loading ? 'Exporting...' : 'Export'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3641, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationStatistics.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationStatisticsProps {\n  projectId: string\n  token: string\n}\n\nexport default function LocalizationStatistics({ projectId, token }: LocalizationStatisticsProps) {\n  const [loading, setLoading] = useState(true)\n  const [stats, setStats] = useState<{\n    overview: {\n      totalKeys: number\n      totalLanguages: number\n      totalTranslations: number\n      completionRate: number\n    }\n    languages: Array<{\n      id: string\n      code: string\n      name: string\n      totalKeys: number\n      translatedKeys: number\n      completionRate: number\n      missingKeys: number\n      reviewedCount: number\n      reviewedRate: number\n    }>\n    categories: Array<{\n      category: string\n      totalKeys: number\n      translatedKeys: number\n      completionRate: number\n    }>\n    recentActivity: Array<{\n      type: string\n      timestamp: string\n      details: Record<string, any>\n    }>\n  } | null>(null)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    loadStatistics()\n  }, [projectId, token])\n\n  const loadStatistics = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const data = await api.localization.getStatistics(projectId, token)\n      setStats(data)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load statistics')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg\">\n        {error}\n        <button onClick={loadStatistics} className=\"ml-4 text-red-300 hover:text-red-100 underline\">\n          Retry\n        </button>\n      </div>\n    )\n  }\n\n  if (!stats) {\n    return null\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-gray-900 rounded-lg p-4\">\n          <div className=\"text-gray-400 text-sm mb-1\">Total Keys</div>\n          <div className=\"text-2xl font-bold text-white\">{stats.overview.totalKeys}</div>\n        </div>\n        <div className=\"bg-gray-900 rounded-lg p-4\">\n          <div className=\"text-gray-400 text-sm mb-1\">Languages</div>\n          <div className=\"text-2xl font-bold text-white\">{stats.overview.totalLanguages}</div>\n        </div>\n        <div className=\"bg-gray-900 rounded-lg p-4\">\n          <div className=\"text-gray-400 text-sm mb-1\">Translations</div>\n          <div className=\"text-2xl font-bold text-white\">{stats.overview.totalTranslations}</div>\n        </div>\n        <div className=\"bg-gray-900 rounded-lg p-4\">\n          <div className=\"text-gray-400 text-sm mb-1\">Completion Rate</div>\n          <div className=\"text-2xl font-bold text-white\">{stats.overview.completionRate.toFixed(1)}%</div>\n        </div>\n      </div>\n\n      {/* Language Statistics */}\n      <div className=\"bg-gray-900 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-white mb-4\">Language Completion</h3>\n        <div className=\"space-y-3\">\n          {stats.languages.map((lang) => (\n            <div key={lang.id} className=\"bg-gray-800 rounded-lg p-3\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-white font-medium\">{lang.name}</span>\n                  <span className=\"text-gray-500 text-sm\">({lang.code})</span>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-white font-medium\">{lang.completionRate.toFixed(1)}%</div>\n                  <div className=\"text-gray-500 text-xs\">\n                    {lang.translatedKeys} / {lang.totalKeys}\n                  </div>\n                </div>\n              </div>\n              <div className=\"w-full bg-gray-700 rounded-full h-2\">\n                <div\n                  className=\"bg-blue-600 h-2 rounded-full transition-all\"\n                  style={{ width: `${lang.completionRate}%` }}\n                ></div>\n              </div>\n              <div className=\"flex items-center justify-between mt-2 text-xs text-gray-500\">\n                <span>{lang.missingKeys} missing</span>\n                <span>\n                  {lang.reviewedCount} reviewed ({lang.reviewedRate.toFixed(1)}%)\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Category Statistics */}\n      {stats.categories.length > 0 && (\n        <div className=\"bg-gray-900 rounded-lg p-4\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">Category Breakdown</h3>\n          <div className=\"space-y-2\">\n            {stats.categories.map((cat, idx) => (\n              <div key={idx} className=\"flex items-center justify-between bg-gray-800 rounded-lg p-2\">\n                <div>\n                  <div className=\"text-white font-medium\">{cat.category}</div>\n                  <div className=\"text-gray-500 text-sm\">{cat.totalKeys} keys</div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-white\">{cat.completionRate.toFixed(1)}%</div>\n                  <div className=\"text-gray-500 text-xs\">{cat.translatedKeys} translated</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Recent Activity */}\n      {stats.recentActivity.length > 0 && (\n        <div className=\"bg-gray-900 rounded-lg p-4\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">Recent Activity</h3>\n          <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n            {stats.recentActivity.slice(0, 20).map((activity, idx) => (\n              <div key={idx} className=\"flex items-start gap-3 bg-gray-800 rounded-lg p-2\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full mt-2\"></div>\n                <div className=\"flex-1\">\n                  <div className=\"text-white text-sm\">\n                    {activity.type === 'key_created' && 'Key created'}\n                    {activity.type === 'translation_created' && 'Translation created'}\n                    {activity.type === 'translation_updated' && 'Translation updated'}\n                  </div>\n                  <div className=\"text-gray-500 text-xs\">\n                    {activity.details.key && (\n                      <code className=\"text-blue-400\">{activity.details.key}</code>\n                    )}\n                    {activity.details.language && ` • ${activity.details.languageName} (${activity.details.language})`}\n                  </div>\n                  <div className=\"text-gray-600 text-xs mt-1\">\n                    {new Date(activity.timestamp).toLocaleString()}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4169, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationBulkOperations.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationBulkOperationsProps {\n  projectId: string\n  token: string\n  keys: Array<{ id: string; key: string; category: string | null }>\n  languages: Array<{ id: string; code: string; name: string }>\n  onSuccess: () => void\n  onClose: () => void\n}\n\ntype BulkOperation = \n  | 'update_translations'\n  | 'delete_keys'\n  | 'assign_category'\n  | 'enable_languages'\n  | 'disable_languages'\n\nexport default function LocalizationBulkOperations({\n  projectId,\n  token,\n  keys,\n  languages,\n  onSuccess,\n  onClose\n}: LocalizationBulkOperationsProps) {\n  const [operation, setOperation] = useState<BulkOperation>('update_translations')\n  const [selectedKeys, setSelectedKeys] = useState<Set<string>>(new Set())\n  const [selectedLanguages, setSelectedLanguages] = useState<Set<string>>(new Set())\n  const [category, setCategory] = useState('')\n  const [translations, setTranslations] = useState<Array<{ keyId: string; languageId: string; value: string }>>([])\n  const [processing, setProcessing] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const handleSelectAllKeys = () => {\n    if (selectedKeys.size === keys.length) {\n      setSelectedKeys(new Set())\n    } else {\n      setSelectedKeys(new Set(keys.map(k => k.id)))\n    }\n  }\n\n  const handleSelectAllLanguages = () => {\n    if (selectedLanguages.size === languages.length) {\n      setSelectedLanguages(new Set())\n    } else {\n      setSelectedLanguages(new Set(languages.map(l => l.id)))\n    }\n  }\n\n  const handleAddTranslation = () => {\n    if (selectedKeys.size === 0 || selectedLanguages.size === 0) {\n      alert('Please select at least one key and one language')\n      return\n    }\n    setTranslations([...translations, { keyId: '', languageId: '', value: '' }])\n  }\n\n  const handleExecute = async () => {\n    try {\n      setProcessing(true)\n      setError(null)\n\n      const filters: any = {}\n      if (selectedKeys.size > 0) {\n        filters.keyIds = Array.from(selectedKeys)\n      }\n      if (selectedLanguages.size > 0) {\n        filters.languageIds = Array.from(selectedLanguages)\n      }\n      if (category) {\n        filters.category = category\n      }\n\n      const updates: any = {}\n      \n      if (operation === 'update_translations') {\n        updates.translations = translations.filter(t => t.keyId && t.languageId && t.value)\n      } else if (operation === 'assign_category') {\n        updates.category = category\n      } else if (operation === 'enable_languages' || operation === 'disable_languages') {\n        updates.isEnabled = operation === 'enable_languages'\n      }\n\n      const result = await api.localization.bulkEdit(token, {\n        projectId,\n        operation,\n        filters,\n        updates\n      })\n\n      if (result.errors && result.errors.length > 0) {\n        setError(`Completed with ${result.errors.length} errors. ${result.errors.map(e => e.message).join(', ')}`)\n      } else {\n        alert(`Successfully ${operation.replace('_', ' ')} ${result.affected?.keys || 0} keys, ${result.affected?.translations || 0} translations`)\n        onSuccess()\n        onClose()\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Operation failed')\n    } finally {\n      setProcessing(false)\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Bulk Operations</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {error && (\n            <div className=\"bg-red-900/20 border border-red-600 text-red-300 px-4 py-3 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          {/* Operation Selection */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-3\">Operation</label>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n              {[\n                { value: 'update_translations', label: 'Update Translations' },\n                { value: 'delete_keys', label: 'Delete Keys' },\n                { value: 'assign_category', label: 'Assign Category' },\n                { value: 'enable_languages', label: 'Enable Languages' },\n                { value: 'disable_languages', label: 'Disable Languages' }\n              ].map(op => (\n                <button\n                  key={op.value}\n                  onClick={() => setOperation(op.value as BulkOperation)}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors border ${\n                    operation === op.value\n                      ? 'bg-blue-600 border-blue-500 text-white'\n                      : 'bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-750'\n                  }`}\n                >\n                  {op.label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Filters */}\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">Select Keys</label>\n              <div className=\"bg-gray-800 rounded-lg p-4 max-h-48 overflow-y-auto border border-gray-700\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <span className=\"text-sm text-gray-400\">\n                    {selectedKeys.size} of {keys.length} selected\n                  </span>\n                  <button\n                    onClick={handleSelectAllKeys}\n                    className=\"text-sm text-blue-400 hover:text-blue-300\"\n                  >\n                    {selectedKeys.size === keys.length ? 'Deselect All' : 'Select All'}\n                  </button>\n                </div>\n                <div className=\"space-y-2\">\n                  {keys.map(key => (\n                    <label\n                      key={key.id}\n                      className=\"flex items-center gap-2 p-2 hover:bg-gray-700/50 rounded cursor-pointer\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedKeys.has(key.id)}\n                        onChange={(e) => {\n                          const newSet = new Set(selectedKeys)\n                          if (e.target.checked) {\n                            newSet.add(key.id)\n                          } else {\n                            newSet.delete(key.id)\n                          }\n                          setSelectedKeys(newSet)\n                        }}\n                        className=\"rounded bg-gray-700 border-gray-600\"\n                      />\n                      <code className=\"text-sm text-gray-300\">{key.key}</code>\n                      {key.category && (\n                        <span className=\"text-xs text-gray-500\">({key.category})</span>\n                      )}\n                    </label>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {(operation === 'update_translations' || operation === 'enable_languages' || operation === 'disable_languages') && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Select Languages</label>\n                <div className=\"bg-gray-800 rounded-lg p-4 max-h-48 overflow-y-auto border border-gray-700\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <span className=\"text-sm text-gray-400\">\n                      {selectedLanguages.size} of {languages.length} selected\n                    </span>\n                    <button\n                      onClick={handleSelectAllLanguages}\n                      className=\"text-sm text-blue-400 hover:text-blue-300\"\n                    >\n                      {selectedLanguages.size === languages.length ? 'Deselect All' : 'Select All'}\n                    </button>\n                  </div>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                    {languages.map(lang => (\n                      <label\n                        key={lang.id}\n                        className=\"flex items-center gap-2 p-2 hover:bg-gray-700/50 rounded cursor-pointer\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedLanguages.has(lang.id)}\n                          onChange={(e) => {\n                            const newSet = new Set(selectedLanguages)\n                            if (e.target.checked) {\n                              newSet.add(lang.id)\n                            } else {\n                              newSet.delete(lang.id)\n                            }\n                            setSelectedLanguages(newSet)\n                          }}\n                          className=\"rounded bg-gray-700 border-gray-600\"\n                        />\n                        <span className=\"text-sm text-gray-300\">{lang.name}</span>\n                        <span className=\"text-xs text-gray-500\">({lang.code})</span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {operation === 'assign_category' && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Category</label>\n                <input\n                  type=\"text\"\n                  value={category}\n                  onChange={(e) => setCategory(e.target.value)}\n                  placeholder=\"Enter category name\"\n                  className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                />\n              </div>\n            )}\n\n            {operation === 'update_translations' && (\n              <div>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <label className=\"block text-sm font-medium text-gray-300\">Translations</label>\n                  <button\n                    onClick={handleAddTranslation}\n                    className=\"text-sm text-blue-400 hover:text-blue-300\"\n                  >\n                    + Add Translation\n                  </button>\n                </div>\n                <div className=\"space-y-2\">\n                  {translations.map((trans, idx) => (\n                    <div key={idx} className=\"flex gap-2\">\n                      <select\n                        value={trans.keyId}\n                        onChange={(e) => {\n                          const newTranslations = [...translations]\n                          newTranslations[idx].keyId = e.target.value\n                          setTranslations(newTranslations)\n                        }}\n                        className=\"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500\"\n                      >\n                        <option value=\"\">Select Key</option>\n                        {keys.map(k => (\n                          <option key={k.id} value={k.id}>{k.key}</option>\n                        ))}\n                      </select>\n                      <select\n                        value={trans.languageId}\n                        onChange={(e) => {\n                          const newTranslations = [...translations]\n                          newTranslations[idx].languageId = e.target.value\n                          setTranslations(newTranslations)\n                        }}\n                        className=\"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500\"\n                      >\n                        <option value=\"\">Select Language</option>\n                        {languages.map(l => (\n                          <option key={l.id} value={l.id}>{l.name}</option>\n                        ))}\n                      </select>\n                      <input\n                        type=\"text\"\n                        value={trans.value}\n                        onChange={(e) => {\n                          const newTranslations = [...translations]\n                          newTranslations[idx].value = e.target.value\n                          setTranslations(newTranslations)\n                        }}\n                        placeholder=\"Translation value\"\n                        className=\"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500\"\n                      />\n                      <button\n                        onClick={() => setTranslations(translations.filter((_, i) => i !== idx))}\n                        className=\"px-3 py-2 text-red-400 hover:text-red-300\"\n                      >\n                        ✕\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"p-6 border-t border-gray-800 flex justify-end gap-3\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n            disabled={processing}\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleExecute}\n            disabled={processing || (operation === 'update_translations' && translations.length === 0) || (operation === 'assign_category' && !category)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {processing ? 'Processing...' : 'Execute Operation'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4827, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationProviderSettings.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationProviderSettingsProps {\n  projectId: string\n  token: string\n  languages: Array<{ id: string; code: string; name: string }>\n  onClose: () => void\n}\n\ntype Provider = 'google' | 'deepl' | 'azure' | 'manual'\n\nexport default function LocalizationProviderSettings({\n  projectId,\n  token,\n  languages,\n  onClose\n}: LocalizationProviderSettingsProps) {\n  const [providers, setProviders] = useState<Array<{\n    id: string\n    provider: string\n    isEnabled: boolean\n    autoTranslate: boolean\n    defaultSourceLanguageId: string | null\n  }>>([])\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [editingProvider, setEditingProvider] = useState<Provider | null>(null)\n  const [formData, setFormData] = useState({\n    apiKey: '',\n    apiSecret: '',\n    isEnabled: true,\n    autoTranslate: false,\n    defaultSourceLanguageId: ''\n  })\n\n  useEffect(() => {\n    loadProviders()\n  }, [])\n\n  const loadProviders = async () => {\n    try {\n      setLoading(true)\n      const data = await api.localization.getProviders(projectId, token)\n      setProviders(data.providers as any)\n    } catch (error) {\n      console.error('Failed to load providers:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleEditProvider = (provider: Provider) => {\n    const existing = providers.find(p => p.provider === provider)\n    setEditingProvider(provider)\n    setFormData({\n      apiKey: '',\n      apiSecret: '',\n      isEnabled: existing?.isEnabled ?? true,\n      autoTranslate: existing?.autoTranslate ?? false,\n      defaultSourceLanguageId: existing?.defaultSourceLanguageId || ''\n    })\n  }\n\n  const handleSaveProvider = async () => {\n    if (!editingProvider) return\n\n    try {\n      setSaving(true)\n      await api.localization.createProvider(\n        projectId,\n        editingProvider,\n        formData.apiKey || undefined,\n        formData.apiSecret || undefined,\n        formData.isEnabled,\n        formData.autoTranslate,\n        formData.defaultSourceLanguageId || undefined,\n        token\n      )\n      setEditingProvider(null)\n      setFormData({ apiKey: '', apiSecret: '', isEnabled: true, autoTranslate: false, defaultSourceLanguageId: '' })\n      loadProviders()\n    } catch (error) {\n      alert('Failed to save provider: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-gray-900 rounded-lg p-6\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-2xl border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Translation Providers</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-4\">\n          {!editingProvider ? (\n            <>\n              <p className=\"text-gray-400 text-sm mb-4\">\n                Configure machine translation providers to automatically translate your keys.\n              </p>\n              <div className=\"space-y-3\">\n                {(['google', 'deepl', 'azure'] as Provider[]).map(provider => {\n                  const existing = providers.find(p => p.provider === provider)\n                  return (\n                    <div\n                      key={provider}\n                      className=\"bg-gray-800 rounded-lg p-4 border border-gray-700 flex items-center justify-between\"\n                    >\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-white font-medium capitalize\">{provider}</span>\n                          {existing?.isEnabled && (\n                            <span className=\"px-2 py-0.5 bg-green-600/20 text-green-400 text-xs rounded\">Enabled</span>\n                          )}\n                          {existing?.autoTranslate && (\n                            <span className=\"px-2 py-0.5 bg-blue-600/20 text-blue-400 text-xs rounded\">Auto-translate</span>\n                          )}\n                        </div>\n                        {existing && (\n                          <p className=\"text-gray-500 text-sm mt-1\">\n                            Default source: {languages.find(l => l.id === existing.defaultSourceLanguageId || '')?.name || 'Not set'}\n                          </p>\n                        )}\n                      </div>\n                      <button\n                        onClick={() => handleEditProvider(provider)}\n                        className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors\"\n                      >\n                        {existing ? 'Edit' : 'Configure'}\n                      </button>\n                    </div>\n                  )\n                })}\n              </div>\n            </>\n          ) : (\n            <div className=\"space-y-4\">\n              <div>\n                <h4 className=\"text-lg font-medium text-white mb-4 capitalize\">Configure {editingProvider}</h4>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">API Key</label>\n                    <input\n                      type=\"password\"\n                      value={formData.apiKey}\n                      onChange={(e) => setFormData({ ...formData, apiKey: e.target.value })}\n                      placeholder={`Enter ${editingProvider} API key`}\n                      className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                    />\n                    <p className=\"text-gray-500 text-xs mt-1\">\n                      Leave empty to keep existing key unchanged\n                    </p>\n                  </div>\n\n                  {editingProvider === 'azure' && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-300 mb-2\">API Secret / Region</label>\n                      <input\n                        type=\"password\"\n                        value={formData.apiSecret}\n                        onChange={(e) => setFormData({ ...formData, apiSecret: e.target.value })}\n                        placeholder=\"Enter Azure region or secret\"\n                        className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                      />\n                    </div>\n                  )}\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Default Source Language</label>\n                    <select\n                      value={formData.defaultSourceLanguageId}\n                      onChange={(e) => setFormData({ ...formData, defaultSourceLanguageId: e.target.value })}\n                      className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                    >\n                      <option value=\"\">Select default source language</option>\n                      {languages.map(lang => (\n                        <option key={lang.id} value={lang.id}>{lang.name} ({lang.code})</option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.isEnabled}\n                      onChange={(e) => setFormData({ ...formData, isEnabled: e.target.checked })}\n                      className=\"rounded bg-gray-800 border-gray-700\"\n                    />\n                    <span className=\"text-gray-300 text-sm\">Enable this provider</span>\n                  </label>\n\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.autoTranslate}\n                      onChange={(e) => setFormData({ ...formData, autoTranslate: e.target.checked })}\n                      className=\"rounded bg-gray-800 border-gray-700\"\n                    />\n                    <span className=\"text-gray-300 text-sm\">Auto-translate new keys</span>\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-800\">\n                <button\n                  onClick={() => {\n                    setEditingProvider(null)\n                    setFormData({ apiKey: '', apiSecret: '', isEnabled: true, autoTranslate: false, defaultSourceLanguageId: '' })\n                  }}\n                  className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n                  disabled={saving}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSaveProvider}\n                  disabled={saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5347, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationComments.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationCommentsProps {\n  translationId: string\n  projectId: string\n  token: string\n  onClose: () => void\n}\n\ninterface Comment {\n  id: string\n  content: string\n  userId: string | null\n  userName: string | null\n  isResolved: boolean\n  resolvedBy: string | null\n  resolvedAt: string | null\n  createdAt: string\n}\n\nexport default function LocalizationComments({\n  translationId,\n  projectId,\n  token,\n  onClose\n}: LocalizationCommentsProps) {\n  const [comments, setComments] = useState<Comment[]>([])\n  const [newComment, setNewComment] = useState('')\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n\n  useEffect(() => {\n    loadComments()\n  }, [])\n\n  const loadComments = async () => {\n    try {\n      setLoading(true)\n      const data = await api.localization.getComments(translationId, projectId, token)\n      setComments(data.comments as any)\n    } catch (error) {\n      console.error('Failed to load comments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAddComment = async () => {\n    if (!newComment.trim()) return\n\n    try {\n      setSaving(true)\n      const data = await api.localization.createComment(translationId, projectId, newComment, token)\n      setComments([data.comment as any, ...comments])\n      setNewComment('')\n    } catch (error) {\n      alert('Failed to add comment: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleToggleResolve = async (commentId: string, isResolved: boolean) => {\n    try {\n      const data = await api.localization.updateComment(commentId, !isResolved, token)\n      setComments(comments.map(c => c.id === commentId ? { ...c, isResolved: data.comment.isResolved } : c))\n    } catch (error) {\n      alert('Failed to update comment: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    }\n  }\n\n  const handleDeleteComment = async (commentId: string) => {\n    if (!confirm('Are you sure you want to delete this comment?')) return\n\n    try {\n      await api.localization.deleteComment(commentId, token)\n      setComments(comments.filter(c => c.id !== commentId))\n    } catch (error) {\n      alert('Failed to delete comment: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Comments</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : comments.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-400\">No comments yet</p>\n            </div>\n          ) : (\n            comments.map(comment => (\n              <div\n                key={comment.id}\n                className={`bg-gray-800 rounded-lg p-4 border ${\n                  comment.isResolved ? 'border-gray-700 opacity-75' : 'border-gray-700'\n                }`}\n              >\n                <div className=\"flex items-start justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-white font-medium text-sm\">\n                      {comment.userName || 'Anonymous'}\n                    </span>\n                    <span className=\"text-gray-500 text-xs\">\n                      {new Date(comment.createdAt).toLocaleDateString()}\n                    </span>\n                    {comment.isResolved && (\n                      <span className=\"px-2 py-0.5 bg-green-600/20 text-green-400 text-xs rounded\">\n                        Resolved\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={() => handleToggleResolve(comment.id, comment.isResolved)}\n                      className={`text-xs px-2 py-1 rounded ${\n                        comment.isResolved\n                          ? 'text-yellow-400 hover:text-yellow-300'\n                          : 'text-green-400 hover:text-green-300'\n                      }`}\n                    >\n                      {comment.isResolved ? 'Unresolve' : 'Resolve'}\n                    </button>\n                    <button\n                      onClick={() => handleDeleteComment(comment.id)}\n                      className=\"text-xs text-red-400 hover:text-red-300\"\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n                <p className=\"text-gray-300 text-sm whitespace-pre-wrap\">{comment.content}</p>\n              </div>\n            ))\n          )}\n        </div>\n\n        <div className=\"p-6 border-t border-gray-800\">\n          <div className=\"flex gap-2\">\n            <textarea\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n              placeholder=\"Add a comment...\"\n              rows={3}\n              className=\"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500 resize-none\"\n            />\n            <button\n              onClick={handleAddComment}\n              disabled={!newComment.trim() || saving}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors self-end\"\n            >\n              {saving ? 'Adding...' : 'Add'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5643, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationHistory.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationHistoryProps {\n  projectId: string\n  translationId?: string\n  keyId?: string\n  token: string\n  onClose: () => void\n}\n\ninterface HistoryEntry {\n  id: string\n  oldValue: string | null\n  newValue: string\n  changeType: string\n  userId: string | null\n  userName: string | null\n  createdAt: string\n  metadata: Record<string, any> | null\n}\n\nexport default function LocalizationHistory({\n  projectId,\n  translationId,\n  keyId,\n  token,\n  onClose\n}: LocalizationHistoryProps) {\n  const [history, setHistory] = useState<HistoryEntry[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadHistory()\n  }, [])\n\n  const loadHistory = async () => {\n    try {\n      setLoading(true)\n      const data = await api.localization.getHistory(projectId, translationId, keyId, 50, token)\n      setHistory(data.history as any)\n    } catch (error) {\n      console.error('Failed to load history:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const formatChangeType = (type: string) => {\n    const types: Record<string, string> = {\n      created: 'Created',\n      updated: 'Updated',\n      deleted: 'Deleted',\n      reviewed: 'Reviewed'\n    }\n    return types[type] || type\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Translation History</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : history.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-400\">No history available</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {history.map((entry, idx) => (\n                <div key={entry.id} className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${\n                        entry.changeType === 'created' ? 'bg-green-600/20 text-green-400' :\n                        entry.changeType === 'updated' ? 'bg-blue-600/20 text-blue-400' :\n                        entry.changeType === 'deleted' ? 'bg-red-600/20 text-red-400' :\n                        'bg-purple-600/20 text-purple-400'\n                      }`}>\n                        {entry.changeType === 'created' ? '+' :\n                         entry.changeType === 'updated' ? '↻' :\n                         entry.changeType === 'deleted' ? '×' : '✓'}\n                      </div>\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"text-white font-medium text-sm\">\n                            {formatChangeType(entry.changeType)}\n                          </span>\n                          {entry.metadata?.provider && (\n                            <span className=\"px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded\">\n                              {entry.metadata.provider}\n                            </span>\n                          )}\n                          {entry.metadata?.confidence && (\n                            <span className=\"px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded\">\n                              {Math.round(entry.metadata.confidence * 100)}% confidence\n                            </span>\n                          )}\n                        </div>\n                        <p className=\"text-gray-500 text-xs mt-1\">\n                          by {entry.userName || 'Unknown'} • {new Date(entry.createdAt).toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {entry.oldValue && entry.changeType === 'updated' && (\n                    <div className=\"mb-2\">\n                      <p className=\"text-xs text-gray-500 mb-1\">Previous:</p>\n                      <div className=\"bg-red-900/20 border border-red-800 rounded p-2\">\n                        <p className=\"text-red-300 text-sm line-through\">{entry.oldValue}</p>\n                      </div>\n                    </div>\n                  )}\n\n                  <div>\n                    {entry.changeType === 'deleted' ? (\n                      <div className=\"bg-red-900/20 border border-red-800 rounded p-2\">\n                        <p className=\"text-red-300 text-sm\">{entry.oldValue || entry.newValue}</p>\n                      </div>\n                    ) : (\n                      <div className=\"bg-green-900/20 border border-green-800 rounded p-2\">\n                        <p className=\"text-green-300 text-sm\">{entry.newValue}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5951, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/LocalizationGlossary.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ninterface LocalizationGlossaryProps {\n  projectId: string\n  token: string\n  languages: Array<{ id: string; code: string; name: string }>\n  onClose: () => void\n}\n\ninterface GlossaryTerm {\n  id: string\n  term: string\n  definition: string | null\n  context: string | null\n  translations: Record<string, string>\n  category: string | null\n  isActive: boolean\n}\n\nexport default function LocalizationGlossary({\n  projectId,\n  token,\n  languages,\n  onClose\n}: LocalizationGlossaryProps) {\n  const [glossary, setGlossary] = useState<GlossaryTerm[]>([])\n  const [loading, setLoading] = useState(true)\n  const [showAddTerm, setShowAddTerm] = useState(false)\n  const [editingTerm, setEditingTerm] = useState<GlossaryTerm | null>(null)\n  const [search, setSearch] = useState('')\n  const [category, setCategory] = useState('')\n  const [formData, setFormData] = useState({\n    term: '',\n    definition: '',\n    context: '',\n    category: '',\n    translations: {} as Record<string, string>\n  })\n  const [saving, setSaving] = useState(false)\n\n  useEffect(() => {\n    loadGlossary()\n  }, [])\n\n  const loadGlossary = async () => {\n    try {\n      setLoading(true)\n      const data = await api.localization.getGlossary(projectId, category || undefined, search || undefined, token)\n      setGlossary(data.glossary as any)\n    } catch (error) {\n      console.error('Failed to load glossary:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadGlossary()\n  }, [search, category])\n\n  const handleAddTerm = async () => {\n    if (!formData.term.trim()) return\n\n    try {\n      setSaving(true)\n      await api.localization.createGlossaryTerm(\n        projectId,\n        formData.term,\n        formData.definition || undefined,\n        formData.context || undefined,\n        Object.keys(formData.translations).length > 0 ? formData.translations : undefined,\n        formData.category || undefined,\n        token\n      )\n      setFormData({ term: '', definition: '', context: '', category: '', translations: {} })\n      setShowAddTerm(false)\n      loadGlossary()\n    } catch (error) {\n      alert('Failed to add term: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleUpdateTerm = async () => {\n    if (!editingTerm) return\n\n    try {\n      setSaving(true)\n      await api.localization.updateGlossaryTerm(editingTerm.id, {\n        term: formData.term,\n        definition: formData.definition,\n        context: formData.context,\n        translations: formData.translations,\n        category: formData.category,\n        isActive: editingTerm.isActive\n      }, token)\n      setEditingTerm(null)\n      setFormData({ term: '', definition: '', context: '', category: '', translations: {} })\n      loadGlossary()\n    } catch (error) {\n      alert('Failed to update term: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleDeleteTerm = async (termId: string) => {\n    if (!confirm('Are you sure you want to delete this glossary term?')) return\n\n    try {\n      await api.localization.deleteGlossaryTerm(termId, token)\n      loadGlossary()\n    } catch (error) {\n      alert('Failed to delete term: ' + (error instanceof Error ? error.message : 'Unknown error'))\n    }\n  }\n\n  const categories = [...new Set(glossary.map(t => t.category).filter(Boolean))] as string[]\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg w-full max-w-6xl max-h-[90vh] flex flex-col border border-gray-800\">\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-white\">Glossary / Terminology</h3>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 border-b border-gray-800\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex-1\">\n              <input\n                type=\"text\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                placeholder=\"Search terms...\"\n                className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n              />\n            </div>\n            <select\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n              className=\"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n            >\n              <option value=\"\">All Categories</option>\n              {categories.map(cat => (\n                <option key={cat} value={cat}>{cat}</option>\n              ))}\n            </select>\n            <button\n              onClick={() => {\n                setShowAddTerm(true)\n                setFormData({ term: '', definition: '', context: '', category: '', translations: {} })\n              }}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              + Add Term\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : glossary.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-400\">No glossary terms found</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {glossary.map(term => (\n                <div\n                  key={term.id}\n                  className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\"\n                >\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"text-white font-medium\">{term.term}</span>\n                        {term.category && (\n                          <span className=\"px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded\">\n                            {term.category}\n                          </span>\n                        )}\n                        {!term.isActive && (\n                          <span className=\"px-2 py-0.5 bg-gray-700 text-gray-500 text-xs rounded\">\n                            Inactive\n                          </span>\n                        )}\n                      </div>\n                      {term.definition && (\n                        <p className=\"text-gray-400 text-sm mb-1\">{term.definition}</p>\n                      )}\n                      {term.context && (\n                        <p className=\"text-gray-500 text-xs italic\">{term.context}</p>\n                      )}\n                      {Object.keys(term.translations || {}).length > 0 && (\n                        <div className=\"mt-2 pt-2 border-t border-gray-700\">\n                          <p className=\"text-xs text-gray-500 mb-1\">Translations:</p>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {Object.entries(term.translations).map(([langCode, translation]) => (\n                              <span key={langCode} className=\"text-xs\">\n                                <span className=\"text-gray-500\">{langCode}:</span>{' '}\n                                <span className=\"text-gray-300\">{translation}</span>\n                              </span>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => {\n                          setEditingTerm(term)\n                          setFormData({\n                            term: term.term,\n                            definition: term.definition || '',\n                            context: term.context || '',\n                            category: term.category || '',\n                            translations: term.translations || {}\n                          })\n                        }}\n                        className=\"text-gray-400 hover:text-white p-1\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button\n                        onClick={() => handleDeleteTerm(term.id)}\n                        className=\"text-gray-400 hover:text-red-400 p-1\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Add/Edit Term Modal */}\n        {(showAddTerm || editingTerm) && (\n          <div className=\"absolute inset-0 bg-black/70 flex items-center justify-center z-10\">\n            <div className=\"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-800 m-4\">\n              <div className=\"p-6 border-b border-gray-800\">\n                <h4 className=\"text-lg font-semibold text-white\">\n                  {editingTerm ? 'Edit Term' : 'Add Term'}\n                </h4>\n              </div>\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Term *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.term}\n                    onChange={(e) => setFormData({ ...formData, term: e.target.value })}\n                    placeholder=\"Enter term\"\n                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Definition</label>\n                  <textarea\n                    value={formData.definition}\n                    onChange={(e) => setFormData({ ...formData, definition: e.target.value })}\n                    placeholder=\"Enter definition\"\n                    rows={3}\n                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500 resize-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Context</label>\n                  <textarea\n                    value={formData.context}\n                    onChange={(e) => setFormData({ ...formData, context: e.target.value })}\n                    placeholder=\"Enter usage context\"\n                    rows={2}\n                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500 resize-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Category</label>\n                  <input\n                    type=\"text\"\n                    value={formData.category}\n                    onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                    placeholder=\"Enter category\"\n                    className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Translations</label>\n                  <div className=\"space-y-2\">\n                    {languages.map(lang => (\n                      <div key={lang.id} className=\"flex items-center gap-2\">\n                        <span className=\"w-20 text-sm text-gray-400\">{lang.name}:</span>\n                        <input\n                          type=\"text\"\n                          value={formData.translations[lang.code] || ''}\n                          onChange={(e) => {\n                            const newTranslations = { ...formData.translations }\n                            if (e.target.value) {\n                              newTranslations[lang.code] = e.target.value\n                            } else {\n                              delete newTranslations[lang.code]\n                            }\n                            setFormData({ ...formData, translations: newTranslations })\n                          }}\n                          placeholder={`Translation in ${lang.name}`}\n                          className=\"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500\"\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n              <div className=\"p-6 border-t border-gray-800 flex justify-end gap-3\">\n                <button\n                  onClick={() => {\n                    setShowAddTerm(false)\n                    setEditingTerm(null)\n                    setFormData({ term: '', definition: '', context: '', category: '', translations: {} })\n                  }}\n                  className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n                  disabled={saving}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={editingTerm ? handleUpdateTerm : handleAddTerm}\n                  disabled={!formData.term.trim() || saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  {saving ? 'Saving...' : editingTerm ? 'Update' : 'Add'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAsBe,SAAS,qBAAqB,EAC3C,SAAS,EACT,KAAK,EACL,SAAS,EACT,OAAO,EACmB;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kXAAQ,EAAiB,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kXAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kXAAQ,EAAsB;IACpE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kXAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kXAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kXAAQ,EAAC;QACvC,MAAM;QACN,YAAY;QACZ,SAAS;QACT,UAAU;QACV,cAAc,CAAC;IACjB;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kXAAQ,EAAC;IAErC,IAAA,mXAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI;YACF,WAAW;YACX,MAAM,OAAO,MAAM,qIAAG,CAAC,YAAY,CAAC,WAAW,CAAC,WAAW,YAAY,WAAW,UAAU,WAAW;YACvG,YAAY,KAAK,QAAQ;QAC3B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,mXAAS,EAAC;QACR;IACF,GAAG;QAAC;QAAQ;KAAS;IAErB,MAAM,gBAAgB;QACpB,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI;QAE3B,IAAI;YACF,UAAU;YACV,MAAM,qIAAG,CAAC,YAAY,CAAC,kBAAkB,CACvC,WACA,SAAS,IAAI,EACb,SAAS,UAAU,IAAI,WACvB,SAAS,OAAO,IAAI,WACpB,OAAO,IAAI,CAAC,SAAS,YAAY,EAAE,MAAM,GAAG,IAAI,SAAS,YAAY,GAAG,WACxE,SAAS,QAAQ,IAAI,WACrB;YAEF,YAAY;gBAAE,MAAM;gBAAI,YAAY;gBAAI,SAAS;gBAAI,UAAU;gBAAI,cAAc,CAAC;YAAE;YACpF,eAAe;YACf;QACF,EAAE,OAAO,OAAO;YACd,MAAM,yBAAyB,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,eAAe;QAC1F,SAAU;YACR,UAAU;QACZ;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,aAAa;QAElB,IAAI;YACF,UAAU;YACV,MAAM,qIAAG,CAAC,YAAY,CAAC,kBAAkB,CAAC,YAAY,EAAE,EAAE;gBACxD,MAAM,SAAS,IAAI;gBACnB,YAAY,SAAS,UAAU;gBAC/B,SAAS,SAAS,OAAO;gBACzB,cAAc,SAAS,YAAY;gBACnC,UAAU,SAAS,QAAQ;gBAC3B,UAAU,YAAY,QAAQ;YAChC,GAAG;YACH,eAAe;YACf,YAAY;gBAAE,MAAM;gBAAI,YAAY;gBAAI,SAAS;gBAAI,UAAU;gBAAI,cAAc,CAAC;YAAE;YACpF;QACF,EAAE,OAAO,OAAO;YACd,MAAM,4BAA4B,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,eAAe;QAC7F,SAAU;YACR,UAAU;QACZ;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,IAAI,CAAC,QAAQ,wDAAwD;QAErE,IAAI;YACF,MAAM,qIAAG,CAAC,YAAY,CAAC,kBAAkB,CAAC,QAAQ;YAClD;QACF,EAAE,OAAO,OAAO;YACd,MAAM,4BAA4B,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,eAAe;QAC7F;IACF;IAEA,MAAM,aAAa;WAAI,IAAI,IAAI,SAAS,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ,EAAE,MAAM,CAAC;KAAU;IAE9E,qBACE,+YAAC;QAAI,WAAU;kBACb,cAAA,+YAAC;YAAI,WAAU;;8BACb,+YAAC;oBAAI,WAAU;8BACb,cAAA,+YAAC;wBAAI,WAAU;;0CACb,+YAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,+YAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,+YAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,+YAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAM7E,+YAAC;oBAAI,WAAU;8BACb,cAAA,+YAAC;wBAAI,WAAU;;0CACb,+YAAC;gCAAI,WAAU;0CACb,cAAA,+YAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,aAAY;oCACZ,WAAU;;;;;;;;;;;0CAGd,+YAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;;kDAEV,+YAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,WAAW,GAAG,CAAC,CAAA,oBACd,+YAAC;4CAAiB,OAAO;sDAAM;2CAAlB;;;;;;;;;;;0CAGjB,+YAAC;gCACC,SAAS;oCACP,eAAe;oCACf,YAAY;wCAAE,MAAM;wCAAI,YAAY;wCAAI,SAAS;wCAAI,UAAU;wCAAI,cAAc,CAAC;oCAAE;gCACtF;gCACA,WAAU;0CACX;;;;;;;;;;;;;;;;;8BAML,+YAAC;oBAAI,WAAU;8BACZ,wBACC,+YAAC;wBAAI,WAAU;kCACb,cAAA,+YAAC;4BAAI,WAAU;;;;;;;;;;+BAEf,SAAS,MAAM,KAAK,kBACtB,+YAAC;wBAAI,WAAU;kCACb,cAAA,+YAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;6CAG/B,+YAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAA,qBACZ,+YAAC;gCAEC,WAAU;0CAEV,cAAA,+YAAC;oCAAI,WAAU;;sDACb,+YAAC;4CAAI,WAAU;;8DACb,+YAAC;oDAAI,WAAU;;sEACb,+YAAC;4DAAK,WAAU;sEAA0B,KAAK,IAAI;;;;;;wDAClD,KAAK,QAAQ,kBACZ,+YAAC;4DAAK,WAAU;sEACb,KAAK,QAAQ;;;;;;wDAGjB,CAAC,KAAK,QAAQ,kBACb,+YAAC;4DAAK,WAAU;sEAAwD;;;;;;;;;;;;gDAK3E,KAAK,UAAU,kBACd,+YAAC;oDAAE,WAAU;8DAA8B,KAAK,UAAU;;;;;;gDAE3D,KAAK,OAAO,kBACX,+YAAC;oDAAE,WAAU;8DAAgC,KAAK,OAAO;;;;;;gDAE1D,OAAO,IAAI,CAAC,KAAK,YAAY,IAAI,CAAC,GAAG,MAAM,GAAG,mBAC7C,+YAAC;oDAAI,WAAU;;sEACb,+YAAC;4DAAE,WAAU;sEAA6B;;;;;;sEAC1C,+YAAC;4DAAI,WAAU;sEACZ,OAAO,OAAO,CAAC,KAAK,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC,UAAU,YAAY,iBAC7D,+YAAC;oEAAoB,WAAU;;sFAC7B,+YAAC;4EAAK,WAAU;;gFAAiB;gFAAS;;;;;;;wEAAS;sFACnD,+YAAC;4EAAK,WAAU;sFAAiB;;;;;;;mEAFxB;;;;;;;;;;;;;;;;;;;;;;sDASrB,+YAAC;4CAAI,WAAU;;8DACb,+YAAC;oDACC,SAAS;wDACP,eAAe;wDACf,YAAY;4DACV,MAAM,KAAK,IAAI;4DACf,YAAY,KAAK,UAAU,IAAI;4DAC/B,SAAS,KAAK,OAAO,IAAI;4DACzB,UAAU,KAAK,QAAQ,IAAI;4DAC3B,cAAc,KAAK,YAAY,IAAI,CAAC;wDACtC;oDACF;oDACA,WAAU;8DAEV,cAAA,+YAAC;wDAAI,WAAU;wDAAU,MAAK;wDAAO,QAAO;wDAAe,SAAQ;kEACjE,cAAA,+YAAC;4DAAK,eAAc;4DAAQ,gBAAe;4DAAQ,aAAa;4DAAG,GAAE;;;;;;;;;;;;;;;;8DAGzE,+YAAC;oDACC,SAAS,IAAM,iBAAiB,KAAK,EAAE;oDACvC,WAAU;8DAEV,cAAA,+YAAC;wDAAI,WAAU;wDAAU,MAAK;wDAAO,QAAO;wDAAe,SAAQ;kEACjE,cAAA,+YAAC;4DAAK,eAAc;4DAAQ,gBAAe;4DAAQ,aAAa;4DAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA7DxE,KAAK,EAAE;;;;;;;;;;;;;;;gBAyErB,CAAC,eAAe,WAAW,mBAC1B,+YAAC;oBAAI,WAAU;8BACb,cAAA,+YAAC;wBAAI,WAAU;;0CACb,+YAAC;gCAAI,WAAU;0CACb,cAAA,+YAAC;oCAAG,WAAU;8CACX,cAAc,cAAc;;;;;;;;;;;0CAGjC,+YAAC;gCAAI,WAAU;;kDACb,+YAAC;;0DACC,+YAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,+YAAC;gDACC,MAAK;gDACL,OAAO,SAAS,IAAI;gDACpB,UAAU,CAAC,IAAM,YAAY;wDAAE,GAAG,QAAQ;wDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACjE,aAAY;gDACZ,WAAU;;;;;;;;;;;;kDAId,+YAAC;;0DACC,+YAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,+YAAC;gDACC,OAAO,SAAS,UAAU;gDAC1B,UAAU,CAAC,IAAM,YAAY;wDAAE,GAAG,QAAQ;wDAAE,YAAY,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACvE,aAAY;gDACZ,MAAM;gDACN,WAAU;;;;;;;;;;;;kDAId,+YAAC;;0DACC,+YAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,+YAAC;gDACC,OAAO,SAAS,OAAO;gDACvB,UAAU,CAAC,IAAM,YAAY;wDAAE,GAAG,QAAQ;wDAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACpE,aAAY;gDACZ,MAAM;gDACN,WAAU;;;;;;;;;;;;kDAId,+YAAC;;0DACC,+YAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,+YAAC;gDACC,MAAK;gDACL,OAAO,SAAS,QAAQ;gDACxB,UAAU,CAAC,IAAM,YAAY;wDAAE,GAAG,QAAQ;wDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACrE,aAAY;gDACZ,WAAU;;;;;;;;;;;;kDAId,+YAAC;;0DACC,+YAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,+YAAC;gDAAI,WAAU;0DACZ,UAAU,GAAG,CAAC,CAAA,qBACb,+YAAC;wDAAkB,WAAU;;0EAC3B,+YAAC;gEAAK,WAAU;;oEAA8B,KAAK,IAAI;oEAAC;;;;;;;0EACxD,+YAAC;gEACC,MAAK;gEACL,OAAO,SAAS,YAAY,CAAC,KAAK,IAAI,CAAC,IAAI;gEAC3C,UAAU,CAAC;oEACT,MAAM,kBAAkB;wEAAE,GAAG,SAAS,YAAY;oEAAC;oEACnD,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE;wEAClB,eAAe,CAAC,KAAK,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK;oEAC7C,OAAO;wEACL,OAAO,eAAe,CAAC,KAAK,IAAI,CAAC;oEACnC;oEACA,YAAY;wEAAE,GAAG,QAAQ;wEAAE,cAAc;oEAAgB;gEAC3D;gEACA,aAAa,CAAC,eAAe,EAAE,KAAK,IAAI,EAAE;gEAC1C,WAAU;;;;;;;uDAfJ,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;0CAsBzB,+YAAC;gCAAI,WAAU;;kDACb,+YAAC;wCACC,SAAS;4CACP,eAAe;4CACf,eAAe;4CACf,YAAY;gDAAE,MAAM;gDAAI,YAAY;gDAAI,SAAS;gDAAI,UAAU;gDAAI,cAAc,CAAC;4CAAE;wCACtF;wCACA,WAAU;wCACV,UAAU;kDACX;;;;;;kDAGD,+YAAC;wCACC,SAAS,cAAc,mBAAmB;wCAC1C,UAAU,CAAC,SAAS,IAAI,CAAC,IAAI,MAAM;wCACnC,WAAU;kDAET,SAAS,cAAc,cAAc,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnE"}},
    {"offset": {"line": 6716, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/Sidebar.tsx"],"sourcesContent":["'use client'\n\nimport { usePathname, useParams } from 'next/navigation'\nimport Link from 'next/link'\nimport { useAuth } from './AuthProvider'\n\ntype MenuItem = {\n  label: string\n  href?: string\n  tab?: string\n  adminOnly?: boolean\n  onClick?: () => void\n  count?: number\n}\n\ntype MenuCategory = {\n  header: string\n  items: MenuItem[]\n}\n\nexport default function Sidebar({ \n  onTabChange, \n  activeTab,\n  counts \n}: { \n  onTabChange?: (tab: string) => void\n  activeTab?: string\n  counts?: Record<string, number>\n}) {\n  const pathname = usePathname()\n  const params = useParams()\n  const { user } = useAuth()\n  const projectId = params?.id as string\n\n  const isProjectPage = pathname?.startsWith('/projects/') && projectId\n\n  const menuCategories: MenuCategory[] = [\n    {\n      header: 'Platform',\n      items: [\n        { label: 'NivoStack Admin', href: '/admin', adminOnly: true },\n      ],\n    },\n    {\n      header: 'Runtime',\n      items: [\n        { label: 'Devices', tab: 'devices', onClick: () => onTabChange?.('devices'), count: counts?.devices },\n        { label: 'API Traces', tab: 'traces', onClick: () => onTabChange?.('traces'), count: counts?.traces },\n        { label: 'Screen Flow', tab: 'flow', onClick: () => onTabChange?.('flow'), count: counts?.flow },\n        { label: 'Device Logs', tab: 'logs', onClick: () => onTabChange?.('logs'), count: counts?.logs },\n        { label: 'Crashes', tab: 'crashes', onClick: () => onTabChange?.('crashes'), count: counts?.crashes },\n      ],\n    },\n    {\n      header: 'Content',\n      items: [\n        { label: 'Business Configuration', tab: 'business-config', onClick: () => onTabChange?.('business-config') },\n        { label: 'Localization', tab: 'localization', onClick: () => onTabChange?.('localization') },\n      ],\n    },\n    {\n      header: 'APIs',\n      items: [\n        { label: 'API Config', tab: 'config', onClick: () => onTabChange?.('config') },\n        { label: 'API Mocking', tab: 'mocks', onClick: () => onTabChange?.('mocks') },\n        { label: 'Monitoring', tab: 'monitor', onClick: () => onTabChange?.('monitor'), count: counts?.monitor },\n        { label: 'Cost Analysis', tab: 'analytics', onClick: () => onTabChange?.('analytics') },\n      ],\n    },\n    {\n      header: 'Settings',\n      items: [\n        { label: 'Project Settings', tab: 'settings', onClick: () => onTabChange?.('settings') },\n      ],\n    },\n  ]\n\n  const isActive = (item: MenuItem) => {\n    if (item.href) {\n      return pathname === item.href || pathname?.startsWith(item.href + '/')\n    }\n    if (item.tab && isProjectPage && activeTab) {\n      return activeTab === item.tab\n    }\n    return false\n  }\n\n  const handleClick = (item: MenuItem) => {\n    if (item.onClick) {\n      item.onClick()\n    }\n  }\n\n  return (\n    <aside className=\"w-64 bg-gray-900 border-r border-gray-800 min-h-screen flex-shrink-0\">\n      <div className=\"p-4 sticky top-0\">\n        <Link href=\"/projects\" className=\"text-xl font-bold text-white block mb-6\">\n          NivoStack\n        </Link>\n        <nav className=\"space-y-6 overflow-y-auto max-h-[calc(100vh-120px)]\">\n          {menuCategories.map((category) => {\n            const visibleItems = category.items.filter(\n              (item) => !item.adminOnly || user?.isAdmin\n            )\n            \n            if (visibleItems.length === 0) return null\n\n            return (\n              <div key={category.header}>\n                <h3 className=\"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\n                  {category.header}\n                </h3>\n                <ul className=\"space-y-1\">\n                  {visibleItems.map((item, idx) => {\n                    const active = isActive(item)\n                    const content = item.href ? (\n                      <Link\n                        href={item.href}\n                        className={`block px-3 py-2 text-sm rounded-md transition-colors ${\n                          active\n                            ? 'bg-blue-900/30 text-blue-400 font-medium'\n                            : 'text-gray-300 hover:bg-gray-800 hover:text-white'\n                        }`}\n                      >\n                        {item.label}\n                      </Link>\n                    ) : (\n                      <button\n                        onClick={() => handleClick(item)}\n                        className={`w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between ${\n                          active\n                            ? 'bg-blue-900/30 text-blue-400 font-medium'\n                            : 'text-gray-300 hover:bg-gray-800 hover:text-white'\n                        }`}\n                      >\n                        <span>{item.label}</span>\n                        {item.count !== undefined && (\n                          <span className={`px-2 py-0.5 rounded-full text-xs ${\n                            active ? 'bg-blue-500' : 'bg-gray-700'\n                          }`}>\n                            {item.count}\n                          </span>\n                        )}\n                      </button>\n                    )\n\n                    return (\n                      <li key={item.label + idx}>\n                        {content}\n                      </li>\n                    )\n                  })}\n                </ul>\n              </div>\n            )\n          })}\n        </nav>\n      </div>\n    </aside>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6954, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/DeviceComparison.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ntype ComparisonDevice = {\n  id: string\n  deviceId: string\n  deviceCode: string | null\n  platform: string\n  osVersion: string | null\n  appVersion: string | null\n  model: string | null\n  manufacturer: string | null\n  deviceCategory: string | null\n  deviceBrand: string | null\n  locale: string | null\n  language: string | null\n  timeZone: string | null\n  timeZoneOffset: number | null\n  appId: string | null\n  appInstanceId: string | null\n  advertisingId: string | null\n  vendorId: string | null\n  limitedAdTracking: boolean | null\n  firstOpenAt: string | null\n  firstPurchaseAt: string | null\n  user: string | null\n  debugModeEnabled: boolean\n  debugModeExpiresAt: string | null\n  fingerprint: string | null\n  batteryLevel: number | null\n  storageFree: number | null\n  memoryTotal: number | null\n  networkType: string | null\n  screenWidth: number | null\n  screenHeight: number | null\n  screenDensity: number | null\n  cpuArchitecture: string | null\n  tags: string[]\n  state: string\n  lastSeenAt: string\n  createdAt: string\n  stats: {\n    logs: number\n    crashes: number\n    apiTraces: number\n    sessions: number\n  }\n  metadata: Record<string, unknown> | null\n}\n\ninterface DeviceComparisonProps {\n  deviceIds: string[]\n  token: string\n  onClose: () => void\n}\n\nexport default function DeviceComparison({ deviceIds, token, onClose }: DeviceComparisonProps) {\n  const [comparison, setComparison] = useState<{ devices: ComparisonDevice[] } | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    loadComparison()\n  }, [deviceIds, token])\n\n  const loadComparison = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const data = await api.devices.compare(deviceIds, token)\n      setComparison(data.comparison as any)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load comparison')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const formatBytes = (bytes: number | null) => {\n    if (!bytes) return '-'\n    const sizes = ['B', 'KB', 'MB', 'GB']\n    if (bytes === 0) return '0 B'\n    const i = Math.floor(Math.log(bytes) / Math.log(1024))\n    return `${(bytes / Math.pow(1024, i)).toFixed(2)} ${sizes[i]}`\n  }\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString()\n  }\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-gray-900 rounded-lg p-6 border border-gray-800\">\n          <div className=\"text-gray-400\">Loading comparison...</div>\n        </div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-gray-900 rounded-lg p-6 border border-gray-800 max-w-md\">\n          <h3 className=\"text-lg font-semibold text-white mb-2\">Error</h3>\n          <p className=\"text-gray-400 mb-4\">{error}</p>\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 bg-gray-800 hover:bg-gray-750 text-white rounded-lg text-sm font-medium transition-colors border border-gray-700\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (!comparison || comparison.devices.length === 0) {\n    return null\n  }\n\n  const devices = comparison.devices\n\n  // Define comparison fields\n  const comparisonFields = [\n    { label: 'Device Code', key: 'deviceCode' },\n    { label: 'Platform', key: 'platform' },\n    { label: 'Device Category', key: 'deviceCategory', format: (v: string | null) => v ? v.charAt(0).toUpperCase() + v.slice(1) : '-' },\n    { label: 'Device Brand', key: 'deviceBrand' },\n    { label: 'Model', key: 'model' },\n    { label: 'Manufacturer', key: 'manufacturer' },\n    { label: 'OS Version', key: 'osVersion' },\n    { label: 'App Version', key: 'appVersion' },\n    { label: 'App ID', key: 'appId' },\n    { label: 'App Instance ID', key: 'appInstanceId' },\n    { label: 'Locale', key: 'locale' },\n    { label: 'Language', key: 'language' },\n    { label: 'Timezone', key: 'timeZone' },\n    { label: 'Timezone Offset', key: 'timeZoneOffset', format: (v: number | null) => v !== null ? `${v / 3600}h` : '-' },\n    { label: 'Vendor ID', key: 'vendorId' },\n    { label: 'Advertising ID', key: 'advertisingId' },\n    { label: 'Limited Ad Tracking', key: 'limitedAdTracking', format: (v: boolean | null) => v === true ? 'Yes' : v === false ? 'No' : '-' },\n    { label: 'First Open', key: 'firstOpenAt', format: (v: string | null) => v ? formatDate(v) : '-' },\n    { label: 'First Purchase', key: 'firstPurchaseAt', format: (v: string | null) => v ? formatDate(v) : '-' },\n    { label: 'User', key: 'user' },\n    { label: 'Debug Mode', key: 'debugModeEnabled', format: (v: boolean) => v ? 'Yes' : 'No' },\n    { label: 'Battery Level', key: 'batteryLevel', format: (v: number | null) => v !== null ? `${v}%` : '-' },\n    { label: 'Storage Free', key: 'storageFree', format: formatBytes },\n    { label: 'Memory Total', key: 'memoryTotal', format: formatBytes },\n    { label: 'Network Type', key: 'networkType' },\n    { label: 'Screen Size', key: 'screenSize', format: (device: ComparisonDevice) => \n      device.screenWidth && device.screenHeight ? `${device.screenWidth}x${device.screenHeight}` : '-'\n    },\n    { label: 'Screen Density', key: 'screenDensity', format: (v: number | null) => v !== null ? `${v} DPI` : '-' },\n    { label: 'CPU Architecture', key: 'cpuArchitecture' },\n    { label: 'Fingerprint', key: 'fingerprint' },\n    { label: 'State', key: 'state' },\n    { label: 'Last Seen', key: 'lastSeenAt', format: formatDate },\n    { label: 'Created', key: 'createdAt', format: formatDate },\n    { label: 'Logs', key: 'stats.logs' },\n    { label: 'Crashes', key: 'stats.crashes' },\n    { label: 'API Traces', key: 'stats.apiTraces' },\n    { label: 'Sessions', key: 'stats.sessions' },\n  ]\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-lg border border-gray-800 max-w-7xl w-full max-h-[90vh] overflow-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-gray-900 border-b border-gray-800 p-6 flex items-center justify-between\">\n          <h2 className=\"text-xl font-bold text-white\">Device Comparison</h2>\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 bg-gray-800 hover:bg-gray-750 text-white rounded-lg text-sm font-medium transition-colors border border-gray-700\"\n          >\n            Close\n          </button>\n        </div>\n\n        {/* Comparison Table */}\n        <div className=\"p-6\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-800\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase border-b border-gray-700\">Property</th>\n                  {devices.map((device, idx) => (\n                    <th key={device.id} className=\"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase border-b border-gray-700 min-w-[200px]\">\n                      <div className=\"font-semibold text-white\">\n                        {device.manufacturer ? `${device.manufacturer} ` : ''}{device.model || 'Device ' + (idx + 1)}\n                      </div>\n                      <div className=\"text-gray-400 text-xs mt-1 font-mono\">\n                        {device.deviceCode || device.deviceId.slice(0, 12)}\n                      </div>\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-800\">\n                {comparisonFields.map((field) => (\n                  <tr key={field.key} className=\"hover:bg-gray-800/50\">\n                    <td className=\"px-4 py-3 text-sm font-medium text-gray-300 border-r border-gray-800\">\n                      {field.label}\n                    </td>\n                    {devices.map((device) => {\n                      let value: any\n                      if (field.key.includes('.')) {\n                        const [obj, prop] = field.key.split('.')\n                        value = (device as any)[obj]?.[prop]\n                      } else if (field.key === 'screenSize') {\n                        value = device\n                      } else {\n                        value = (device as any)[field.key]\n                      }\n\n                      const displayValue = field.format\n                        ? (field.format as any)(value)\n                        : value !== null && value !== undefined\n                        ? String(value)\n                        : '-'\n\n                      return (\n                        <td key={device.id} className=\"px-4 py-3 text-sm text-white\">\n                          {field.key === 'tags' && Array.isArray(value) ? (\n                            <div className=\"flex flex-wrap gap-1\">\n                              {value.length > 0 ? (\n                                value.map((tag: string, i: number) => (\n                                  <span\n                                    key={i}\n                                    className=\"px-2 py-0.5 bg-gray-800 text-gray-300 text-xs rounded border border-gray-700\"\n                                  >\n                                    {tag}\n                                  </span>\n                                ))\n                              ) : (\n                                <span className=\"text-gray-500\">-</span>\n                              )}\n                            </div>\n                          ) : (\n                            <span className={displayValue === '-' ? 'text-gray-500' : ''}>\n                              {displayValue}\n                            </span>\n                          )}\n                        </td>\n                      )\n                    })}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7426, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/DeviceNotes.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { api } from '@/lib/api'\n\ntype Note = {\n  id: string\n  content: string\n  author: string\n  authorId: string\n  createdAt: string\n}\n\ninterface DeviceNotesProps {\n  deviceId: string\n  token: string\n}\n\nexport default function DeviceNotes({ deviceId, token }: DeviceNotesProps) {\n  const [notes, setNotes] = useState<Note[]>([])\n  const [loading, setLoading] = useState(true)\n  const [addingNote, setAddingNote] = useState(false)\n  const [newNote, setNewNote] = useState('')\n  const [deletingNoteId, setDeletingNoteId] = useState<string | null>(null)\n\n  useEffect(() => {\n    loadNotes()\n  }, [deviceId, token])\n\n  const loadNotes = async () => {\n    try {\n      setLoading(true)\n      const data = await api.devices.getNotes(deviceId, token)\n      setNotes(data.notes || [])\n    } catch (error) {\n      console.error('Failed to load notes:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAddNote = async () => {\n    if (!newNote.trim()) return\n\n    try {\n      setAddingNote(true)\n      const data = await api.devices.addNote(deviceId, newNote.trim(), token)\n      setNotes(data.notes || [])\n      setNewNote('')\n    } catch (error) {\n      console.error('Failed to add note:', error)\n      alert('Failed to add note')\n    } finally {\n      setAddingNote(false)\n    }\n  }\n\n  const handleDeleteNote = async (noteId: string) => {\n    if (!confirm('Delete this note?')) return\n\n    try {\n      setDeletingNoteId(noteId)\n      const data = await api.devices.deleteNote(deviceId, noteId, token)\n      setNotes(data.notes || [])\n    } catch (error) {\n      console.error('Failed to delete note:', error)\n      alert('Failed to delete note')\n    } finally {\n      setDeletingNoteId(null)\n    }\n  }\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString()\n  }\n\n  if (loading) {\n    return (\n      <div className=\"bg-gray-900 rounded-lg p-6 border border-gray-800\">\n        <div className=\"text-gray-400\">Loading notes...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"bg-gray-900 rounded-lg p-6 border border-gray-800\">\n      <h3 className=\"text-lg font-semibold text-white mb-4\">Device Notes</h3>\n\n      {/* Add Note Form */}\n      <div className=\"mb-6\">\n        <textarea\n          value={newNote}\n          onChange={(e) => setNewNote(e.target.value)}\n          placeholder=\"Add a note about this device...\"\n          className=\"w-full px-3 py-2 bg-gray-800 text-white rounded-lg text-sm border border-gray-700 focus:border-blue-500 focus:outline-none resize-none\"\n          rows={3}\n        />\n        <div className=\"flex justify-end mt-2\">\n          <button\n            onClick={handleAddNote}\n            disabled={!newNote.trim() || addingNote}\n            className=\"px-4 py-2 bg-gray-800 hover:bg-gray-750 text-white rounded-lg text-sm font-medium transition-colors border border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {addingNote ? 'Adding...' : 'Add Note'}\n          </button>\n        </div>\n      </div>\n\n      {/* Notes List */}\n      {notes.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-400\">\n          <p>No notes yet. Add a note to document important information about this device.</p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {notes.map((note) => (\n            <div\n              key={note.id}\n              className=\"bg-gray-800 rounded-lg p-4 border border-gray-700\"\n            >\n              <div className=\"flex items-start justify-between gap-4\">\n                <div className=\"flex-1\">\n                  <p className=\"text-white text-sm whitespace-pre-wrap\">{note.content}</p>\n                  <div className=\"flex items-center gap-2 mt-2 text-xs text-gray-400\">\n                    <span>{note.author}</span>\n                    <span>•</span>\n                    <span>{formatDate(note.createdAt)}</span>\n                  </div>\n                </div>\n                <button\n                  onClick={() => handleDeleteNote(note.id)}\n                  disabled={deletingNoteId === note.id}\n                  className=\"px-2 py-1 text-gray-400 hover:text-white rounded text-sm transition-colors disabled:opacity-50\"\n                  title=\"Delete note\"\n                >\n                  {deletingNoteId === note.id ? (\n                    <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                    </svg>\n                  ) : (\n                    <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  )}\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}