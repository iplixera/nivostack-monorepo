{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/components/BusinessConfigTab.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { api } from '@/lib/api'\nimport BuildsSubTab from './BuildsSubTab'\nimport BusinessConfigTargeting from './BusinessConfigTargeting'\nimport BusinessConfigHistory from './BusinessConfigHistory'\nimport BusinessConfigAnalytics from './BusinessConfigAnalytics'\nimport ExperimentsTab from './ExperimentsTab'\n\ntype BusinessConfig = {\n  id: string\n  key: string\n  label: string | null\n  description: string | null\n  valueType: string\n  stringValue: string | null\n  integerValue: number | null\n  booleanValue: boolean | null\n  decimalValue: number | null\n  jsonValue: unknown\n  imageUrl: string | null\n  category: string | null\n  isEnabled: boolean\n  version: number\n  metadata: unknown\n  targetingRules: any\n  defaultValue: any\n  rolloutPercentage: number\n  validationSchema: any\n  minValue: number | null\n  maxValue: number | null\n  minLength: number | null\n  maxLength: number | null\n  pattern: string | null\n  allowedValues: any[] | null\n  deploymentStrategy: string | null\n  deploymentConfig: any\n  createdAt: string\n  updatedAt: string\n}\n\ntype ValueType = 'string' | 'integer' | 'boolean' | 'decimal' | 'json' | 'image'\n\nconst VALUE_TYPES: { value: ValueType; label: string }[] = [\n  { value: 'string', label: 'String' },\n  { value: 'integer', label: 'Integer' },\n  { value: 'boolean', label: 'Boolean' },\n  { value: 'decimal', label: 'Decimal' },\n  { value: 'json', label: 'JSON' },\n  { value: 'image', label: 'Image' }\n]\n\ntype TemplateConfig = {\n  key: string\n  label: string\n  description: string\n  valueType: ValueType\n  value: unknown\n  category: string\n}\n\nconst TEMPLATE_CONFIGS: TemplateConfig[] = [\n  {\n    key: 'maintenance_enabled',\n    label: 'Maintenance Mode',\n    description: 'Enable to show maintenance page to all users',\n    valueType: 'boolean',\n    value: false,\n    category: 'app_control'\n  },\n  {\n    key: 'maintenance_message',\n    label: 'Maintenance Message',\n    description: 'Message shown during maintenance',\n    valueType: 'string',\n    value: 'We are currently performing scheduled maintenance. Please try again later.',\n    category: 'app_control'\n  },\n  {\n    key: 'force_update_enabled',\n    label: 'Force Update',\n    description: 'Force users to update to latest version',\n    valueType: 'boolean',\n    value: false,\n    category: 'app_control'\n  },\n  {\n    key: 'min_app_version',\n    label: 'Minimum Version',\n    description: 'Minimum app version required (users below this will be forced to update)',\n    valueType: 'string',\n    value: '1.0.0',\n    category: 'app_control'\n  },\n  {\n    key: 'force_update_message',\n    label: 'Update Message',\n    description: 'Message shown when force update is required',\n    valueType: 'string',\n    value: 'A new version is available. Please update to continue using the app.',\n    category: 'app_control'\n  },\n  {\n    key: 'app_store_url',\n    label: 'App Store URL',\n    description: 'iOS App Store URL for updates',\n    valueType: 'string',\n    value: 'https://apps.apple.com/app/your-app-id',\n    category: 'app_control'\n  },\n  {\n    key: 'play_store_url',\n    label: 'Play Store URL',\n    description: 'Google Play Store URL for updates',\n    valueType: 'string',\n    value: 'https://play.google.com/store/apps/details?id=your.package.name',\n    category: 'app_control'\n  },\n  {\n    key: 'feature_flags',\n    label: 'Feature Flags',\n    description: 'JSON object containing feature toggles',\n    valueType: 'json',\n    value: { new_checkout: false, dark_mode: true, biometric_login: true, push_notifications: true, in_app_review: false },\n    category: 'features'\n  },\n  {\n    key: 'support_config',\n    label: 'Support Configuration',\n    description: 'Support contact details',\n    valueType: 'json',\n    value: { email: 'support@example.com', phone: '+1234567890', whatsapp: '+1234567890', hours: '9 AM - 6 PM (Mon-Fri)' },\n    category: 'support'\n  },\n  {\n    key: 'legal_urls',\n    label: 'Legal URLs',\n    description: 'Terms and privacy policy URLs',\n    valueType: 'json',\n    value: { terms_of_service: 'https://example.com/terms', privacy_policy: 'https://example.com/privacy', cookie_policy: 'https://example.com/cookies' },\n    category: 'legal'\n  }\n]\n\nfunction getConfigValue(config: BusinessConfig): unknown {\n  switch (config.valueType) {\n    case 'string': return config.stringValue\n    case 'integer': return config.integerValue\n    case 'boolean': return config.booleanValue\n    case 'decimal': return config.decimalValue\n    case 'json': return config.jsonValue\n    case 'image': return config.imageUrl\n    default: return null\n  }\n}\n\nfunction formatValue(config: BusinessConfig): string {\n  const value = getConfigValue(config)\n  if (value === null || value === undefined) return '-'\n\n  switch (config.valueType) {\n    case 'boolean': return value ? 'true' : 'false'\n    case 'json': return JSON.stringify(value, null, 2)\n    case 'image': return value as string\n    default: return String(value)\n  }\n}\n\n// Templates Modal Component\nfunction TemplatesModal({\n  templates,\n  existingKeys,\n  onAdd,\n  onClose,\n  loading\n}: {\n  templates: TemplateConfig[]\n  existingKeys: string[]\n  onAdd: (templates: TemplateConfig[]) => void\n  onClose: () => void\n  loading: boolean\n}) {\n  const [selected, setSelected] = useState<Set<string>>(new Set())\n\n  const toggleTemplate = (key: string) => {\n    const newSelected = new Set(selected)\n    if (newSelected.has(key)) {\n      newSelected.delete(key)\n    } else {\n      newSelected.add(key)\n    }\n    setSelected(newSelected)\n  }\n\n  const selectAll = () => {\n    const newSelected = new Set<string>()\n    templates.forEach(t => {\n      if (!existingKeys.includes(t.key)) {\n        newSelected.add(t.key)\n      }\n    })\n    setSelected(newSelected)\n  }\n\n  const handleAdd = () => {\n    const selectedTemplates = templates.filter(t => selected.has(t.key))\n    onAdd(selectedTemplates)\n  }\n\n  // Group templates by category\n  const groupedTemplates = templates.reduce((acc, template) => {\n    const cat = template.category\n    if (!acc[cat]) acc[cat] = []\n    acc[cat].push(template)\n    return acc\n  }, {} as Record<string, TemplateConfig[]>)\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-900 rounded-xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col\">\n        <div className=\"p-4 border-b border-gray-800 flex items-center justify-between\">\n          <h3 className=\"text-lg font-semibold text-white\">Add Template Configs</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-white\"\n          >\n            ‚úï\n          </button>\n        </div>\n\n        <div className=\"p-4 border-b border-gray-800 flex items-center justify-between\">\n          <span className=\"text-sm text-gray-400\">\n            {selected.size} selected\n          </span>\n          <button\n            onClick={selectAll}\n            className=\"text-sm text-blue-400 hover:text-blue-300\"\n          >\n            Select all available\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-6\">\n          {Object.entries(groupedTemplates).map(([category, categoryTemplates]) => (\n            <div key={category}>\n              <h4 className=\"text-sm font-medium text-gray-400 uppercase mb-3\">{category}</h4>\n              <div className=\"space-y-2\">\n                {categoryTemplates.map((template) => {\n                  const exists = existingKeys.includes(template.key)\n                  return (\n                    <label\n                      key={template.key}\n                      className={`flex items-start p-3 rounded-lg border cursor-pointer transition-colors ${\n                        exists\n                          ? 'border-gray-700 bg-gray-800/50 opacity-50 cursor-not-allowed'\n                          : selected.has(template.key)\n                          ? 'border-blue-500 bg-blue-900/20'\n                          : 'border-gray-700 bg-gray-800 hover:border-gray-600'\n                      }`}\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={selected.has(template.key)}\n                        onChange={() => !exists && toggleTemplate(template.key)}\n                        disabled={exists}\n                        className=\"mt-1 mr-3\"\n                      />\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-white font-medium\">{template.label}</span>\n                          <span className=\"text-xs text-gray-500 font-mono\">{template.key}</span>\n                        </div>\n                        <p className=\"text-sm text-gray-400 mt-1\">{template.description}</p>\n                        <div className=\"flex items-center gap-2 mt-2\">\n                          <span className=\"text-xs px-2 py-0.5 bg-gray-700 rounded text-gray-300\">\n                            {template.valueType}\n                          </span>\n                          {exists && (\n                            <span className=\"text-xs px-2 py-0.5 bg-yellow-900/50 rounded text-yellow-400\">\n                              Already exists\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </label>\n                  )\n                })}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"p-4 border-t border-gray-800 flex items-center justify-end space-x-3\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleAdd}\n            disabled={selected.size === 0 || loading}\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? 'Adding...' : `Add ${selected.size} Config${selected.size !== 1 ? 's' : ''}`}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\ntype ConfigCategory = {\n  id: string\n  name: string\n  label: string | null\n  description: string | null\n  icon: string | null\n  order: number\n  isEnabled: boolean\n}\n\ntype Props = {\n  projectId: string\n  token: string\n  sharedUsage?: {\n    businessConfigKeys?: { used: number; limit: number | null; percentage: number }\n  } | null\n}\n\nexport default function BusinessConfigTab({ projectId, token, sharedUsage }: Props) {\n  const router = useRouter()\n  const [configs, setConfigs] = useState<BusinessConfig[]>([])\n  const [categories, setCategories] = useState<string[]>([])\n  const [configCategories, setConfigCategories] = useState<ConfigCategory[]>([])\n  const [showCategoryManager, setShowCategoryManager] = useState(false)\n  const [editingCategory, setEditingCategory] = useState<ConfigCategory | null>(null)\n  const [categoryForm, setCategoryForm] = useState({ name: '', label: '', description: '', icon: '' })\n  const [savingCategory, setSavingCategory] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [creatingBuild, setCreatingBuild] = useState(false)\n\n  // Sub-tab state\n  const [activeSubTab, setActiveSubTab] = useState<'configs' | 'categories' | 'analytics' | 'builds' | 'experiments'>('configs')\n\n  // Filter state\n  const [selectedCategory, setSelectedCategory] = useState<string>('')\n\n  // Add/Edit state\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [editingConfig, setEditingConfig] = useState<BusinessConfig | null>(null)\n  const [saving, setSaving] = useState(false)\n  const [uploading, setUploading] = useState(false)\n  const [showTemplates, setShowTemplates] = useState(false)\n  const [addingTemplates, setAddingTemplates] = useState(false)\n  const [collapsedCategories, setCollapsedCategories] = useState<Set<string>>(new Set())\n  const [showTargeting, setShowTargeting] = useState(false)\n  const [showHistory, setShowHistory] = useState(false)\n  const [showAnalytics, setShowAnalytics] = useState(false)\n  const [showDeployment, setShowDeployment] = useState(false)\n  const [targetingConfig, setTargetingConfig] = useState<BusinessConfig | null>(null)\n\n  // Enforcement and usage state (from shared usage prop)\n  const businessConfigUsage = sharedUsage?.businessConfigKeys || null\n\n  // Form state\n  const [formData, setFormData] = useState({\n    key: '',\n    label: '',\n    description: '',\n    valueType: 'string' as ValueType,\n    value: '' as unknown,\n    category: '',\n    isEnabled: true,\n    targetingRules: null as any,\n    defaultValue: null as any,\n    rolloutPercentage: 100\n  })\n\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const fetchConfigs = async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const res = await api.businessConfig.list(projectId, token, selectedCategory || undefined)\n      setConfigs(res.configs as any)\n      setCategories(res.categories)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch configs')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchConfigCategories = async () => {\n    try {\n      const res = await fetch(`/api/config-categories?projectId=${projectId}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      })\n      if (!res.ok) {\n        throw new Error(`Failed to fetch categories: ${res.statusText}`)\n      }\n      const data = await res.json()\n      if (data.categories) {\n        setConfigCategories(data.categories)\n      } else {\n        setConfigCategories([])\n      }\n    } catch (err) {\n      console.error('Failed to fetch config categories:', err)\n      setConfigCategories([])\n    }\n  }\n\n  useEffect(() => {\n    fetchConfigs()\n    fetchConfigCategories()\n  }, [projectId, token, selectedCategory])\n\n  // Refresh categories when switching to categories tab\n  useEffect(() => {\n    if (activeSubTab === 'categories') {\n      setLoading(true)\n      Promise.all([fetchConfigCategories(), fetchConfigs()]).finally(() => {\n        setLoading(false)\n      })\n    }\n  }, [activeSubTab])\n\n  // Usage data comes from sharedUsage prop (fetched once at top level)\n\n  const resetCategoryForm = () => {\n    setCategoryForm({ name: '', label: '', description: '', icon: '' })\n    setEditingCategory(null)\n  }\n\n  const handleSaveCategory = async () => {\n    if (!categoryForm.name.trim()) return\n    setSavingCategory(true)\n\n    try {\n      if (editingCategory) {\n        await fetch('/api/config-categories', {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            id: editingCategory.id,\n            name: categoryForm.name,\n            label: categoryForm.label || undefined,\n            description: categoryForm.description || undefined,\n            icon: categoryForm.icon || undefined\n          })\n        })\n      } else {\n        await fetch('/api/config-categories', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            projectId,\n            name: categoryForm.name,\n            label: categoryForm.label || undefined,\n            description: categoryForm.description || undefined,\n            icon: categoryForm.icon || undefined\n          })\n        })\n      }\n      resetCategoryForm()\n      fetchConfigCategories()\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to save category')\n    } finally {\n      setSavingCategory(false)\n    }\n  }\n\n  const handleDeleteCategory = async (categoryId: string) => {\n    if (!confirm('Are you sure you want to delete this category?')) return\n\n    try {\n      await fetch(`/api/config-categories?id=${categoryId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` }\n      })\n      fetchConfigCategories()\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to delete category')\n    }\n  }\n\n  const handleEditCategory = (category: ConfigCategory) => {\n    setEditingCategory(category)\n    setCategoryForm({\n      name: category.name,\n      label: category.label || '',\n      description: category.description || '',\n      icon: category.icon || ''\n    })\n  }\n\n  const resetForm = () => {\n    setFormData({\n      key: '',\n      label: '',\n      description: '',\n      valueType: 'string',\n      value: '',\n      category: '',\n      isEnabled: true,\n      targetingRules: null,\n      defaultValue: null,\n      rolloutPercentage: 100,\n    } as any)\n    setEditingConfig(null)\n    setShowAddForm(false)\n  }\n\n  const handleEdit = (config: BusinessConfig) => {\n    setEditingConfig(config)\n    setFormData({\n      key: config.key,\n      label: config.label || '',\n      description: config.description || '',\n      valueType: config.valueType as ValueType,\n      value: getConfigValue(config) ?? '',\n      category: config.category || '',\n      isEnabled: config.isEnabled,\n      targetingRules: (config as any).targetingRules || null,\n      defaultValue: (config as any).defaultValue || null,\n      rolloutPercentage: (config as any).rolloutPercentage || 100,\n    } as any)\n    setShowAddForm(true)\n  }\n\n  const handleDelete = async (configId: string) => {\n    if (!confirm('Are you sure you want to delete this configuration?')) return\n\n    try {\n      await api.businessConfig.delete(configId, token)\n      fetchConfigs()\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to delete config')\n    }\n  }\n\n  const handleImageUpload = async (file: File) => {\n    setUploading(true)\n    try {\n      const result = await api.upload.uploadFile(projectId, token, file)\n      setFormData(prev => ({ ...prev, value: result.file.url }))\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to upload image')\n    } finally {\n      setUploading(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setSaving(true)\n\n    try {\n      if (editingConfig) {\n        await api.businessConfig.update(token, {\n          id: editingConfig.id,\n          key: formData.key,\n          label: formData.label || undefined,\n          description: formData.description || undefined,\n          valueType: formData.valueType,\n          value: formData.value,\n          category: formData.category || undefined,\n          isEnabled: formData.isEnabled,\n          targetingRules: formData.targetingRules,\n          defaultValue: formData.defaultValue,\n          rolloutPercentage: formData.rolloutPercentage\n        } as any)\n      } else {\n        await api.businessConfig.create(projectId, token, {\n          key: formData.key,\n          label: formData.label || undefined,\n          description: formData.description || undefined,\n          valueType: formData.valueType,\n          value: formData.value,\n          category: formData.category || undefined,\n          isEnabled: formData.isEnabled,\n          targetingRules: formData.targetingRules,\n          defaultValue: formData.defaultValue,\n          rolloutPercentage: formData.rolloutPercentage\n        } as any)\n      }\n\n      resetForm()\n      fetchConfigs()\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to save config')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleAddTemplates = async (selectedTemplates: TemplateConfig[]) => {\n    if (selectedTemplates.length === 0) return\n\n    setAddingTemplates(true)\n    const existingKeys = configs.map(c => c.key)\n    let added = 0\n    let skipped = 0\n\n    try {\n      for (const template of selectedTemplates) {\n        if (existingKeys.includes(template.key)) {\n          skipped++\n          continue\n        }\n\n        await api.businessConfig.create(projectId, token, {\n          key: template.key,\n          label: template.label,\n          description: template.description,\n          valueType: template.valueType,\n          value: template.value,\n          category: template.category,\n          isEnabled: true\n        })\n        added++\n      }\n\n      if (skipped > 0) {\n        alert(`Added ${added} configs. Skipped ${skipped} that already exist.`)\n      }\n\n      setShowTemplates(false)\n      fetchConfigs()\n    } catch (err) {\n      alert(err instanceof Error ? err.message : 'Failed to add templates')\n    } finally {\n      setAddingTemplates(false)\n    }\n  }\n\n  const renderValueInput = () => {\n    switch (formData.valueType) {\n      case 'string':\n        return (\n          <input\n            type=\"text\"\n            value={formData.value as string}\n            onChange={(e) => setFormData(prev => ({ ...prev, value: e.target.value }))}\n            className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n            placeholder=\"Enter string value\"\n          />\n        )\n\n      case 'integer':\n        return (\n          <input\n            type=\"number\"\n            value={formData.value as number || ''}\n            onChange={(e) => setFormData(prev => ({ ...prev, value: parseInt(e.target.value) || 0 }))}\n            className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n            placeholder=\"Enter integer value\"\n          />\n        )\n\n      case 'decimal':\n        return (\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            value={formData.value as number || ''}\n            onChange={(e) => setFormData(prev => ({ ...prev, value: parseFloat(e.target.value) || 0 }))}\n            className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n            placeholder=\"Enter decimal value\"\n          />\n        )\n\n      case 'boolean':\n        return (\n          <div className=\"flex items-center space-x-4\">\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"radio\"\n                checked={formData.value === true}\n                onChange={() => setFormData(prev => ({ ...prev, value: true }))}\n                className=\"text-blue-500\"\n              />\n              <span className=\"text-gray-300\">True</span>\n            </label>\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"radio\"\n                checked={formData.value === false}\n                onChange={() => setFormData(prev => ({ ...prev, value: false }))}\n                className=\"text-blue-500\"\n              />\n              <span className=\"text-gray-300\">False</span>\n            </label>\n          </div>\n        )\n\n      case 'json':\n        return (\n          <textarea\n            value={typeof formData.value === 'string' ? formData.value : JSON.stringify(formData.value, null, 2)}\n            onChange={(e) => {\n              try {\n                const parsed = JSON.parse(e.target.value)\n                setFormData(prev => ({ ...prev, value: parsed }))\n              } catch {\n                setFormData(prev => ({ ...prev, value: e.target.value }))\n              }\n            }}\n            className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none font-mono text-sm\"\n            rows={6}\n            placeholder='{\"key\": \"value\"}'\n          />\n        )\n\n      case 'image': {\n        const imageValue = formData.value as string\n        return (\n          <div className=\"space-y-3\">\n            {imageValue && (\n              <div className=\"relative w-32 h-32 bg-gray-800 rounded-lg overflow-hidden\">\n                <img\n                  src={imageValue}\n                  alt=\"Preview\"\n                  className=\"w-full h-full object-cover\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setFormData(prev => ({ ...prev, value: '' }))}\n                  className=\"absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-700\"\n                >\n                  X\n                </button>\n              </div>\n            )}\n            <div className=\"flex items-center space-x-3\">\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={(e) => {\n                  const file = e.target.files?.[0]\n                  if (file) handleImageUpload(file)\n                }}\n                className=\"hidden\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => fileInputRef.current?.click()}\n                disabled={uploading}\n                className=\"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg disabled:opacity-50\"\n              >\n                {uploading ? 'Uploading...' : 'Upload Image'}\n              </button>\n              <span className=\"text-gray-500 text-sm\">or</span>\n              <input\n                type=\"text\"\n                value={imageValue || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, value: e.target.value }))}\n                className=\"flex-1 bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n                placeholder=\"Enter image URL\"\n              />\n            </div>\n          </div>\n        )\n      }\n\n      default:\n        return null\n    }\n  }\n\n  // Group configs by category\n  const groupedConfigs = configs.reduce((acc, config) => {\n    const cat = config.category || 'Uncategorized'\n    if (!acc[cat]) acc[cat] = []\n    acc[cat].push(config)\n    return acc\n  }, {} as Record<string, BusinessConfig[]>)\n\n  if (loading && configs.length === 0) {\n    return <div className=\"text-gray-400 text-center py-8\">Loading configurations...</div>\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Sub-tabs */}\n      <div className=\"border-b border-gray-800\">\n        <nav className=\"flex space-x-8\">\n          <button\n            onClick={() => setActiveSubTab('configs')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeSubTab === 'configs'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-gray-300'\n            }`}\n          >\n            Translation\n          </button>\n          <button\n            onClick={() => setActiveSubTab('categories')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeSubTab === 'categories'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-gray-300'\n            }`}\n          >\n            Categories\n          </button>\n          <button\n            onClick={() => setActiveSubTab('analytics')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeSubTab === 'analytics'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-gray-300'\n            }`}\n          >\n            Analytics\n          </button>\n          <button\n            onClick={() => setActiveSubTab('builds')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeSubTab === 'builds'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-gray-300'\n            }`}\n          >\n            Builds\n          </button>\n          <button\n            onClick={() => setActiveSubTab('experiments')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeSubTab === 'experiments'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-gray-300'\n            }`}\n          >\n            Experiments\n          </button>\n        </nav>\n      </div>\n\n      {/* Categories Sub-tab */}\n      {activeSubTab === 'categories' && (\n        <div className=\"space-y-6\">\n          {loading && configCategories.length === 0 && categories.length === 0 ? (\n            <div className=\"text-gray-400 text-center py-8\">Loading categories...</div>\n          ) : (\n            <>\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold text-white\">Categories</h3>\n                <button\n                  onClick={() => {\n                    resetCategoryForm()\n                    setShowCategoryManager(true)\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors\"\n                >\n                  + Add Category\n                </button>\n              </div>\n              \n              {/* Combine managed categories and string categories from configs */}\n              {(() => {\n            // Get all managed categories\n            const managedCategories = configCategories || []\n            \n            // Get string categories from configs that aren't in managed categories\n            const stringCategories = (categories || []).filter(\n              (catName: string) => !managedCategories.some((mc: any) => mc.name === catName)\n            )\n            \n            // Create display items for string categories (not managed)\n            const stringCategoryItems = stringCategories.map((catName: string) => ({\n              id: `string-${catName}`,\n              name: catName,\n              label: catName,\n              description: null,\n              icon: null,\n              isManaged: false\n            }))\n            \n            // Create display items for managed categories\n            const managedCategoryItems = managedCategories.map((cat: any) => ({\n              ...cat,\n              isManaged: true\n            }))\n            \n            // Combine all categories\n            const allCategories = [...managedCategoryItems, ...stringCategoryItems]\n            \n            if (allCategories.length === 0) {\n              return (\n                <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-12 text-center\">\n                  <p className=\"text-gray-400 mb-2\">No categories yet.</p>\n                  <p className=\"text-gray-500 text-sm\">Create your first category to organize your configs.</p>\n                </div>\n              )\n            }\n            \n            return (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {allCategories.map((cat: any) => (\n                  <div key={cat.id} className=\"bg-gray-900 rounded-lg border border-gray-800 p-4\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          {cat.icon && <span className=\"text-xl\">{cat.icon}</span>}\n                          <h4 className=\"text-white font-medium\">{cat.label || cat.name}</h4>\n                          {!cat.isManaged && (\n                            <span className=\"text-xs px-2 py-0.5 bg-gray-700 text-gray-400 rounded\">\n                              Auto\n                            </span>\n                          )}\n                        </div>\n                        {cat.description && (\n                          <p className=\"text-gray-400 text-sm mb-2\">{cat.description}</p>\n                        )}\n                        <p className=\"text-gray-500 text-xs font-mono\">{cat.name}</p>\n                        {cat.isManaged && (\n                          <p className=\"text-gray-600 text-xs mt-1\">Managed category</p>\n                        )}\n                      </div>\n                      {cat.isManaged && (\n                        <div className=\"flex items-center gap-1 ml-2\">\n                          <button\n                            onClick={() => handleEditCategory(cat)}\n                            className=\"p-1.5 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors\"\n                            title=\"Edit category\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                            </svg>\n                          </button>\n                          <button\n                            onClick={() => handleDeleteCategory(cat.id)}\n                            className=\"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-900/30 rounded transition-colors\"\n                            title=\"Delete category\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                            </svg>\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )\n          })()}\n            </>\n          )}\n        </div>\n      )}\n\n      {/* Analytics Sub-tab */}\n      {activeSubTab === 'analytics' && (\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-white\">Analytics</h3>\n            <button\n              onClick={() => setShowAnalytics(true)}\n              className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-colors\"\n            >\n              View Detailed Analytics\n            </button>\n          </div>\n          <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-6\">\n            <p className=\"text-gray-400 text-center py-8\">\n              Analytics dashboard coming soon. Click \"View Detailed Analytics\" to see per-config analytics.\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Builds Sub-tab */}\n      {activeSubTab === 'builds' && (\n        <BuildsSubTab \n          projectId={projectId} \n          featureType=\"business_config\" \n          featureLabel=\"Business Configuration\"\n        />\n      )}\n\n      {/* Experiments Sub-tab */}\n      {activeSubTab === 'experiments' && (\n        <ExperimentsTab projectId={projectId} token={token} />\n      )}\n\n      {/* Configs Sub-tab */}\n      {activeSubTab === 'configs' && (\n        <>\n      {/* Enforcement Banner for Business Config Keys */}\n      {businessConfigUsage && businessConfigUsage.limit !== null && (\n        <>\n          {(() => {\n            const percentage = businessConfigUsage.percentage\n            const warnThreshold = 80\n            const hardThreshold = 100\n            \n            if (percentage >= hardThreshold) {\n              return (\n                <div className=\"bg-red-900/20 border-l-4 border-red-600 p-4 rounded mb-4\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-red-400 font-semibold mb-2 flex items-center gap-2\">\n                        <span>üö´</span>\n                        <span>Business Config Keys Quota Exceeded</span>\n                      </h3>\n                      <p className=\"text-gray-300 text-sm mb-2\">\n                        You have reached your business config keys limit: <strong>{businessConfigUsage.used}/{businessConfigUsage.limit} keys</strong> ({percentage.toFixed(1)}%).\n                      </p>\n                      <p className=\"text-gray-300 text-sm\">\n                        New configuration keys will be blocked. Please upgrade your plan to create more keys.\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => router.push('/subscription')}\n                      className=\"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm whitespace-nowrap\"\n                    >\n                      Upgrade Plan\n                    </button>\n                  </div>\n                </div>\n              )\n            } else if (percentage >= warnThreshold) {\n              return (\n                <div className=\"bg-yellow-900/20 border-l-4 border-yellow-600 p-4 rounded mb-4\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-yellow-400 font-semibold mb-2 flex items-center gap-2\">\n                        <span>‚ö†Ô∏è</span>\n                        <span>Approaching Business Config Keys Limit</span>\n                      </h3>\n                      <p className=\"text-gray-300 text-sm mb-2\">\n                        You are approaching your business config keys limit: <strong>{businessConfigUsage.used}/{businessConfigUsage.limit} keys</strong> ({percentage.toFixed(1)}%).\n                      </p>\n                      <p className=\"text-gray-300 text-sm\">\n                        You can create {Math.max(0, businessConfigUsage.limit - businessConfigUsage.used)} more key{businessConfigUsage.limit - businessConfigUsage.used !== 1 ? 's' : ''} before reaching your limit.\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => router.push('/subscription')}\n                      className=\"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm whitespace-nowrap\"\n                    >\n                      Upgrade Plan\n                    </button>\n                  </div>\n                </div>\n              )\n            }\n            return null\n          })()}\n        </>\n      )}\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <h2 className=\"text-xl font-semibold text-white\">Business Configurations</h2>\n          {categories.length > 0 && (\n            <select\n              value={selectedCategory}\n              onChange={(e) => setSelectedCategory(e.target.value)}\n              className=\"bg-gray-800 text-gray-300 px-3 py-1.5 rounded-lg border border-gray-700 text-sm\"\n            >\n              <option value=\"\">All Categories</option>\n              {categories.map((cat) => (\n                <option key={cat} value={cat}>{cat}</option>\n              ))}\n            </select>\n          )}\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => setShowTemplates(true)}\n            disabled={!!(businessConfigUsage && businessConfigUsage.limit !== null && businessConfigUsage.percentage >= 100)}\n            className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            + Add Template\n          </button>\n          <button\n            onClick={() => {\n              resetForm()\n              setShowAddForm(true)\n            }}\n            disabled={!!(businessConfigUsage && businessConfigUsage.limit !== null && businessConfigUsage.percentage >= 100)}\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            + Add Config\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg\">\n          {error}\n        </div>\n      )}\n\n      {/* Category Manager Modal */}\n      {showCategoryManager && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={(e) => {\n          if (e.target === e.currentTarget) {\n            setShowCategoryManager(false)\n            resetCategoryForm()\n          }\n        }}>\n          <div className=\"bg-gray-900 rounded-xl w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"p-4 border-b border-gray-800 flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold text-white\">Manage Categories</h3>\n              <button\n                onClick={() => {\n                  setShowCategoryManager(false)\n                  resetCategoryForm()\n                }}\n                className=\"text-gray-400 hover:text-white text-xl leading-none\"\n              >\n                ‚úï\n              </button>\n            </div>\n\n            {/* Add/Edit Category Form */}\n            <div className=\"p-4 border-b border-gray-800 bg-gray-800/30\">\n              <h4 className=\"text-sm font-medium text-white mb-3\">\n                {editingCategory ? '‚úèÔ∏è Edit Category' : '‚ûï Add New Category'}\n              </h4>\n              <div className=\"space-y-3\">\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div>\n                    <label className=\"block text-gray-400 text-xs mb-1\">Name *</label>\n                    <input\n                      type=\"text\"\n                      value={categoryForm.name}\n                      onChange={(e) => setCategoryForm(prev => ({ ...prev, name: e.target.value }))}\n                      className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none text-sm\"\n                      placeholder=\"features\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-400 text-xs mb-1\">Label</label>\n                    <input\n                      type=\"text\"\n                      value={categoryForm.label}\n                      onChange={(e) => setCategoryForm(prev => ({ ...prev, label: e.target.value }))}\n                      className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none text-sm\"\n                      placeholder=\"Features\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-gray-400 text-xs mb-1\">Description</label>\n                  <input\n                    type=\"text\"\n                    value={categoryForm.description}\n                    onChange={(e) => setCategoryForm(prev => ({ ...prev, description: e.target.value }))}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none text-sm\"\n                    placeholder=\"Feature toggles and settings\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-gray-400 text-xs mb-1\">Icon (emoji)</label>\n                  <input\n                    type=\"text\"\n                    value={categoryForm.icon}\n                    onChange={(e) => setCategoryForm(prev => ({ ...prev, icon: e.target.value }))}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none text-sm\"\n                    placeholder=\"‚ö°\"\n                    maxLength={2}\n                  />\n                </div>\n                <div className=\"flex items-center justify-end space-x-2\">\n                  {editingCategory && (\n                    <button\n                      onClick={resetCategoryForm}\n                      className=\"px-3 py-2 text-gray-400 hover:text-white text-sm transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                  )}\n                  <button\n                    onClick={handleSaveCategory}\n                    disabled={!categoryForm.name.trim() || savingCategory}\n                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {savingCategory ? 'Saving...' : editingCategory ? '‚úì Update Category' : '+ Add Category'}\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Categories List */}\n            <div className=\"flex-1 overflow-y-auto p-4\">\n              <h4 className=\"text-xs font-medium text-gray-400 uppercase mb-3\">Existing Categories</h4>\n              {configCategories.length === 0 ? (\n                <p className=\"text-gray-500 text-center py-8 text-sm\">\n                  No categories yet.<br />\n                  <span className=\"text-gray-600 text-xs\">Add your first category using the form above</span>\n                </p>\n              ) : (\n                <div className=\"space-y-2\">\n                  {configCategories.map((category) => (\n                    <div\n                      key={category.id}\n                      className=\"flex items-center justify-between p-3 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors\"\n                    >\n                      <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                        {category.icon && <span className=\"text-lg flex-shrink-0\">{category.icon}</span>}\n                        <div className=\"min-w-0 flex-1\">\n                          <p className=\"text-white font-medium text-sm truncate\">{category.label || category.name}</p>\n                          <p className=\"text-gray-500 text-xs font-mono\">{category.name}</p>\n                          {category.description && (\n                            <p className=\"text-gray-400 text-xs mt-0.5 truncate\">{category.description}</p>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-1 flex-shrink-0 ml-2\">\n                        <button\n                          onClick={() => handleEditCategory(category)}\n                          className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors\"\n                          title=\"Edit category\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                          </svg>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteCategory(category.id)}\n                          className=\"p-2 text-gray-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors\"\n                          title=\"Delete category\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div className=\"p-4 border-t border-gray-800 bg-gray-800/30\">\n              <p className=\"text-gray-500 text-xs\">\n                üí° Categories help organize your business configs. Use them in the config form to group related settings.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Templates Modal */}\n      {showTemplates && (\n        <TemplatesModal\n          templates={TEMPLATE_CONFIGS}\n          existingKeys={configs.map(c => c.key)}\n          onAdd={handleAddTemplates}\n          onClose={() => setShowTemplates(false)}\n          loading={addingTemplates}\n        />\n      )}\n\n      {/* Add/Edit Form Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-gray-900 rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <h3 className=\"text-lg font-semibold text-white mb-4\">\n                {editingConfig ? 'Edit Configuration' : 'Add Configuration'}\n              </h3>\n\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                {/* Key */}\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Key *</label>\n                  <input\n                    type=\"text\"\n                    value={formData.key}\n                    onChange={(e) => setFormData(prev => ({ ...prev, key: e.target.value }))}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none font-mono\"\n                    placeholder=\"feature_enabled\"\n                    required\n                    pattern=\"^[a-zA-Z_][a-zA-Z0-9_]*$\"\n                    title=\"Key must start with letter or underscore, followed by letters, numbers, or underscores\"\n                  />\n                </div>\n\n                {/* Label */}\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Label</label>\n                  <input\n                    type=\"text\"\n                    value={formData.label}\n                    onChange={(e) => setFormData(prev => ({ ...prev, label: e.target.value }))}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n                    placeholder=\"Feature Enabled\"\n                  />\n                </div>\n\n                {/* Description */}\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Description</label>\n                  <textarea\n                    value={formData.description}\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n                    rows={2}\n                    placeholder=\"Controls whether the feature is enabled\"\n                  />\n                </div>\n\n                {/* Category */}\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Category</label>\n                  <input\n                    type=\"text\"\n                    value={formData.category}\n                    onChange={(e) => setFormData(prev => ({ ...prev, category: e.target.value }))}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n                    placeholder=\"Features\"\n                    list=\"category-suggestions\"\n                  />\n                  <datalist id=\"category-suggestions\">\n                    {configCategories.map((cat) => (\n                      <option key={cat.id} value={cat.name}>{cat.label || cat.name}</option>\n                    ))}\n                    {categories.filter(cat => !configCategories.some(cc => cc.name === cat)).map((cat) => (\n                      <option key={cat} value={cat} />\n                    ))}\n                  </datalist>\n                </div>\n\n                {/* Value Type */}\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Value Type *</label>\n                  <select\n                    value={formData.valueType}\n                    onChange={(e) => {\n                      const newType = e.target.value as ValueType\n                      let defaultValue: unknown = ''\n                      if (newType === 'boolean') defaultValue = false\n                      if (newType === 'integer' || newType === 'decimal') defaultValue = 0\n                      if (newType === 'json') defaultValue = {}\n                      setFormData(prev => ({ ...prev, valueType: newType, value: defaultValue }))\n                    }}\n                    className=\"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-blue-500 focus:outline-none\"\n                  >\n                    {VALUE_TYPES.map((type) => (\n                      <option key={type.value} value={type.value}>{type.label}</option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Value */}\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Value</label>\n                  {renderValueInput()}\n                </div>\n\n                {/* Enabled */}\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"isEnabled\"\n                    checked={formData.isEnabled}\n                    onChange={(e) => setFormData(prev => ({ ...prev, isEnabled: e.target.checked }))}\n                    className=\"w-4 h-4 text-blue-600 rounded\"\n                  />\n                  <label htmlFor=\"isEnabled\" className=\"text-gray-300\">Enabled</label>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-800\">\n                  <button\n                    type=\"button\"\n                    onClick={resetForm}\n                    className=\"px-4 py-2 text-gray-400 hover:text-white transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={saving}\n                    className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 transition-colors\"\n                  >\n                    {saving ? 'Saving...' : (editingConfig ? 'Update' : 'Create')}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Configs List */}\n      {configs.length === 0 ? (\n        <div className=\"text-center py-12 bg-gray-900 rounded-lg\">\n          <p className=\"text-gray-400 mb-4\">No configurations yet</p>\n          <p className=\"text-gray-500 text-sm\">\n            Create your first configuration to manage app behavior remotely\n          </p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {Object.entries(groupedConfigs).map(([category, categoryConfigs]) => {\n            const isCollapsed = collapsedCategories.has(category)\n            return (\n            <div key={category} className=\"bg-gray-900 rounded-lg overflow-hidden\">\n              <button\n                onClick={() => {\n                  const newCollapsed = new Set(collapsedCategories)\n                  if (isCollapsed) {\n                    newCollapsed.delete(category)\n                  } else {\n                    newCollapsed.add(category)\n                  }\n                  setCollapsedCategories(newCollapsed)\n                }}\n                className=\"w-full px-4 py-3 bg-gray-800/50 border-b border-gray-800 flex items-center justify-between hover:bg-gray-800/70 transition-colors\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <svg\n                    className={`w-4 h-4 text-gray-400 transition-transform ${isCollapsed ? '' : 'rotate-90'}`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                  <h3 className=\"text-gray-300 font-medium\">{category}</h3>\n                  <span className=\"px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded-full\">\n                    {categoryConfigs.length}\n                  </span>\n                </div>\n              </button>\n              {!isCollapsed && (\n              <div className=\"divide-y divide-gray-800\">\n                {categoryConfigs.map((config) => (\n                  <div key={config.id} className=\"p-4 hover:bg-gray-800/30 transition-colors\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <code className=\"text-blue-400 font-mono text-sm\">{config.key}</code>\n                          {!config.isEnabled && (\n                            <span className=\"px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded\">\n                              Disabled\n                            </span>\n                          )}\n                          <span className={`px-2 py-0.5 text-xs rounded ${\n                            config.valueType === 'boolean' ? 'bg-purple-900/50 text-purple-300' :\n                            config.valueType === 'integer' ? 'bg-green-900/50 text-green-300' :\n                            config.valueType === 'decimal' ? 'bg-teal-900/50 text-teal-300' :\n                            config.valueType === 'json' ? 'bg-orange-900/50 text-orange-300' :\n                            config.valueType === 'image' ? 'bg-pink-900/50 text-pink-300' :\n                            'bg-blue-900/50 text-blue-300'\n                          }`}>\n                            {config.valueType}\n                          </span>\n                        </div>\n                        {config.label && (\n                          <p className=\"text-white text-sm font-medium\">{config.label}</p>\n                        )}\n                        {config.description && (\n                          <p className=\"text-gray-500 text-xs mt-0.5\">{config.description}</p>\n                        )}\n                        <div className=\"mt-2\">\n                          {config.valueType === 'image' && config.imageUrl ? (\n                            <img\n                              src={config.imageUrl}\n                              alt={config.key}\n                              className=\"h-16 w-16 object-cover rounded-lg border border-gray-700\"\n                            />\n                          ) : config.valueType === 'json' ? (\n                            <pre className=\"text-gray-300 text-xs bg-gray-800 p-2 rounded-lg overflow-x-auto max-w-md\">\n                              {formatValue(config)}\n                            </pre>\n                          ) : config.valueType === 'boolean' ? (\n                            <span className={`px-2 py-1 rounded text-sm ${\n                              config.booleanValue ? 'bg-green-900/50 text-green-300' : 'bg-red-900/50 text-red-300'\n                            }`}>\n                              {config.booleanValue ? 'true' : 'false'}\n                            </span>\n                          ) : (\n                            <span className=\"text-gray-300 text-sm font-mono\">{formatValue(config)}</span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <span className=\"text-gray-600 text-xs\">v{config.version}</span>\n                        <button\n                          onClick={() => handleEdit(config)}\n                          className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors\"\n                          title=\"Edit\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                          </svg>\n                        </button>\n                        <button\n                          onClick={() => handleDelete(config.id)}\n                          className=\"p-2 text-gray-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors\"\n                          title=\"Delete\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                          </svg>\n                        </button>\n                        <button\n                          onClick={() => {\n                            setTargetingConfig(config)\n                            setShowTargeting(true)\n                          }}\n                          className=\"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-900/30 rounded-lg transition-colors\"\n                          title=\"Targeting Rules\"\n                        >\n                          üéØ\n                        </button>\n                        <button\n                          onClick={() => {\n                            setTargetingConfig(config)\n                            setShowHistory(true)\n                          }}\n                          className=\"p-2 text-gray-400 hover:text-green-400 hover:bg-green-900/30 rounded-lg transition-colors\"\n                          title=\"Change History\"\n                        >\n                          üìú\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              )}\n            </div>\n          )})}\n        </div>\n      )}\n\n      {/* SDK Info */}\n      <div className=\"bg-gray-900 rounded-lg p-4\">\n        <h3 className=\"text-white font-medium mb-2\">SDK Integration</h3>\n        <p className=\"text-gray-400 text-sm mb-3\">\n          Fetch configurations in your mobile app using the SDK endpoint:\n        </p>\n        <code className=\"block bg-gray-800 text-green-400 text-sm p-3 rounded-lg font-mono\">\n          GET /api/business-config?category=optional\n        </code>\n        <p className=\"text-gray-500 text-xs mt-2\">\n          Include X-API-Key header for authentication. Response includes all enabled configs with their values.\n        </p>\n      </div>\n        </>\n      )}\n\n      {/* Targeting Modal */}\n      {showTargeting && targetingConfig && (\n        <BusinessConfigTargeting\n          targetingRules={targetingConfig.targetingRules}\n          defaultValue={targetingConfig.defaultValue}\n          valueType={targetingConfig.valueType}\n          onUpdate={async (targetingRules, defaultValue) => {\n            try {\n              await api.businessConfig.update(token, {\n                id: targetingConfig.id,\n                targetingRules,\n                defaultValue\n              } as any)\n              setShowTargeting(false)\n              fetchConfigs()\n            } catch (err) {\n              alert('Failed to update targeting rules: ' + (err instanceof Error ? err.message : 'Unknown error'))\n            }\n          }}\n          onClose={() => {\n            setShowTargeting(false)\n            setTargetingConfig(null)\n          }}\n        />\n      )}\n\n      {/* History Modal */}\n      {showHistory && (\n        <BusinessConfigHistory\n          projectId={projectId}\n          configId={targetingConfig?.id}\n          token={token}\n          onClose={() => {\n            setShowHistory(false)\n            setTargetingConfig(null)\n          }}\n        />\n      )}\n\n      {/* Analytics Modal */}\n      {showAnalytics && (\n        <BusinessConfigAnalytics\n          projectId={projectId}\n          configKey={targetingConfig?.key}\n          token={token}\n          onClose={() => {\n            setShowAnalytics(false)\n            setTargetingConfig(null)\n          }}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}