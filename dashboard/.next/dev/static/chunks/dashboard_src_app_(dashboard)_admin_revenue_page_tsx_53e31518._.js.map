{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/app/%28dashboard%29/admin/revenue/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useAuth } from '@/components/AuthProvider'\nimport { api } from '@/lib/api'\n\nexport default function AdminRevenuePage() {\n  const { token } = useAuth()\n  const [revenue, setRevenue] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (!token) return\n\n    api.admin.getRevenue(token)\n      .then((data) => {\n        setRevenue(data.revenue)\n        setLoading(false)\n      })\n      .catch(() => {\n        setLoading(false)\n      })\n  }, [token])\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-gray-400\">Loading revenue data...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-white mb-2\">Revenue Dashboard</h1>\n        <p className=\"text-gray-400\">Track subscription revenue and payment status</p>\n      </div>\n\n      {/* Revenue Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-gray-900 rounded-lg p-6 border border-green-600\">\n          <div className=\"text-sm text-gray-400 mb-2\">Total Revenue</div>\n          <div className=\"text-4xl font-bold text-green-400\">\n            ${revenue?.totalRevenue?.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) || '0.00'}\n          </div>\n          <div className=\"text-xs text-gray-500 mt-2\">All time</div>\n        </div>\n\n        <div className=\"bg-gray-900 rounded-lg p-6\">\n          <div className=\"text-sm text-gray-400 mb-2\">Active Subscriptions</div>\n          <div className=\"text-3xl font-bold text-white\">\n            {revenue?.activeSubscriptions || 0}\n          </div>\n        </div>\n\n        <div className=\"bg-gray-900 rounded-lg p-6\">\n          <div className=\"text-sm text-gray-400 mb-2\">Expired Subscriptions</div>\n          <div className=\"text-3xl font-bold text-yellow-400\">\n            {revenue?.expiredSubscriptions || 0}\n          </div>\n        </div>\n\n        <div className=\"bg-gray-900 rounded-lg p-6\">\n          <div className=\"text-sm text-gray-400 mb-2\">Disabled Subscriptions</div>\n          <div className=\"text-3xl font-bold text-red-400\">\n            {revenue?.disabledSubscriptions || 0}\n          </div>\n        </div>\n      </div>\n\n      {/* Revenue by Plan */}\n      {revenue?.revenueByPlan && Object.keys(revenue.revenueByPlan).length > 0 && (\n        <div className=\"bg-gray-900 rounded-lg p-6\">\n          <h2 className=\"text-xl font-semibold text-white mb-4\">Revenue by Plan</h2>\n          <div className=\"space-y-4\">\n            {Object.entries(revenue.revenueByPlan).map(([planName, amount]: [string, any]) => (\n              <div key={planName} className=\"flex items-center justify-between p-4 bg-gray-800 rounded\">\n                <div>\n                  <div className=\"text-white font-medium capitalize\">{planName} Plan</div>\n                  <div className=\"text-sm text-gray-400\">\n                    {revenue.planCounts[planName] || 0} subscriptions\n                  </div>\n                </div>\n                <div className=\"text-2xl font-bold text-green-400\">\n                  ${amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Note */}\n      <div className=\"bg-blue-900/20 border border-blue-600 rounded-lg p-4\">\n        <p className=\"text-blue-400 text-sm\">\n          ðŸ’¡ Currently all subscriptions are Free Plan ($0). Revenue tracking is prepared for future paid plans (Pro, Team).\n        </p>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,6JAAO;IACzB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,0UAAQ,EAAM;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,0UAAQ,EAAC;IAEvC,IAAA,2UAAS;sCAAC;YACR,IAAI,CAAC,OAAO;YAEZ,wIAAG,CAAC,KAAK,CAAC,UAAU,CAAC,OAClB,IAAI;8CAAC,CAAC;oBACL,WAAW,KAAK,OAAO;oBACvB,WAAW;gBACb;6CACC,KAAK;8CAAC;oBACL,WAAW;gBACb;;QACJ;qCAAG;QAAC;KAAM;IAEV,IAAI,SAAS;QACX,qBACE,8VAAC;YAAI,WAAU;sBACb,cAAA,8VAAC;gBAAI,WAAU;0BAAgB;;;;;;;;;;;IAGrC;IAEA,qBACE,8VAAC;QAAI,WAAU;;0BACb,8VAAC;;kCACC,8VAAC;wBAAG,WAAU;kCAAqC;;;;;;kCACnD,8VAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAI/B,8VAAC;gBAAI,WAAU;;kCACb,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,8VAAC;gCAAI,WAAU;;oCAAoC;oCAC/C,SAAS,cAAc,eAAe,SAAS;wCAAE,uBAAuB;wCAAG,uBAAuB;oCAAE,MAAM;;;;;;;0CAE9G,8VAAC;gCAAI,WAAU;0CAA6B;;;;;;;;;;;;kCAG9C,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,8VAAC;gCAAI,WAAU;0CACZ,SAAS,uBAAuB;;;;;;;;;;;;kCAIrC,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,8VAAC;gCAAI,WAAU;0CACZ,SAAS,wBAAwB;;;;;;;;;;;;kCAItC,8VAAC;wBAAI,WAAU;;0CACb,8VAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,8VAAC;gCAAI,WAAU;0CACZ,SAAS,yBAAyB;;;;;;;;;;;;;;;;;;YAMxC,SAAS,iBAAiB,OAAO,IAAI,CAAC,QAAQ,aAAa,EAAE,MAAM,GAAG,mBACrE,8VAAC;gBAAI,WAAU;;kCACb,8VAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8VAAC;wBAAI,WAAU;kCACZ,OAAO,OAAO,CAAC,QAAQ,aAAa,EAAE,GAAG,CAAC,CAAC,CAAC,UAAU,OAAsB,iBAC3E,8VAAC;gCAAmB,WAAU;;kDAC5B,8VAAC;;0DACC,8VAAC;gDAAI,WAAU;;oDAAqC;oDAAS;;;;;;;0DAC7D,8VAAC;gDAAI,WAAU;;oDACZ,QAAQ,UAAU,CAAC,SAAS,IAAI;oDAAE;;;;;;;;;;;;;kDAGvC,8VAAC;wCAAI,WAAU;;4CAAoC;4CAC/C,OAAO,cAAc,CAAC,SAAS;gDAAE,uBAAuB;gDAAG,uBAAuB;4CAAE;;;;;;;;+BARhF;;;;;;;;;;;;;;;;0BAiBlB,8VAAC;gBAAI,WAAU;0BACb,cAAA,8VAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAM7C;GA/FwB;;QACJ,6JAAO;;;KADH"}}]
}