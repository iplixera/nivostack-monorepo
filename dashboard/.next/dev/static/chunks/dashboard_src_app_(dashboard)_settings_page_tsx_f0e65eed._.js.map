{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karim-f/Code/nivostack-monorepo-checkout/dashboard/src/app/%28dashboard%29/settings/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useAuth } from '@/components/AuthProvider'\nimport { api } from '@/lib/api'\nimport Link from 'next/link'\n\ntype SettingsTab = 'features' | 'performance'\n\ntype FeatureFlags = {\n  sdkEnabled: boolean\n  apiTracking: boolean\n  screenTracking: boolean\n  crashReporting: boolean\n  logging: boolean\n  deviceTracking: boolean\n  sessionTracking: boolean\n  businessConfig: boolean\n  localization: boolean\n  offlineSupport: boolean\n  batchEvents: boolean\n}\n\ntype SubscriptionStatus = {\n  trialActive: boolean\n  planName: string\n}\n\ntype SdkSettings = {\n  maxLogQueueSize: number\n  maxTraceQueueSize: number\n  flushIntervalSeconds: number\n  enableBatching: boolean\n}\n\nexport default function DevBridgeSettingsPage() {\n  const { token } = useAuth()\n  const [activeTab, setActiveTab] = useState<SettingsTab>('features')\n  const [featureFlags, setFeatureFlags] = useState<FeatureFlags | null>(null)\n  const [featureFlagsLoading, setFeatureFlagsLoading] = useState(true)\n  const [subscriptionStatus, setSubscriptionStatus] = useState<SubscriptionStatus | null>(null)\n  const [sdkSettings, setSdkSettings] = useState<SdkSettings | null>(null)\n  const [sdkSettingsLoading, setSdkSettingsLoading] = useState(true)\n  const [currentProjectId, setCurrentProjectId] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (token) {\n      loadFeatureFlags()\n      loadSubscriptionStatus()\n      loadSdkSettings()\n    }\n  }, [token])\n\n  const loadFeatureFlags = async () => {\n    if (!token) return\n    try {\n      setFeatureFlagsLoading(true)\n      // Get first project's feature flags as example (feature flags are per-project)\n      const projectsRes = await api.projects.list(token)\n      if (projectsRes.projects && projectsRes.projects.length > 0) {\n        const firstProject = projectsRes.projects[0]\n        setCurrentProjectId(firstProject.id)\n        const response = await api.featureFlags.get(firstProject.id, token)\n        setFeatureFlags(response.flags as FeatureFlags)\n      }\n    } catch (error) {\n      console.error('Failed to load feature flags:', error)\n    } finally {\n      setFeatureFlagsLoading(false)\n    }\n  }\n\n  const loadSdkSettings = async () => {\n    if (!token) return\n    try {\n      setSdkSettingsLoading(true)\n      // Get first project's SDK settings (settings are per-project)\n      const projectsRes = await api.projects.list(token)\n      if (projectsRes.projects && projectsRes.projects.length > 0) {\n        const firstProject = projectsRes.projects[0]\n        setCurrentProjectId(firstProject.id)\n        const res = await fetch(`/api/sdk-settings?projectId=${firstProject.id}`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        })\n        const data = await res.json()\n        if (data.settings) {\n          setSdkSettings({\n            maxLogQueueSize: data.settings.maxLogQueueSize || 100,\n            maxTraceQueueSize: data.settings.maxTraceQueueSize || 50,\n            flushIntervalSeconds: data.settings.flushIntervalSeconds || 30,\n            enableBatching: data.settings.enableBatching ?? true,\n          })\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load SDK settings:', error)\n    } finally {\n      setSdkSettingsLoading(false)\n    }\n  }\n\n  const updateSdkSetting = async (updates: Partial<SdkSettings>) => {\n    if (!token || !currentProjectId || !sdkSettings) return\n    try {\n      const res = await fetch('/api/sdk-settings', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ projectId: currentProjectId, ...updates })\n      })\n      if (res.ok) {\n        setSdkSettings(prev => prev ? { ...prev, ...updates } : prev)\n      }\n    } catch (error) {\n      console.error('Failed to update SDK settings:', error)\n      alert('Failed to update SDK settings. Please try again.')\n    }\n  }\n\n  const loadSubscriptionStatus = async () => {\n    if (!token) return\n    try {\n      const response = await api.subscription.get(token)\n      setSubscriptionStatus({\n        trialActive: response.subscription?.trialEndDate ? new Date(response.subscription.trialEndDate) > new Date() : false,\n        planName: response.subscription?.plan?.name || 'free'\n      })\n    } catch (error) {\n      console.error('Failed to load subscription status:', error)\n    }\n  }\n\n  const updateFeatureFlag = async (key: keyof FeatureFlags, value: boolean) => {\n    if (!token || !featureFlags) return\n    try {\n      // Get first project to update (feature flags are per-project)\n      const projectsRes = await api.projects.list(token)\n      if (projectsRes.projects && projectsRes.projects.length > 0) {\n        const firstProject = projectsRes.projects[0]\n        await api.featureFlags.update(firstProject.id, token, { [key]: value })\n        setFeatureFlags({ ...featureFlags, [key]: value })\n      } else {\n        alert('No projects found. Please create a project first.')\n      }\n    } catch (error) {\n      console.error('Failed to update feature flag:', error)\n      alert('Failed to update feature flag. Please try again.')\n    }\n  }\n\n  if (!token) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-gray-400\">Please log in to access settings.</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-white mb-2\">DevBridge Settings</h1>\n        <p className=\"text-gray-400\">Manage global DevBridge configuration and features</p>\n      </div>\n\n      {/* Settings Tabs */}\n      <div className=\"border-b border-gray-800\">\n        <nav className=\"flex space-x-8\">\n          <button\n            onClick={() => setActiveTab('features')}\n            className={`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeTab === 'features'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-white'\n            }`}\n          >\n            Product Features\n          </button>\n          <button\n            onClick={() => setActiveTab('performance')}\n            className={`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${\n              activeTab === 'performance'\n                ? 'border-blue-500 text-blue-400'\n                : 'border-transparent text-gray-400 hover:text-white'\n            }`}\n          >\n            Performance Settings\n          </button>\n        </nav>\n      </div>\n\n      {/* Product Features Tab */}\n      {activeTab === 'features' && (\n        <div className=\"space-y-6\">\n          {/* Subscription Status Warning */}\n          {subscriptionStatus && !subscriptionStatus.trialActive && (\n            <div className=\"bg-red-900/20 border-l-4 border-red-600 p-4 rounded\">\n              <div className=\"flex items-start gap-3\">\n                <span className=\"text-2xl\">‚ö†Ô∏è</span>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-red-400 font-semibold mb-1\">Trial Expired</h3>\n                  <p className=\"text-gray-300 text-sm mb-3\">\n                    Your free trial has ended. Features are disabled and no new data will be collected. \n                    Upgrade your subscription to re-enable all features.\n                  </p>\n                  <Link\n                    href=\"/subscription\"\n                    className=\"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm\"\n                  >\n                    View Subscription\n                  </Link>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"bg-gray-900 rounded-lg p-4\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <span className=\"text-2xl\">‚öôÔ∏è</span>\n              <div>\n                <h3 className=\"text-white font-medium\">SDK Feature Flags</h3>\n                <p className=\"text-gray-400 text-sm\">Control which features are enabled in the SDK. Changes take effect on next app launch.</p>\n                {subscriptionStatus && !subscriptionStatus.trialActive && (\n                  <p className=\"text-red-400 text-sm mt-1\">\n                    ‚ö†Ô∏è Features are disabled due to expired trial subscription.\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {featureFlagsLoading ? (\n              <div className=\"flex items-center justify-center py-8\">\n                <svg className=\"animate-spin h-6 w-6 text-gray-400\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                </svg>\n                <span className=\"ml-2 text-gray-400\">Loading feature flags...</span>\n              </div>\n            ) : featureFlags ? (\n              <div className=\"space-y-6\">\n                {/* Master Kill Switch */}\n                <div className={`p-4 rounded-lg border-2 ${featureFlags.sdkEnabled ? 'bg-green-900/20 border-green-600' : 'bg-red-900/20 border-red-600'}`}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{featureFlags.sdkEnabled ? 'üü¢' : 'üî¥'}</span>\n                      <div>\n                        <p className=\"text-white font-medium\">SDK Enabled (Master Switch)</p>\n                        <p className={`text-sm ${featureFlags.sdkEnabled ? 'text-green-400' : 'text-red-400'}`}>\n                          {featureFlags.sdkEnabled\n                            ? 'SDK is active - all enabled features will work'\n                            : 'SDK is disabled - ALL functionality is turned off'}\n                        </p>\n                      </div>\n                    </div>\n                    <label className={`relative inline-flex items-center ${subscriptionStatus && !subscriptionStatus.trialActive ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}>\n                      <input\n                        type=\"checkbox\"\n                        checked={featureFlags.sdkEnabled}\n                        onChange={(e) => updateFeatureFlag('sdkEnabled', e.target.checked)}\n                        disabled={!!(subscriptionStatus && !subscriptionStatus.trialActive)}\n                        className=\"sr-only peer\"\n                      />\n                      <div className={`w-14 h-7 ${featureFlags.sdkEnabled ? 'bg-green-600' : 'bg-red-600'} peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all`}></div>\n                    </label>\n                  </div>\n                  {!featureFlags.sdkEnabled && (\n                    <p className=\"mt-3 text-sm text-red-300 bg-red-900/30 p-2 rounded\">\n                      Warning: When SDK is disabled, no data will be collected from mobile apps. API tracing, logging, screen tracking, and all other features will be completely inactive.\n                    </p>\n                  )}\n                </div>\n\n                {/* Core Features */}\n                <div className={featureFlags.sdkEnabled && (!subscriptionStatus || subscriptionStatus.trialActive) ? '' : 'opacity-50 pointer-events-none'}>\n                  <h4 className=\"text-gray-400 text-sm font-medium mb-3\">\n                    Core Features \n                    {!featureFlags.sdkEnabled && <span className=\"text-red-400\"> (SDK Disabled)</span>}\n                    {subscriptionStatus && !subscriptionStatus.trialActive && <span className=\"text-red-400\"> (Trial Expired)</span>}\n                  </h4>\n                  <div className={`space-y-3 ${subscriptionStatus && !subscriptionStatus.trialActive ? 'pointer-events-none opacity-50' : ''}`}>\n                    {[\n                      { key: 'apiTracking', icon: 'üì°', name: 'API Tracking', desc: 'Track HTTP requests and responses' },\n                      { key: 'screenTracking', icon: 'üì±', name: 'Screen Tracking', desc: 'Track screen views and navigation flow' },\n                      { key: 'crashReporting', icon: 'üí•', name: 'Crash Reporting', desc: 'Capture and report app crashes' },\n                      { key: 'logging', icon: 'üìù', name: 'Logging', desc: 'Collect and send application logs' },\n                      { key: 'deviceTracking', icon: 'üì±', name: 'Device Tracking', desc: 'Register and track devices' },\n                      { key: 'sessionTracking', icon: 'üîÑ', name: 'Session Tracking', desc: 'Track app sessions with context' },\n                      { key: 'businessConfig', icon: '‚öôÔ∏è', name: 'Business Config', desc: 'Remote configuration management' },\n                      { key: 'localization', icon: 'üåê', name: 'Localization', desc: 'Remote translation management' },\n                      { key: 'offlineSupport', icon: 'üì¥', name: 'Offline Support', desc: 'Queue events when offline' },\n                      { key: 'batchEvents', icon: 'üì¶', name: 'Batch Events', desc: 'Batch events before sending' },\n                    ].map((feature) => (\n                      <div key={feature.key} className=\"flex items-center justify-between p-3 bg-gray-800 rounded-lg\">\n                        <div className=\"flex items-center gap-3\">\n                          <span className=\"text-lg\">{feature.icon}</span>\n                          <div>\n                            <p className=\"text-white text-sm font-medium\">{feature.name}</p>\n                            <p className=\"text-gray-500 text-xs\">{feature.desc}</p>\n                          </div>\n                        </div>\n                        <label className={`relative inline-flex items-center ${subscriptionStatus && !subscriptionStatus.trialActive ? 'cursor-not-allowed opacity-50' : 'cursor-pointer'}`}>\n                          <input\n                            type=\"checkbox\"\n                            checked={featureFlags[feature.key as keyof FeatureFlags] as boolean}\n                            onChange={(e) => updateFeatureFlag(feature.key as keyof FeatureFlags, e.target.checked)}\n                            disabled={!!(subscriptionStatus && !subscriptionStatus.trialActive)}\n                            className=\"sr-only peer\"\n                          />\n                          <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-gray-400 text-center py-8\">Failed to load feature flags</p>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Performance Settings Tab */}\n      {activeTab === 'performance' && (\n        <div className=\"space-y-6\">\n          <div className=\"bg-gray-900 rounded-lg p-6\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <span className=\"text-2xl\">‚ö°</span>\n              <div>\n                <h3 className=\"text-white font-medium\">Performance Settings</h3>\n                <p className=\"text-gray-400 text-sm\">Configure data retention and performance optimizations</p>\n                <p className=\"text-yellow-400 text-xs mt-1\">‚ö†Ô∏è Note: Performance settings are managed per-project. These settings apply to your first project. To manage settings for other projects, go to the project settings.</p>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Queue and Batching Settings */}\n              {sdkSettingsLoading ? (\n                <div className=\"flex items-center justify-center py-8\">\n                  <svg className=\"animate-spin h-6 w-6 text-gray-400\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  <span className=\"ml-2 text-gray-400\">Loading SDK settings...</span>\n                </div>\n              ) : sdkSettings ? (\n                <div className=\"p-4 bg-gray-800 rounded-lg\">\n                  <h4 className=\"text-white font-medium mb-2\">Queue and Batching</h4>\n                  <p className=\"text-gray-400 text-sm mb-4\">\n                    Configure batching and queue behavior for SDK event collection.\n                  </p>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between p-3 bg-gray-700 rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-lg\">üì¶</span>\n                        <div>\n                          <p className=\"text-white text-sm font-medium\">Enable Batching</p>\n                          <p className=\"text-gray-500 text-xs\">Batch events before sending to reduce network calls</p>\n                        </div>\n                      </div>\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\n                        <input\n                          type=\"checkbox\"\n                          checked={sdkSettings.enableBatching}\n                          onChange={(e) => updateSdkSetting({ enableBatching: e.target.checked })}\n                          className=\"sr-only peer\"\n                        />\n                        <div className=\"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                      </label>\n                    </div>\n\n                    <div className=\"p-3 bg-gray-700 rounded-lg\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <span className=\"text-lg\">üìù</span>\n                        <div>\n                          <p className=\"text-white text-sm font-medium\">Max Log Queue Size</p>\n                          <p className=\"text-gray-500 text-xs\">Maximum logs to queue before flushing</p>\n                        </div>\n                      </div>\n                      <input\n                        type=\"number\"\n                        value={sdkSettings.maxLogQueueSize}\n                        onChange={(e) => updateSdkSetting({ maxLogQueueSize: parseInt(e.target.value) || 100 })}\n                        min=\"10\"\n                        max=\"1000\"\n                        className=\"w-full px-3 py-2 bg-gray-600 text-white rounded border border-gray-500 text-sm focus:border-blue-500 focus:outline-none\"\n                      />\n                    </div>\n\n                    <div className=\"p-3 bg-gray-700 rounded-lg\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <span className=\"text-lg\">üì°</span>\n                        <div>\n                          <p className=\"text-white text-sm font-medium\">Max Trace Queue Size</p>\n                          <p className=\"text-gray-500 text-xs\">Maximum API traces to queue before flushing</p>\n                        </div>\n                      </div>\n                      <input\n                        type=\"number\"\n                        value={sdkSettings.maxTraceQueueSize}\n                        onChange={(e) => updateSdkSetting({ maxTraceQueueSize: parseInt(e.target.value) || 50 })}\n                        min=\"5\"\n                        max=\"500\"\n                        className=\"w-full px-3 py-2 bg-gray-600 text-white rounded border border-gray-500 text-sm focus:border-blue-500 focus:outline-none\"\n                      />\n                    </div>\n\n                    <div className=\"p-3 bg-gray-700 rounded-lg\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <span className=\"text-lg\">‚è±Ô∏è</span>\n                        <div>\n                          <p className=\"text-white text-sm font-medium\">Flush Interval (seconds)</p>\n                          <p className=\"text-gray-500 text-xs\">How often to send queued events</p>\n                        </div>\n                      </div>\n                      <input\n                        type=\"number\"\n                        value={sdkSettings.flushIntervalSeconds}\n                        onChange={(e) => updateSdkSetting({ flushIntervalSeconds: parseInt(e.target.value) || 30 })}\n                        min=\"5\"\n                        max=\"300\"\n                        className=\"w-full px-3 py-2 bg-gray-600 text-white rounded border border-gray-500 text-sm focus:border-blue-500 focus:outline-none\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"p-4 bg-gray-800 rounded-lg\">\n                  <p className=\"text-gray-400 text-sm\">No projects found. Please create a project first to configure SDK settings.</p>\n                </div>\n              )}\n\n              <div className=\"p-4 bg-gray-800 rounded-lg\">\n                <h4 className=\"text-white font-medium mb-2\">Data Retention</h4>\n                <p className=\"text-gray-400 text-sm mb-4\">\n                  Configure how long data is retained before automatic cleanup. This helps manage storage costs and improve performance.\n                </p>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-300 text-sm\">API Traces Retention</span>\n                    <span className=\"text-gray-400 text-sm\">30 days (default)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-300 text-sm\">Logs Retention</span>\n                    <span className=\"text-gray-400 text-sm\">30 days (default)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-300 text-sm\">Sessions Retention</span>\n                    <span className=\"text-gray-400 text-sm\">90 days (default)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-300 text-sm\">Crashes Retention</span>\n                    <span className=\"text-gray-400 text-sm\">365 days (default)</span>\n                  </div>\n                </div>\n                <p className=\"text-gray-500 text-xs mt-4\">\n                  üí° Data retention settings are managed per subscription plan. Upgrade to customize retention periods.\n                </p>\n              </div>\n\n              <div className=\"p-4 bg-gray-800 rounded-lg\">\n                <h4 className=\"text-white font-medium mb-2\">Performance Optimizations</h4>\n                <p className=\"text-gray-400 text-sm mb-4\">\n                  Enable performance optimizations to improve dashboard loading times and reduce database load.\n                </p>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <span className=\"text-gray-300 text-sm\">Enable Caching</span>\n                      <p className=\"text-gray-500 text-xs\">Cache frequently accessed data</p>\n                    </div>\n                    <label className=\"relative inline-flex items-center cursor-pointer\">\n                      <input type=\"checkbox\" defaultChecked className=\"sr-only peer\" />\n                      <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}